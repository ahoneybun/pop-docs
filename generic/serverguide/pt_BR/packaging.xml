<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN" 
	"http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
<!ENTITY % globalent SYSTEM "../../../libs/global.ent">
%globalent;
<!ENTITY % cdo-C SYSTEM "../../../libs/cdo-C.ent">
%cdo-C;
<!ENTITY % gnome-menus-C SYSTEM "../../../ubuntu/libs/gnome-menus-C.ent">
%gnome-menus-C;
<!ENTITY % xinclude SYSTEM "../../../libs/xinclude.mod">
%xinclude;
<!ENTITY language "&EnglishAmerican;">
<!ENTITY ubuntu '<phrase>Ubuntu</phrase>'>
]>
<chapter id="package-management" status="complete">
	<title>Gerenciador de Pacotes</title>
        <para>Uma característica do Ubuntu é um sistema que facilita o gerenciamento de pacotes, sua instalação, atualização, configuração e remoção de software. Além de fornecer acesso a uma base organizada de mais de 17.000 pacotes de software para seu computador Ubuntu, o Gerenciador de Pacotes também inclue a capacidade de resolução de dependência e procura por atualizações de software.</para>
        <para>Várias ferramentas estão disponíveis para interagir com o sistema de gerência de pacotes do Ubuntu, de utilitários simples em linha de comando que facilmente pode ser automatizado por administradores de sistema, a uma interface gráfica simples que é fácil de usar por novos usuários Ubuntu.</para>
  <sect1 id="package-management-introduction" status="complete">
	<title>Introdução</title>
        <para>O sistema de gerenciamento de pacotes do Ubuntu é derivado do mesmo sistema usado na distribuição Debian GNU/Linux. Os pacotes contém todos os arquivos necessário, meta-dados, e instruções para implementar funcionalidades particulares ou softwares em seu computador Ubuntu.</para>
        <para>Os pacotes Debian, tipicamente possuem a extensão ".deb" e como é de se esperar, possuem <emphasis role="italics">repositorios</emphasis> que têm coleções de pacotes que podem ser encontrados na forma de midias, tais como CD-ROM ou on-lines. Pacotes são, normalmente, binários pré-compilados; assim a instalação é rápida, sem a necessidade de compilar o software.</para>
        <para>Grande número de aplicativos (pacotes) requerem uma complexa árvore de <emphasis role="italics">dependências</emphasis>. Estas dependências são informações adicionais necessárias para a correta execução de determinado pacote. Por exemplo, o pacote sintetizador de fala <application>Festival</application> depende do pacote <application>festvox-kalpc16k</application>, que supre com uma das vozes utilizada pelo programa. Para que <application>Festival</application> funcione, todas as dependências devem ser instaladas em conjunto com o pacote principal, Festival. O gerenciador de pacotes do Ubuntu o faz automaticamete.</para>
  </sect1>
  <sect1 id="apt-get" status="complete">
	<title>Apt-Get</title>
        <para>O comando <application>apt-get</application> é uma poderosa ferramenta de trabalho presente no Ubuntu. <emphasis>Advanced Packaging Tool</emphasis> (APT) ou Avançada Ferramenta de Pacotes, possui funcionalidades tais como instalação de novos pacotes de software, atualização de pacotes existentes, atualização da lista de pacotes e atualização do sistema Ubuntu como um todo.</para>
        <para>Essencialmente uma ferramenta em linha de comando, <application>apt-get</application> possui numerosas vantagens, para administradores de servidor, sobre outras ferramentas de gerenciamento de pacotes existentes no Ubuntu. Algumas dessas vantagens é a facilidade de uso em um simples terminal de conecção (SSH) e a capacidade de ser usado por scripts de administração de sistema que, por sua vez, podem ser automatizados pela ferramenta de ações agendadas <application>cron</application>.</para>
        <para>Outros exemplos populares de uso do <application>apt-get</application>:<itemizedlist>
               <listitem>
                <para><emphasis role="bold">Instalando um Pacote</emphasis>: A instalação de um pacote utilizando a ferramenta <application>apt-get</application> é muito simples. Por exemplo, para instalar o scanner de rede <emphasis role="italics">nmap</emphasis>, digite: <screen>
<command>sudo apt-get install nmap</command>
</screen></para>
                </listitem>
                <listitem>
                <para><emphasis role="bold">Removendo um Pacote</emphasis>: Para remover um pacote ou pacotes não tem rodeios, o processo é simples. Para remover o pacote nmap instalado no exemplo anterior, digite: <screen>
<command>sudo apt-get remove nmap</command>
</screen></para>
                <tip>
                <para><emphasis role="bold">Multiplos Pacotes</emphasis>: Para especificar multiplos pacotes a serem instalados ou removidos, separe-os por espaços.</para>
                </tip>
                </listitem>
                <listitem>
                <para><emphasis role="bold">Atualizando a Lista de Pacotes</emphasis>: A lista de pacotes do APT é essencialmente um bando de dados com os pacotes disponíveis em repositórios definidos no arquivo <filename>/etc/apt/sources.list</filename>. Para atualizar a lista local de pacotes com as ultimas alterações feitas no(s) repositorio(s), digite: <screen>
<command>sudo apt-get update</command>
</screen></para>
                </listitem>
                <listitem>
                <para><emphasis role="bold">Atualizando Todos os Pacotes do Sistema</emphasis>: Com o tempo, versões atualizadas de pacotes atualmente instalado em seu computador podem tornar-se disponíveis nos repositórios de pacotes (atualizações de segurança, por exemplo). Para atualizar seu sistema, primeiro atualize a base de dados de pacotes e então digite: <screen>
<command>sudo apt-get upgrade</command>
</screen></para>
                <para>Se um pacote necessitar que seja instalada ou removida uma nova dependência quando realizar a atualização, ele não será atualizado pelo comando <emphasis>upgrade</emphasis>.  Para tal ação será necessário o uso do comando <emphasis role="italics">dist-upgrade</emphasis>.</para>
                <para>
                Also, you may upgrade your entire Ubuntu system from one revision to another with dist-upgrade.  For example, to upgrade from Ubuntu version 5.10 to version &distro-rev;, you would first ensure the version &distro-rev; repositories replace the existing 5.10 repositories in your computer's <filename>/etc/apt/sources.list</filename>, then simply issue the <application>apt-get update</application> command as detailed above, and finally, perform the actual upgrade by typing:
<screen>
<command>sudo apt-get dist-upgrade</command>
</screen>               
                </para>
                <para>Após passado um tempo considerável, seu computador estará atualizado para a nova revisão. Tipicamente, alguns passos de pós-melhora são exigidos como detalhado nas notas para atualização de revisões.</para>
                <para>As ações do comando <application>apt-get</application>, tais como isntalação e remoção de pacotes, são registradas no arquivo de log <filename>/var/log/dpkg.log</filename>.</para>
                </listitem>
        </itemizedlist></para>
		<para>Para mais informações sobre o uso do APT, leia o detalhado <ulink url="&debian-apt;">Manual APT do Usuário Debian</ulink> ou digite: <screen>apt-get help</screen></para>
  </sect1>

  <sect1 id="aptitude" status="complete">
	<title>Aptitude</title>
        <para><application>Aptitude</application> é uma interface a base de texto controlada por menus, do sistema <emphasis>Advanced Packaging Tool</emphasis> (APT). Muitas funções comuns de um gerenciador de pacotes, tais como instalação, remoção e atualização são executadas pelo <application>Aptitude</application> por simples comandos, os quais são tipicamente grafados em letras minúsculas.</para>
        <para><application>Aptitude</application> é a melhor suíte para uso em ambiente não gráfico ou modo-texto, assegurando o funcionamento adequado das teclas de comando. Caso queira utilizar o <application>Aptitude</application> a partir de seu usuário padrão, faça uso do seguinte comando: <screen>
<command>sudo aptitude</command>
</screen></para>
        <para>Quando o <application>Aptitude</application> iniciar, você poderá ver um menu no topo da janela e dois paineis abaixo do menu. O painel de cima contém as categorias dos pacotes, tais como <emphasis role="italics">Novos Pacotes</emphasis> e <emphasis role="italics">Pacotes Não Instalados</emphasis>. No painel inferior aparecerá informações relacionadas a categoria selecionada ou pacote selecionado no painel acima.</para>
        <para>Usando o <application>Aptitude</application> para gerenciar pacotes é relativamente rápido e sua interface torna tarefas comuns algo simples. O seguir, são exemplos de funções populares no gerenciamento de pacotes realizadas pelo <application>Aptitude</application>:</para>
        <itemizedlist>
               <listitem>
                <para><emphasis role="bold">Instalando Pacotes</emphasis>: Para instalar um pacote, localize o pacote em Pacotes Não Instalados, por exemplo, use as teclas setas e pressione <keycap>ENTER</keycap>, selecione o pacote que deseja instalar. Após selecionar o pacote que deseja instalar, pressione a tecla <keycap>+</keycap>, assim o pacote ficará <emphasis role="italics">verde</emphasis>, isto indica que foi marcado para instalação. Agora pressione <keycap>g</keycap> e uma lista das ações lhe será apresentada. Pressione <keycap>g</keycap> novamente e você será solicitado a torna-se "root" para que o processo tenha continuidade. Pressione <keycap>ENTER</keycap> e forneça a senha de "root" solicitada no prompt Password:. Finalmente, pressione <keycap>g</keycap> mais uma vez para que o processo de baixar pacote tenha início. Pressione <keycap>ENTER</keycap> para a opção <emphasis role="italics">Continue</emphasis> e o processo de baixar e instalar do pacote terá início.</para>
               </listitem>
               <listitem>
                <para><emphasis role="bold">Removendo Pacotes</emphasis>: Para remover um pacote, localize-o em Pacotes Instalados, utilizando as setas do teclado e pressione <keycap>ENTER</keycap> e selecione o pacote que deseja remover. Após seleciona-lo, pressione <keycap>-</keycap> e o pacote mudará para a cor <emphasis role="italics">rosa</emphasis>, indicando assim que foi marcado para remoção. Agora pressione <keycap>g</keycap> e uma lista das ações lhe será apresentada. Pressione <keycap>g</keycap> novamente e você será solicitado a torna-se "root" para que o processo tenha continuidade. Pressione <keycap>ENTER</keycap> e forneça a senha de "root" solicitada no prompt Password:. Finalmente, pressione <keycap>g</keycap> mais uma vez para que o processo de remoção do pacote tenha início. Pressione <keycap>ENTER</keycap> para a opção <emphasis role="italics">Continue</emphasis> e o processo de remoção do pacote terá início.</para>
               </listitem>
               <listitem>
                <para><emphasis role="bold">Atualizando Lista de Pacotes</emphasis>: Para atualizar a base de dados de pacotes, pressione <keycap>u</keycap> e, logo em seguida, lhe será solicitado privilégios de "root". Pressione <keycap>ENTER</keycap> e forneça a senha de "root" no pronpt Password:. Pressione <keycap>ENTER</keycap> e o processo de baixar as atulizações e renovação da base de dados terá início.</para>
               </listitem>
               <listitem>
                <para><emphasis role="bold">Atualizando Pacotes</emphasis>: Para atualizar pacotes, atualize primeiro a lista de pacotes como descrito anteriormente e pressione a tecla <keycap>U</keycap> (shift + u) e todos os pacotes passíveis de atualização serão selecionados. Agora pressione <keycap>g</keycap> e lhe será apresentado um resumo das ações exigidas para o pacote. Pressione <keycap>g</keycap> novamente e você será solicitado a torna-se "root" para que o processo tenha continuidade. Pressione <keycap>ENTER</keycap> e forneça a senha de "root" solicitada no prompt Password:. Finalmente, pressione <keycap>g</keycap> mais uma vez para que o processo de baixar os pacotes tenha início. Pressione <keycap>ENTER</keycap> para a opção <emphasis role="italics">Continue</emphasis> e o processo de atualização dos pacotes terá início.</para>
               </listitem>
        </itemizedlist>
        <para>A primeira coluna de informação exibida na lista de pacote no painel superior, quando realmente vendo os pacotes, lista o estado atual do pacote, e usa a seguinte tecla para descrever o estado do pacote:<itemizedlist>
        <listitem>
        <para><emphasis role="bold">i</emphasis>: Pacote instalado.</para>
        </listitem>
        <listitem>
        <para><emphasis role="bold">c</emphasis>: Pacote não instalado, mas o pacotem possui configurações residuais no sistema</para>
        </listitem><listitem>
        <para><emphasis role="bold">p</emphasis>: Remover do sistema</para>
        </listitem><listitem>
        <para><emphasis role="bold">v</emphasis>: Pacote Virtual</para>
        </listitem><listitem>
        <para><emphasis role="bold">B</emphasis>: Pacote quebrado</para>
        </listitem><listitem>
        <para><emphasis role="bold">u</emphasis>: Arquivos desempacotados, mas o pacote não foi configurado</para>
        </listitem><listitem>
        <para><emphasis role="bold">C</emphasis>: Parcialmente configurado - Configuração fracassou e exige reparo</para>
        </listitem><listitem>
        <para><emphasis role="bold">H</emphasis>: Parcialmente instalado - A remoção fracassou e exige reparo</para>
        </listitem>
        </itemizedlist></para>
        <para>Para sair do Aptitude, basta pressionar a tecla <keycap>q</keycap> e confirmar que deseja sair. Outras opções estão disponíveis no menu pressionando a tecla <keycap>F10</keycap>.</para>
  </sect1>
	<sect1 id="configuration" status="complete">
		<title>Configuração</title>
          <para>A configuração dos repositórios do sistema <emphasis>Advanced Packaging Tool</emphasis> (APT) está localizada no arquivo de configuração /etc/apt/sources.list. Um exemplo deste arquivo está referido aqui, junto com informação sobre como adicionar ou retirar referências de repositório do arquivo.</para>
          <para><ulink url="../sample/sources.list">Aqui</ulink> há um exemplo de um típico arquivo <filename>/etc/apt/sources.list</filename>.</para>
          <para>Você pode editar o arquivo e habilitar repositórios ou desabilitar. Por exemplo, para desativar a opção de inserir o Ubuntu CD-ROM toda vez que for instalar um pacote, basta comentar a linha que descreve a mídia CD-ROM com um cifrão (#) no início da linha, como se segue:</para>
          <para>
<screen>
# por favor, não requisitar pelo CD-ROM
# deb cdrom:[Ubuntu 6.06 _Dapper Drake_ - Release i386 (20060329.1)]/ dapper main restricted
</screen>
          </para>
          
    </sect1>
	<sect1 id="extra-repositories" status="complete">
		<title>Repositórios Extras</title>
          <para>Além dos repositórios de pacotes oficialmente apoiados e disponibilizados para Ubuntu, ainda existem repositórios mantidos pela comunidade que adicionam milhares de pacotes extras, mas potenciais a instalação. Dois destes repositórios são bem populares, o <emphasis>Universe</emphasis> (mantidos pela comunidade) e o <emphasis>Multiverse</emphasis> (não-livre). Estes repositórios não são oficialmente suportados por Ubuntu, por isso não são habilitados por padrão, mas eles geralmente fornecem pacotes que são seguros para uso em seu computador Ubuntu.</para>
		  <note><para>Os pacotes no repositório Multiverse freqüentemente possuem licenças que os previnem quanto a distribuição em sistemas operacionais livres, podendo ser ilegais em seu localidade.</para></note>
          <warning>
          <para>Esteja ciente que nem o repositório <emphasis>Universe</emphasis> ou o <emphasis>Multiverse</emphasis> contém pacotes oficialmente suportados. Em particular, talvez não seja seguro atualizar para estes pacotes</para>
          </warning>
          <para>Várias fontes de pacotes estão disponíveis, às vezes, oferecendo apenas um pacote, como no caso de fontes de pacotes fornecido pelo mantenedor de uma única aplicação. Você deve ser sempre cuidadoso e cauteloso quando usar fontes não padrão de pacotes. Pesquise a fonte e pacotes cuidadosamente antes de executar qualquer instalação, como algumas fontes de pacotes e seus respectivos pacotes podem deixar seu sistema instável ou mesmo inabilitálo de fazer alguma operação.</para>
          <para>Para habilitar os repositórios <emphasis>Universe</emphasis> e <emphasis>Multiverse</emphasis>, edite o arquivo <filename>/etc/apt/sources.list</filename> descomentando (removendo o símbolo de sustenido #) das seguintes linhas:</para>
          <para>
<screen>
# Quero os repositórios Multiverse e Universe disponíveis

deb http://archive.ubuntu.com/ubuntu dapper universe multiverse
deb-src http://archive.ubuntu.com/ubuntu dapper universe multiverse
</screen>
          </para>
          <sect2 id="extra-repositories-references" status="complete">
                <title>Referências</title>
                <para>
                <ulink url="https://wiki.ubuntu.com/AddingRepositoriesHowto">Como Adicionar Repositórios (Ubuntu Wiki)</ulink>
                </para>
          </sect2>
    </sect1>
	</chapter>

