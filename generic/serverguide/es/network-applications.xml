<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN" "http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
<!ENTITY % globalent SYSTEM "../../../libs/global.ent">
<!-- NAMES --><!ENTITY canonical-name "Canonical Ltd.">
<!ENTITY project-name "Ubuntu Documentation Project">
<!ENTITY ubuntu "<phrase>Ubuntu</phrase>">
<!-- VERSIONS --><!ENTITY distro-version "Dapper Drake">
<!ENTITY distro-rev "6.06 LTS">
<!ENTITY distro-release-date "June 2006">
<!ENTITY linux-kernel-version "2.6.15">
<!ENTITY gcc-version "4.0.3">
<!ENTITY glibc-version "2.3.6">
<!ENTITY python-version "2.4.3">
<!-- AUTHORS --><!ENTITY author-ubuntu-documentation-project SYSTEM "../common/authors/ubuntu-documentation-project.xml">
<!ENTITY author-christoph-haas SYSTEM "../common/authors/christoph-haas.xml">
<!ENTITY author-alexander-poslavsky SYSTEM "../common/authors/alexander-poslavsky.xml">
<!ENTITY author-alan-hood SYSTEM "../common/authors/alan-hood.xml">
<!ENTITY author-johnathon-hornbeck SYSTEM "../common/authors/johnathon-hornbeck.xml">
<!ENTITY author-nick-loeve SYSTEM "../common/authors/nick-loeve.xml">
<!ENTITY author-gordon-ingram SYSTEM "../common/authors/gordon-ingram.xml">
<!ENTITY author-sean-wheller SYSTEM "../common/authors/sean-wheller.xml">
<!ENTITY author-enrico-zini SYSTEM "../common/authors/enrico-zini.xml">
<!ENTITY author-kevin-muligan SYSTEM "../common/authors/kevin-muligan.xml">
<!ENTITY author-ari-torhamo SYSTEM "../common/authors/ari-torhamo.xml">
<!ENTITY author-jeff-schering SYSTEM "../common/authors/jeff-schering.xml">
<!ENTITY author-corey-burger SYSTEM "../common/authors/corey-burger.xml">
<!ENTITY author-niel-tallim SYSTEM "../common/authors/niel-tallim.xml">
<!ENTITY author-henry-meyerding SYSTEM "../common/authors/henry-meyerding.xml">
<!ENTITY author-matthew-east SYSTEM "../common/authors/matthew-east.xml">
<!ENTITY author-jerome-gotangco SYSTEM "../common/authors/jerome-gotangco.xml">
<!ENTITY author-johnathan-jesse SYSTEM "../common/authors/johnathan-jesse.xml">
<!ENTITY author-greg-taylor SYSTEM "../common/authors/greg-taylor.xml">
<!ENTITY author-troy-williams SYSTEM "../common/authors/troy-williams.xml">
<!ENTITY author-matt-galvin SYSTEM "../common/authors/matt-galvin.xml">
<!ENTITY author-robert-stoffers SYSTEM "../common/authors/robert-stoffers.xml">
<!ENTITY author-jordan-mantha SYSTEM "../common/authors/jordan-mantha.xml">
<!ENTITY author-venkat-raghavan SYSTEM "../common/authors/venkat-raghavan.xml">
<!ENTITY author-brian-burger SYSTEM "../common/authors/brian-burger.xml">
<!ENTITY author-rocco-stanzione SYSTEM "../common/authors/rocco-stanzione.xml">
<!ENTITY glossary SYSTEM "../common/C/glossary.xml">
<!-- LEGAL URLs --><!ENTITY gpl-url '<ulink url="http://www.gnu.org/licenses/gpl.html">GNU General Public License</ulink>'>
<!ENTITY cc "http://creativecommons.org/">
<!ENTITY cc-attrib '<ulink url="http://creativecommons.org/licenses/by-sa/2.0/">Attribution-ShareAlike 2.0</ulink>'>
<!ENTITY cc-fulldeed-url "http://creativecommons.org/licenses/by-sa/2.0/legalcode/">
<!ENTITY fdl-url '<ulink url="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License</ulink>'>
<!ENTITY cc-disclaimer-url "http://creativecommons.org/licenses/disclaimer-popup?lang=en">
<!-- CANONICAL URL RESOURCES --><!ENTITY canonical-url "http://www.canonical.com">
<!-- UBUNTU URL RESOURCES --><!ENTITY ubuntu-packages "http://packages.ubuntu.com">
<!ENTITY ubuntu-dpkgfile "ubuntu5.10.tar">
<!ENTITY ubuntu-web "http://www.ubuntu.com">
<!ENTITY ubuntu-main "http://www.ubuntu.com">
<!ENTITY ubuntu-download "http://www.ubuntu.com/download">
<!ENTITY ubuntu-forums "http://www.ubuntu.com/community/forums">
<!ENTITY ubuntu-components "http://www.ubuntu.com/ubuntu/components">
<!ENTITY ubuntu-lists "http://lists.ubuntu.com">
<!ENTITY ubuntu-wiki "http://wiki.ubuntu.com">
<!ENTITY ubuntu-irc "irc.freenode.net channel #ubuntu">
<!ENTITY ubuntu-bugzilla "https://launchpad.net/distros/ubuntu/+bugs">
<!ENTITY ubuntu-doc-bugs "https://launchpad.net/products/ubuntu-doc/+bugs">
<!ENTITY ubuntu-paidsupport "http://www.ubuntu.com/support/supportoptions/paidsupport">
<!ENTITY ubuntu-freesupport "http://www.ubuntu.com/support/supportoptions/freesupport">
<!ENTITY ubuntu-comments "http://www.ubuntuforums.org/showthread.php?p=21787">
<!ENTITY ubuntu-documentation "http://help.ubuntu.com">
<!ENTITY ubuntu-documentation-repos "https://docteam.ubuntu.com/repos/trunk">
<!ENTITY ubuntu-doc-team "https://wiki.ubuntu.com/DocumentationTeam">
<!ENTITY ubuntu-doc-list "http://lists.ubuntu.com/mailman/listinfo/ubuntu-doc">
<!ENTITY ubuntu-shipit "http://shipit.ubuntu.com">
<!ENTITY ubuntu-launchpad "https://launchpad.ubuntu.com">
<!ENTITY ubuntu-rosetta "https://launchpad.ubuntu.com/rosetta">
<!ENTITY ubuntu-planet "http://planet.ubuntu.com">
<!ENTITY ubuntu-philosophy "http://www.ubuntu.com/ubuntu/philosophy">
<!ENTITY ubuntu-participate "http://www.ubuntu.com/community/participate/">
<!-- UBUNTU WIKI RESOURCES --><!ENTITY wiki-UserDocumentation "https://wiki.ubuntu.com/UserDocumentation">
<!ENTITY restricted-formats "https://wiki.ubuntu.com/RestrictedFormats">
<!ENTITY wiki-RestrictedFormats "https://wiki.ubuntu.com/RestrictedFormats">
<!ENTITY wiki-XChatHowto "https://wiki.ubuntu.com/XChatHowto">
<!ENTITY wiki-RootSudo "https://wiki.ubuntu.com/RootSudo">
<!ENTITY wiki-HowToGetHelp "https://wiki.ubuntu.com/HowToGetHelp">
<!ENTITY transcode "https://wiki.ubuntu.com/DVDRippingandEncoding">
<!ENTITY wiki-Wine "https://wiki.ubuntu.com/Wine">
<!ENTITY wiki-Cedega "https://wiki.ubuntu.com/Cedega">
<!ENTITY wiki-Nano "https://wiki.ubuntu.com/NanoHowto">
<!ENTITY wiki-locoteams "https://wiki.ubuntu.com/LoCoTeamList">
<!ENTITY wiki-BasicCommands "https://wiki.ubuntu.com/BasicCommands">
<!ENTITY wiki-filepermissions "https://wiki.ubuntu.com/FilePermissions">
<!-- KUBUNTU URL RESOURCES --><!ENTITY kubuntu-web "http://www.kubuntu.org">
<!ENTITY kubuntu-main "http://www.kubuntu.org">
<!ENTITY kubuntu-download "http://releases.ubuntu.com/kubuntu/">
<!ENTITY kubuntu-packages "http://packages.ubuntu.com/breezy/">
<!ENTITY kubuntu-cdpackages-nodefault "http://people.ubuntu.com/~cjwatson/seeds/kubuntu-breezy/ship">
<!ENTITY kubuntu-lists "http://lists.ubuntu.com/archives/kubuntu-users/">
<!ENTITY kubuntu-lists-users "http://lists.ubuntu.com/mailman/listinfo/kubuntu-users/">
<!ENTITY kubuntu-lists-devel "http://lists.ubuntu.com/mailman/listinfo/kubuntu-devel/">
<!ENTITY kubuntu-mirrors "http://distrowatch.com/kubuntu">
<!ENTITY kubuntu-forums "http://ubuntuforums.org/forumdisplay.php?f=68">
<!ENTITY kubuntu-forums2 "http://kubuntuforums.net">
<!ENTITY kubuntu-wiki "http://www.ubuntu.com/wiki/Kubuntu">
<!ENTITY kubuntu-irc "irc.freenode.net channel kubuntu">
<!ENTITY kubuntu-documentation-site "http://www.kubuntu.org/documentation.php">
<!ENTITY kubuntu-wiki-UserDocumentation "https://wiki.kubuntu.com/UserDocumentation">
<!-- XUBUNTU URL RESOURCES --><!ENTITY xubuntu-irc "irc.freenode.net channel xubuntu">
<!-- DEBIAN RESOURCES --><!ENTITY debian-apt "http://www.debian.org/doc/user-manuals#apt-howto">
<!-- EXTERNAL URL RESOURCES --><!ENTITY linmodem "http://www.linmodems.org/">
<!ENTITY gnome "http://www.gnome.org/">
<!ENTITY linuxorg "http://www.linux.org/">
<!ENTITY ooo "http://www.openoffice.org/">
<!ENTITY kde "http://www.kde.org/">
<!ENTITY lugww "http://lugww.counter.li.org/">
<!ENTITY ubuntu-watch "http://distrowatch.com/ubuntu/">
<!ENTITY realplayer-download "http://www.real.com/linux/">
<!ENTITY nvu-download "http://www.nvu.com/download.html">
<!ENTITY sunjava-download "http://java.sun.com/j2se/1.5.0/download.jsp">
<!ENTITY xorg "http://www.x.org">
<!ENTITY dyndns "http://www.dyndns.org">
<!ENTITY shoutcast "http://www.shoutcast.com/">
<!ENTITY freedomtoaster "http://www.freedomtoaster.org/">
<!-- ubuntu-screenshots TODO --><!ENTITY kubuntu-screenshots "http://shots.osdir.com/slideshows/slideshow.php?release=306&amp;slide=1">
<!ENTITY mozilla "http://www.mozilla.org/">
<!ENTITY mozilla-firefox "http://www.mozilla.org/products/firefox/">
<!ENTITY gnu "http://www.gnu.org/">
<!ENTITY gnu-philosophy "http://www.gnu.org/philosophy/">
<!ENTITY win4lin "http://www.win4lin.com">
<!ENTITY codeweavers "http://www.codeweavers.com">
<!ENTITY kernel "http://www.kernel.org">
<!ENTITY google "http://www.google.com">
<!ENTITY kdelook " http://www.kde-look.org">
<!ENTITY lulu-store "http://www.lulu.com/ubuntu-doc">
<!-- this entity controls the url for addons--><!ENTITY java-download "http://java.sun.com/j2se/1.5.0/download.jsp">
<!ENTITY skype-deb "skype_1.2.0.17-1_i386.deb">
<!ENTITY skype-download "http://www.skype.com/go/getskype-linux-deb">
<!ENTITY scanmodem-gz "scanModem.gz">
<!ENTITY scanmodem-url "http://linmodems.technion.ac.il/packages/scanModem.gz">
<!ENTITY ext2fs-url "http://www.fs-driver.org/index.html">
<!ENTITY mvb-tar "mvb_1.6.tgz">
<!ENTITY mvb-url "http://www.xscd.com/pub/mvb/&mvb-tar;">
<!-- TLDP --><!ENTITY ldp-pre-install-check "http://tldp.org/HOWTO/Pre-Installation-Checklist/">
<!-- LANGUAGES (sorted by two letter code)--><!ENTITY Afar "aa">
<!ENTITY Abkhazian "ab">
<!ENTITY Afrikaans "af">
<!ENTITY Amharic "af">
<!ENTITY Arabic "ar">
<!ENTITY Assamese "as">
<!ENTITY Aymara "ay">
<!ENTITY Azerbaijani "az">
<!ENTITY Bashkir "ba">
<!ENTITY Byelorussian "be">
<!ENTITY Bulgarian "bg">
<!ENTITY Bihari "bh">
<!ENTITY Bislama "bi">
<!ENTITY Bangla "bn">
<!ENTITY Bengali "bn">
<!ENTITY Tibetan "bo">
<!ENTITY Breton "br">
<!ENTITY Catalan "ca">
<!ENTITY Corsican "co">
<!ENTITY Czech "cs">
<!ENTITY Welsh "cy">
<!ENTITY Danish "da">
<!ENTITY German "de">
<!ENTITY Bhutani "dz">
<!ENTITY Greek "el">
<!-- <!ENTITY EnglishAmerican 'en'> --><!ENTITY EnglishAmerican "C">
<!ENTITY Esperanto "eo">
<!ENTITY Spanish "es">
<!ENTITY Estonian "et">
<!ENTITY Basque "eu">
<!ENTITY Persian "fa">
<!ENTITY Finnish "fi">
<!ENTITY Fiji "fj">
<!ENTITY Faeroese "fo">
<!ENTITY French "fr">
<!ENTITY Frisian "fy">
<!ENTITY Irish "ga">
<!ENTITY Gaelic "gd">
<!ENTITY ScotsGaelic "gd">
<!ENTITY Galician "gl">
<!ENTITY Guarani "gn">
<!ENTITY Gujarati "gu">
<!ENTITY Hausa "ha">
<!ENTITY Hindi "hi">
<!ENTITY Croatian "hr">
<!ENTITY Hungarian "hu">
<!ENTITY Armenian "hy">
<!ENTITY Interlingua "ia">
<!ENTITY Interlingue "ie">
<!ENTITY Inupiak "ik">
<!ENTITY Indonesian "in">
<!ENTITY Icelandic "is">
<!ENTITY Italian "it">
<!ENTITY Hebrew "iw">
<!ENTITY Japanese "ja">
<!ENTITY Yiddish "ji">
<!ENTITY Javanese "jw">
<!ENTITY Georgian "ka">
<!ENTITY Kazakh "kk">
<!ENTITY Greenlandic "kl">
<!ENTITY Cambodian "km">
<!ENTITY Kannada "kn">
<!ENTITY Korean "ko">
<!ENTITY Kashmiri "ks">
<!ENTITY Kurdish "ku">
<!ENTITY Kirghiz "ky">
<!ENTITY Latin "la">
<!ENTITY Lingala "ln">
<!ENTITY Laothian "lo">
<!ENTITY Lithuanian "lt">
<!ENTITY Latvian "lv">
<!ENTITY Lettish "lv">
<!ENTITY Malagasy "mg">
<!ENTITY Maori "mi">
<!ENTITY Macedonian "mk">
<!ENTITY Malayalam "ml">
<!ENTITY Mongolian "mn">
<!ENTITY Moldavian "mo">
<!ENTITY Marathi "mr">
<!ENTITY Malay "ms">
<!ENTITY Maltese "mt">
<!ENTITY Burmese "my">
<!ENTITY Nauru "na">
<!ENTITY Nepali "ne">
<!ENTITY Dutch "nl">
<!ENTITY Norwegian "no">
<!ENTITY Occitan "oc">
<!ENTITY Afan "om">
<!ENTITY Oromo "om">
<!ENTITY Oriya "or">
<!ENTITY Punjabi "pa">
<!ENTITY Polish "pl">
<!ENTITY Pushto "ps">
<!ENTITY Pashto "ps">
<!ENTITY Portuguese "pt">
<!ENTITY Quechua "qu">
<!ENTITY Rhaeto-Romance "rm">
<!ENTITY Kirundi "rn">
<!ENTITY Romanian "ro">
<!ENTITY Russian "ru">
<!ENTITY Kinyarwanda "rw">
<!ENTITY Sanskrit "sa">
<!ENTITY Sindhi "sd">
<!ENTITY Sangro "sg">
<!ENTITY Serbo-Croatian "sh">
<!ENTITY Singhalese "si">
<!ENTITY Slovak "sk">
<!ENTITY Slovenian "sl">
<!ENTITY Samoan "sm">
<!ENTITY Shona "sn">
<!ENTITY Somali "so">
<!ENTITY Albanian "sq">
<!ENTITY Serbian "sr">
<!ENTITY Siswati "ss">
<!ENTITY Sesotho "st">
<!ENTITY Sudanese "su">
<!ENTITY Swedish "sv">
<!ENTITY Swahili "sw">
<!ENTITY Tamil "ta">
<!ENTITY Tegulu "te">
<!ENTITY Tajik "tg">
<!ENTITY Thai "th">
<!ENTITY Tigrinya "ti">
<!ENTITY Turkmen "tk">
<!ENTITY Tagalog "tl">
<!ENTITY Setswana "tn">
<!ENTITY Tonga "to">
<!ENTITY Turkish "tr">
<!ENTITY Tsonga "ts">
<!ENTITY Tatar "tt">
<!ENTITY Twi "tw">
<!ENTITY Ukrainian "uk">
<!ENTITY Urdu "ur">
<!ENTITY Uzbek "uz">
<!ENTITY Vietnamese "vi">
<!ENTITY Volapuk "vo">
<!ENTITY Wolof "wo">
<!ENTITY Xhosa "xh">
<!ENTITY Yoruba "yo">
<!ENTITY Chinese "zh">
<!ENTITY Zulu "zu">
<!ENTITY % genericent SYSTEM "../../libs/generic.ent">
<!ENTITY sg-title "Server Guide">
<!ENTITY secguide-title "Security Guide">
<!ENTITY installguide-rev "0.1">
<!ENTITY % cdo-C SYSTEM "../../../libs/cdo-C.ent">
<!-- COMMON DOC OBJECTS --><!ENTITY copyright SYSTEM "../common/C/copyright.xml">
<!ENTITY conventions SYSTEM "../common/C/conventions.xml">
<!ENTITY feedback SYSTEM "../common/C/feedback.xml">
<!ENTITY publisher SYSTEM "../common/C/publisher.xml">
<!ENTITY legalnotice SYSTEM "../common/C/legalnotice.xml">
<!ENTITY disclaimer SYSTEM "../common/C/disclaimer.xml">
<!ENTITY inline-ubuntu-icon SYSTEM "../common/C/inlinemediaobject-ubuntu-icon.xml">
<!ENTITY inline-ubuntu-icon-header SYSTEM "../common/C/inlinemediaobject-ubuntu-icon-header.xml">
<!ENTITY relative-ubuntu-icon SYSTEM "../common/C/mediaobject-relative-ubuntu-icon.xml">
<!ENTITY ubuntu-icon SYSTEM "../common/C/mediaobject-ubuntu-icon.xml">
<!ENTITY gpl SYSTEM "../common/C/gpl.xml">
<!ENTITY fdl SYSTEM "../common/C/fdl.xml">
<!ENTITY cc-by-sa SYSTEM "../common/C/ccbysa.xml">
<!ENTITY % gnome-menus-C SYSTEM "../../../ubuntu/libs/gnome-menus-C.ent">
<!-- MENUS --><!-- Please keep entries alphabetical, it makes them much easier to find & use --><!ENTITY about-me SYSTEM "../menus/C/about-me.xml">
<!ENTITY accessories SYSTEM "../menus/C/accessories.xml">
<!ENTITY acro-read SYSTEM "../menus/C/acro-read.xml">
<!ENTITY administration SYSTEM "../menus/C/administration.xml">
<!ENTITY amule SYSTEM "../menus/C/amule.xml">
<!ENTITY archive-man SYSTEM "../menus/C/archive-man.xml">
<!ENTITY assistive-technology-preferences SYSTEM "../menus/C/assistive-technology-preferences.xml">
<!ENTITY azureus SYSTEM "../menus/C/azureus.xml">
<!ENTITY blender3d SYSTEM "../menus/C/blender3d.xml">
<!ENTITY boot SYSTEM "../menus/C/boot.xml">
<!ENTITY calculator SYSTEM "../menus/C/calculator.xml">
<!ENTITY character-map SYSTEM "../menus/C/character-map.xml">
<!ENTITY desktop-background SYSTEM "../menus/C/desktop-background.xml">
<!ENTITY desktop-preferences SYSTEM "../menus/C/desktop-preferences.xml">
<!ENTITY device-manager SYSTEM "../menus/C/device-manager.xml">
<!ENTITY dictionary SYSTEM "../menus/C/dictionary.xml">
<!ENTITY disks SYSTEM "../menus/C/disks.xml">
<!ENTITY downloader-x SYSTEM "../menus/C/downloader-x.xml">
<!ENTITY file-management SYSTEM "../menus/C/file-management.xml">
<!ENTITY firefox SYSTEM "../menus/C/firefox.xml">
<!ENTITY firestarter-firewall-tool SYSTEM "../menus/C/firestarter-firewall-tool.xml">
<!ENTITY font SYSTEM "../menus/C/font.xml">
<!ENTITY gaim SYSTEM "../menus/C/gaim.xml">
<!ENTITY games SYSTEM "../menus/C/games.xml">
<!ENTITY gftp SYSTEM "../menus/C/gftp.xml">
<!ENTITY gimp SYSTEM "../menus/C/gimp.xml">
<!ENTITY gnome-app-install SYSTEM "../menus/C/gnomeappinstall.xml">
<!ENTITY gnome-config-editor SYSTEM "../menus/C/gnome-config-editor.xml">
<!ENTITY gparted SYSTEM "../menus/C/gparted.xml">
<!ENTITY graphics SYSTEM "../menus/C/graphics.xml">
<!ENTITY gthumb SYSTEM "../menus/C/gthumb.xml">
<!ENTITY home-folder SYSTEM "../menus/C/home-folder.xml">
<!ENTITY inkscape SYSTEM "../menus/C/inkscape.xml">
<!ENTITY internet SYSTEM "../menus/C/internet.xml">
<!ENTITY keyboard SYSTEM "../menus/C/keyboard.xml">
<!ENTITY keyboard-shortcuts SYSTEM "../menus/C/keyboard-shortcuts.xml">
<!ENTITY limewire SYSTEM "../menus/C/limewire.xml">
<!ENTITY login-screen-setup SYSTEM "../menus/C/login-screen-setup.xml">
<!ENTITY logout SYSTEM "../menus/C/logout.xml">
<!ENTITY menu-editor SYSTEM "../menus/C/menu-editor.xml">
<!ENTITY menus-and-toolbars SYSTEM "../menus/C/menus-and-toolbars.xml">
<!ENTITY mouse SYSTEM "../menus/C/mouse.xml">
<!ENTITY multimedia-systems-selector SYSTEM "../menus/C/multimedia-systems-selector.xml">
<!ENTITY network-proxy SYSTEM "../menus/C/network-proxy.xml">
<!ENTITY networking SYSTEM "../menus/C/networking.xml">
<!ENTITY nvu SYSTEM "../menus/C/nvu.xml">
<!ENTITY open-office SYSTEM "../menus/C/open-office.xml">
<!ENTITY palmos-devices SYSTEM "../menus/C/palmos-devices.xml">
<!ENTITY preferred-applications SYSTEM "../menus/C/preferred-applications.xml">
<!ENTITY printing SYSTEM "../menus/C/printing.xml">
<!ENTITY qtparted SYSTEM "../menus/C/qtparted.xml">
<!ENTITY remote-desktop SYSTEM "../menus/C/remote-desktop.xml">
<!ENTITY removable-drives-and-media SYSTEM "../menus/C/removable-drives-and-media.xml">
<!ENTITY realplayer SYSTEM "../menus/C/realplayer.xml">
<!ENTITY rhythmbox SYSTEM "../menus/C/rhythmbox.xml">
<!ENTITY route-planner SYSTEM "../menus/C/route-planner.xml">
<!ENTITY screen-resolution SYSTEM "../menus/C/screen-resolution.xml">
<!ENTITY screensaver SYSTEM "../menus/C/screensaver.xml">
<!ENTITY scribus SYSTEM "../menus/C/scribus.xml">
<!ENTITY services SYSTEM "../menus/C/services.xml">
<!ENTITY sessions SYSTEM "../menus/C/sessions.xml">
<!ENTITY shared-folders SYSTEM "../menus/C/shared-folders.xml">
<!ENTITY skype SYSTEM "../menus/C/skype.xml">
<!ENTITY software-properties SYSTEM "../menus/C/software-properties.xml">
<!ENTITY sound SYSTEM "../menus/C/sound.xml">
<!ENTITY soundandvideo SYSTEM "../menus/C/soundandvideo.xml">
<!ENTITY synaptic SYSTEM "../menus/C/synaptic.xml">
<!ENTITY systemtools SYSTEM "../menus/C/systemtools.xml">
<!ENTITY terminal SYSTEM "../menus/C/terminal.xml">
<!ENTITY text-editor SYSTEM "../menus/C/text-editor.xml">
<!ENTITY theme SYSTEM "../menus/C/theme.xml">
<!ENTITY time-date SYSTEM "../menus/C/time-date.xml">
<!ENTITY totem SYSTEM "../menus/C/totem.xml">
<!ENTITY ubuntu-update-manager SYSTEM "../menus/C/ubuntu-update-manager.xml">
<!ENTITY users SYSTEM "../menus/C/users.xml">
<!ENTITY users-groups SYSTEM "../menus/C/users-groups.xml">
<!ENTITY windows SYSTEM "../menus/C/windows.xml">
<!ENTITY xchat-gnome SYSTEM "../menus/C/xchat-gnome.xml">
<!ENTITY xine SYSTEM "../menus/C/xine.xml">
<!ENTITY xmms SYSTEM "../menus/C/xmms.xml">
<!ENTITY % xinclude SYSTEM "../../../libs/xinclude.mod">
<!ELEMENT xi:include (xi:fallback)?>
<!ATTLIST xi:include xmlns:xi CDATA #FIXED "http://www.w3.org/2001/XInclude">
<!ATTLIST xi:include href CDATA #REQUIRED>
<!ATTLIST xi:include parse (xml | text) "xml">
<!ATTLIST xi:include xpointer CDATA #IMPLIED>
<!ATTLIST xi:include encoding CDATA #IMPLIED>
<!ATTLIST xi:include accept CDATA #IMPLIED>
<!ATTLIST xi:include accept-charset CDATA #IMPLIED>
<!ATTLIST xi:include accept-language CDATA #IMPLIED>
<!ELEMENT xi:fallback ANY>
<!ATTLIST xi:fallback xmlns:xi CDATA #FIXED "http://www.w3.org/2001/XInclude">
<!ENTITY % local.preface.class "| xi:include">
<!ENTITY % local.part.class "| xi:include">
<!ENTITY % local.chapter.class "| xi:include">
<!ENTITY % local.divcomponent.mix "| xi:include">
<!ENTITY % local.para.char.mix "| xi:include">
<!ENTITY % local.info.class "| xi:include">
<!ENTITY % local.common.attrib "xmlns:xi            CDATA       #FIXED       'http://www.w3.org/2001/XInclude'">
<!ENTITY language "&EnglishAmerican;">
]>
<chapter id="networking" status="complete">
	<title>Red</title>
  <para>La red consiste en dos o más dispositivos, como ordenadores, impresoras y equipamiento relacionado que están conectados por cables o enlaces wireless con el proposito de compartir y distribuir información a través de los dispositios conectados.</para>
  <para>Esta seccion de la Guía del servidor Ubuntu proporciona información general y específica sobre las redes, incluyendo un vistazo a conceptos de red y detalladas discusiones sobre protocolos de red y aplicaciones de servidor.</para>
	<sect1 id="network-configuration" status="complete">
		<title>Configuración de red</title>
          <para>Ubuntu viene con varias utilidades gráficas para configurar sus dispositivos de red. Este documento es una herramienta para los administradores de servidores y esta enfocada para manejar su red en línea de comandos.</para>
      <sect2 id="ethernet" status="complete">
        <title>Ethernet</title> 
          <para>La mayoría de la configuración de Ethernet está centralizada en un único archivo, <filename>/etc/network/interfaces</filename>. Si usted no tiene dispositivos Ethernet, en este archivo sólo aparecerá el dispositivo loopback, y tendrá un aspecto parecido a éste: <screen># This file describes the network interfaces available on your system
# and how to activate them. For more information, see interfaces(5).

# The loopback network interface
auto lo
iface lo inet loopback
address 127.0.0.1
netmask 255.0.0.0</screen> Si tiene sólo un dispositivo Ethernet, eth0, y éste obtiene su configuración desde un servidor DHCP, y se debe activar automáticamente durante el arranque del sistema, sólo se deben añadir dos líneas adicionales: <screen>auto eth0
iface eth0 inet dhcp</screen> La primera línea especifica que el dispositivo eth0 debe activarse automáticamente durante el arranque del equipo. La segunda línea significa que la interfaz (<quote>iface</quote>) eth0 debe tener un espacio de direcciones IPv4 (sustituya <quote>inet</quote> por <quote>inet6</quote> en un dispositivo IPv6) y que debe obtener su configuración automáticamente desde un servidor DHCP. Suponiendo que tanto su red como su servidor DHCP están correctamente configurados, la red de este equipo no necesitaría más configuración adicional para poder funcionar. El servidor DHCP le proporcionará la pasarela (gateway) predeterminada (implementada mediante la orden <application>route</application>), la dirección IP del dispositivo (implementada mediante la orden <application>ifconfig</application>), y los servidores DNS usados en la red (implementados en el archivo <filename>/etc/resolv.conf</filename>.)</para>
		<para>Para configurar su dispositivo Ethernet con una dirección IP estática y una configuración personalizada, se requiere más información. Suponga que desea asignar la dirección IP 192.168.0.2 al dispositivo eth1, con la clásica máscara de red 255.255.255.0. La dirección IP de su pasarela predeterminada es 192.168.0.1. En tal caso, podría poner algo semejante a ésto en <filename>/etc/network/interfaces</filename>: <screen>iface eth1 inet static
	address 192.168.0.2
	netmask 255.255.255.0
	gateway 192.168.0.1</screen> En este caso, necesitará especificar sus servidores DNS manualmente en <filename>/etc/resolv.conf</filename>, que tendría entonces el siguiente aspecto: <screen>search midominio.com
nameserver 192.168.0.1
nameserver 4.2.2.2</screen>  La directiva <emphasis role="italics">search</emphasis> añadirá midominio.com a todas las consultas de nombres de host para intentar resolver nombres en su red. Por ejemplo, si el dominio de su red es midominio.com e intenta hacer un ping al host <quote>mipc</quote>, la consulta DNS se transformará en una consulta a <quote>mipc.midominio.com</quote> para su resolución. Las directivas <emphasis role="italics">nameserver</emphasis> especifican los servidores DNS que se usarán para resolver nombres de hosts en direcciones IP. Si usa su propio servidor de nombres, introdúzcalo aquí. En caso contrario, pregunte a su proveedor de Internet qué servidores DNS primario y secundario debe utilizar, e introdúzcalos en <filename>/etc/resolv.conf</filename> como se acaba de explicar.</para>
		<para>Es posible realizar muchas más configuraciones, incluyendo interfaces de marcación analógica PPP, redes IPv6, dispositivos VPN, etc. Acuda a <application>man 5 interfaces</application> para obtener más información y las opciones soportadas. Recuerde que los scripts <application>ifup</application>/<application>ifdown</application> usan <filename>/etc/network/interfaces</filename> como un esquema de configuración de más alto nivel que el utilizado en otras distribuciones de Linux, y que las tradicionales utilidades de más bajo nivel como <application>ifconfig</application>, <application>route</application> y <application>dhclient</application> todavía se encuentran disponibles para realizar configuraciones más puntuales.</para>
      </sect2>
      <sect2 id="managing-dns-entries" status="complete">
          <title>Gestionar entradas DNS</title>
            <para>Esta sección explica cómo configurar el servidor de nombres que se usará para resolver direcciones IP en nombres de host, y viceversa. No explica cómo configurar el sistema como un servidor de nombres.</para>
            <para>Para administrar los DNS, puedes agregar, editar o eliminar los servidores DNS desde el archivo <filename>/etc/resolv.conf</filename>. Un <ulink url="../sample/resolv.conf">archivo de ejemplo</ulink> se muestra a continuación:</para>
<programlisting>
search com
nameserver 204.11.126.131
nameserver 64.125.134.133
nameserver 64.125.134.132
nameserver 208.185.179.218
</programlisting>
            
            <para>La clave <application>search</application> especifica la cadena que se añadirá a un nombre incompleto de host. Aquí se ha especificado como  <application>com</application>. Por tanto, cuando se ejecute la orden: <command>ping ubuntu</command> ésta se interpretará como <command>ping ubuntu.com</command>.</para> 

            <para>La clave <application>nameserver</application> especifica la dirección IP del servidor de nombres. Se usará para resolver las direcciones IP o los nombres de host dados. Este archivo puede tener varias entradas de servidores de nombres. Las consultas de la red usarán los servidores de nombres en el mismo orden en el que aparezcan en el archivo.</para>

            <warning>
            <para>Si los nombres de los servidores DNS se recogen dinámicamente mediante DHCP o PPPOE (desde su proveedor de Internet), no añada ninguna entrada de servidor de nombres a este archivo. Se actualizará automáticamente.</para>
            </warning>

        </sect2>
        <sect2 id="managing-hosts" status="complete">
          <title>Gestionar los hosts</title>
            <para>Para gestionar los hosts, puede añadir, editar, o borrar hosts del archivo <filename>/etc/hosts</filename>. Este archivo contiene direcciones IP y sus correspondientes nombres de host. Cuando su sistema intenta resolver un nombre de host en una dirección IP, o determinar el nombre del host a partir de su dirección IP, busca en el archivo <filename>/etc/hosts</filename> antes de usar los servidores de nombres. Si la dirección IP se encuentra en el archivo <filename>/etc/hosts</filename>, no se usarán los servidores de nombres. Este comportamiento se puede modificar cambiando el archivo <filename> /etc/nsswitch.conf</filename> para adaptarlo a sus necesidades.</para>

            <para>Si su red contiene ordenadores cuya dirección IP no este listada en el DNS, es recomendable que los añada en el archivo <filename>/etc/hosts</filename>.</para>
        </sect2>
    </sect1>
	<sect1 id="tcpip" status="complete">
		<title>TCP/IP</title>
          <para>El Protocolo de Control de Transmisión y Protocolo Internet (Transmission Control Protocol and Internet Protocol, TCP/IP) es un juego de protocolos estandard desarrollados a finales de los 70 por el Defense Advanced Research Projects Agency (DARPA) como una forma de comunicarse entre diferentes tipo de ordenadores y redes. TCP/IP es el impulsor de Internet, y es el más popular juego de protocolos de red de la Tierra.</para>
      <sect2 id="tcpip-introduction" status="complete">
        <title>Introducción a TCP/IP</title> 
          <para>Los dos protocolos componentes del TCP/IP se encargan de aspectos diferentes en las redes de ordenadores. El <emphasis>Protocolo Internet</emphasis> (Internet Protocol), el «IP» del TCP/IP, es un protocolo sin conexión que se ocupa únicamente del encaminamiento de los paquetes a través de la red usando el <emphasis role="italics">datagrama IP</emphasis> como unidad básica de información en la red. Los datagramas IP constan de una cabecera seguida de un mensaje. El <emphasis>Protocolo de Control de Transmisión</emphasis> (Transmission Control Protocol) es el «TCP» del TCP/IP y permite que los hosts de la red puedan establecer conexiones que se utilizarán para intercambiar flujos de datos. El TCP también garantiza la entrega de los datos a través de las conexiones y que éstos llegarán al host de destino en el mismo orden en que fueron enviados desde el host de origen.</para>
          </sect2>
        <sect2 id="tcpip-configuration" status="complete">
          <title>Configuración de TCP/IP</title>
            <para>La configuración del protocolo TCP/IP consta de varios elementos que deben establecerse editando los archivos de configuración apropiados, o utilizando soluciones como el servidor de Protocolo de Configuración Dinámica de Hosts (Dynamic Host Configuration Protocol, DHCP) que, de hecho, puede configurarse para proporcionar automáticamente las opciones de configuración TCP/IP adecuadas para los clientes de la red. Esos valores de configuración deben establecerse adecuadamente para poder facilitar el correcto funcionamiento de la red en su sistema Ubuntu.</para>
            <para>Los elementos de configuración comunes del TCP/IP y sus propositos son los siguientes: <itemizedlist>
               <listitem>
                  <para><emphasis role="bold">Dirección IP</emphasis> La dirección IP es una cadena de identificación única expresada como cuatro números decimales que van desde 0 hasta 255, separados por puntos, donde cada uno de los cuatro números representan 8 bits de la dirección, de un total de 32 bits para la dirección completa. Este formato se denomina <emphasis>notación cuádruple con puntos</emphasis>.</para>
               </listitem>
               <listitem>
                  <para><emphasis role="bold">Máscara de red</emphasis> La máscara de red (o máscara de subred) es una máscara local de bits, o conjunto de indicadores, que separan, en una dirección IP, la parte correspondiente a la red de la parte correspondiente a la <emphasis>subred</emphasis>. Por ejemplo, en una red de Clase C, la máscara de red estándar es 255.255.255.0, lo que enmascara los tres primeros bytes de la dirección IP y deja disponible el último byte de la dirección IP para poder especificar hosts en la subred.</para>
               </listitem>
               <listitem>
                  <para><emphasis role="bold">Dirección de red</emphasis> La dirección de red representa los bytes que componen la porción de red de una dirección IP. Por ejemplo, el host 12.128.1.2 en una red de Clase A debe usar 12.0.0.0 como dirección de red, en el que el doce (12) representa el primer byte de la dirección IP, (la parte de red) y los ceros (0) en los restantes tres bytes representan los posibles valores de host. Los hosts de una red que use direcciones IP privadas no enrutables tan comunes como 192.168.1.100 deberán usar la dirección de red 192.168.1.0, que especifica los tres primeros bytes de la red de clase C 192.168.1 y el cero (0) para todos los posibles hosts de la red.</para>
               </listitem>
               <listitem>
                  <para><emphasis role="bold">Dirección de difusión (broadcast)</emphasis> La dirección de difusión es una dirección IP que permite enviar datos a todos los hosts de una misma subred simultáneamente, en lugar de especificar uno por uno cada host de la red. La dirección de difusión general estándar para las redes IP es 255.255.255.255, pero esta dirección de difusión no se puede usar para enviar un mensaje de difusión a todos los hosts de Internet porque los routers lo bloquean. Se puede establecer una dirección de difusión más apropiada cuadrándola con una subred específica. Por ejemplo, en la populare rede IP privada de Clase C, 192.168.1.0, la dirección de difusión debería configurarse como 192.168.1.255. Los mensajes de difusión son producidos normalmente por los protocolos de red como el Protocolo de Resolución de Direcciones (Address Resolution Protocol, ARP), y el Protocolo de Información de Encaminamiento (Routing Information Protocol, RIP).</para>
               </listitem>
               <listitem>
                  <para><emphasis role="bold">Dirección de pasarela o «puerta de enlace» (gateway)</emphasis> Una dirección de pasarela es la dirección IP a través de la cual se puede alcanzar una red, o un host concreto dentro de una red. Si el host de una determinada red desea comunicarse con otro host, y éste host no está en la misma red que el primero, se deberá usar una <emphasis>pasarela</emphasis>. En muchos casos, la dirección de pasarela será la dirección de un router de la red, que será el encargado de pasar el tráfico a otras redes o hosts, como por ejemplo los hosts de Internet. El valor de la dirección de pasarela debe ser correcto, o de lo contrario su sistema no será capaz de alcanzar ningún host que esté fuera de su red.</para>
               </listitem>
               <listitem>
                  <para><emphasis role="bold">Dirección del servidor de nombres (nameserver)</emphasis> Las direcciones de los servidores de nombres representan direcciones IP de sistemas DNS (Domain Name Service, Servicio de Nombre de Dominio), encargados de convertir («resolver») nombres de hosts en direcciones IP. Hay tres niveles de direcciones de servidores de nombres, que se especifican por orden de preferencia: el servidor de nombres <emphasis>primario</emphasis>, el servidor de nombres <emphasis>secundario</emphasis> y el servidor de nombres <emphasis>terciario</emphasis>. Para que su sistema sea capaz de resolver nombres de hosts en sus correspondientes direcciones IP, debe especificar en la configuración TCP/IP de su sistema las direcciones válidas de servidores de nombre que usted esté autorizado a usar. En muchos casos, esas direcciones pueden y deben ser proporcionadas por su proveedor de servicios de red (o su proveedor de Internet), aunque existen muchos servidores de nombre gratuitos y accesibles públicamente disponibles para su uso, como por ejemplo los servidores de Level3 (Verizon), cuyas direcciones IP van del 4.2.2.1 al 4.2.2.6.</para>
                     <tip>
                        <para>La dirección IP, la máscara de red, la dirección de red, la dirección de broadcast (difusión) y la dirección de gateway (pasarela) se especifican normalmente por medio de las directivas apropiadas en el archivo <filename>/etc/network/interfaces</filename>. Las direcciones de los servidores de nombres se especifican normalmente por medio de las directivas <emphasis>nameserver</emphasis> en el archivo <filename>/etc/resolv.conf</filename>. Para más información, vea la página de manual para <filename>interfaces</filename> o <filename>resolv.conf</filename>, respectivamente, con las siguientes órdenes tecleadas en la línea de órdenes de una terminal:</para>
                     </tip>
                    <para>Acceda a la página del manual de <filename>interfaces</filename> con el siguiente comando:</para>
                    <para>
<screen>
<command>man interfaces</command>
</screen>
                    </para>
                    <para>Acceda a la página del manual de <filename>resolv.conf</filename> con el siguiente comando:</para>
                    <para>
<screen><command>man resolv.conf</command></screen>
                    </para>
               </listitem>
            </itemizedlist></para>
        </sect2>
        <sect2 id="ip-routing" status="complete">
          <title>Encaminamiento IP</title>
            <para>El encaminamiento IP es una manera de especificar y descubrir caminos en una red TCP/IP por los cuales se pueden enviar datos dentro de la red. El encaminamiento usa un conjunto de <emphasis>tablas de enrutamiento</emphasis> (routing tables) para dirigir el envío de los paquetes de datos desde su origen hasta su destino, a menudo usando muchos nodos intermedios conocidos como <emphasis>encaminadores</emphasis> o «routers». El encaminamiento IP es la forma principal de descubrir caminos dentro de Internet. Hay dos formas básicas de encaminamiento IP: <emphasis>encaminamiento estático</emphasis> y <emphasis>encaminamiento dinámico</emphasis>.</para>
            <para>El encaminamiento estático supone añadir manualmente las rutas IP en la tabla de encaminamiento del sistema, y esto se hace normalmente manipulando la tabla de encaminamiento con la orden <application>route</application>. El encaminamiento estático tiene muchas ventajas sobre el encaminamiento dinámico, como la simplicidad de implementación sobre redes pequeñas, la predecibilidad (la tabla de encaminamiento siempre se calcula por adelantado, y por tanto la ruta siempre es la misma cada vez que se usa), y la baja sobrecarga en otros routers y enlaces de red por la inexistencia de un protocolo de encaminamiento dinámico. Sin embargo, el encaminamiento estático también presenta algunos inconvenientes. Por ejemplo, está limitado a redes pequeñas y no escala adecuadamente. El encaminamiento estático también fracasa completamente al intentar adaptarse a pérdidas de la red y a fallos a lo largo de la ruta debido a la naturaleza inmutable de la misma.</para>
            <para>El encaminamiento dinámico depende de redes grandes con muchas rutas IP posibles desde un origen hacia un destino, y hace uso de protocolos especiales de encaminamiento, como el Protocolo de Información del Router (Router Information Protocol, RIP), que gestina los ajustes automáticos en las tablas de encaminamiento que hacen posible el encaminamiento dinámico. El encaminamiento dinámico tiene varias ventajas sobre el encaminamiento estático, como su superior escalabilidad y la capacidad de adaptarse a los fallos y las pérdidas producidos a lo largo de las rutas de la red. Además, tiene una configuración menos manual de las tablas de encaminamiento, puesto que los routers aprenden unos de otros sobre la existencia y la disponibilidad de las rutas. Esta característica también elimina la posibilidad de introducir fallos en las tablas de encaminamiento provocadas por un error humano. El encaminamiento dinámico no es perfecto, sin embargo, y presenta inconvenientes como su mayor complejidad y la sobrecarga adicional de la red debida a las comunicaciones entre los routers, que no benefician inmediatamente a los usuarios finales, y que además consume ancho de banda de la red.</para>
        </sect2>
        <sect2 id="tcp-and-udp" status="complete">
          <title>TCP y UDP</title>
            <para>El TCP es un protocolo orientado a conexión, que ofrece corrección de errores y garantiza la entrega de los datos mediante el denominado <emphasis>control de flujo</emphasis>. El control de flujo determina cuándo se tiene que parar el flujo de una corriente de datos, y cuándo se deben reenviar los datos enviados previamente debido a problemas tales como <emphasis>colisiones</emphasis>, por ejemplo, asegurando así la entrega completa y precisa de los datos. El TCP se usa habitualmente en el intercambio de información importante, como transacciones de bases de datos.</para>
            <para>El Protocolo de Datagramas de Usuario (User Datagram Protocol, UDP), por otro lado, es un protocolo <emphasis>sin conexión</emphasis> que raramente se usa en la transmisión ed datos importantes ya que carece de control de flujo o de cualquier otro método para garantizar la fiabilidad en la entrega de los datos. El UDP se usa habitualmente en aplicaciones de «streaming» de audio y vídeo, donde resulta considerablemente más rápido que el TCP por carecer de corrección de errores y control de flujo, y donde la pérdida de unos cuantos paquetes no suele resultar catastrófico.</para>
        </sect2>
        <sect2 id="icmp" status="complete">
          <title>ICMP</title>
            <para>El Protocolo de Mensajería de Control de Internet (Internet Control Messaging Protocol, ICMP), es una extensión del Protocolo de Internet (Internet Protocol, IP) definida en el documento Request For Comments (RFC) #792, y que soporta paquetes de red que contienen mensajes de control, error e información. El ICMP se usa en aplicaciones de red como la utilidad <application>ping</application>, que comprueba la disponibilidad de un host o dispositivo en la red. Como ejemplos de mensajes error devueltos por el ICMP que resultan de utilidad en hosts de red y dispositivos como routers, tenemos <emphasis>Destination Unreachable</emphasis> (Destino Inalcanzable) y <emphasis>Time Exceeded</emphasis> (Tiempo Excedido).</para>
        </sect2>
        <sect2 id="daemons" status="complete">
          <title>Demonios</title>
            <para>Los demonios (daemons) son aplicaciones especiales del sistema que normalmente se ejecutan continuamente en segundo plano esperando peticiones provenientes de otras aplicaciones que deseen usar las funciones que proporcionan. Muchos demonios están centrados en la red; es decir, muchos de los demonios que se ejecutan en segundo plano en un sistema Ubuntu pueden proporcionar funcionalidades relacionadas con la red. Algunos ejemplos de tales demonios de red incluyen el <emphasis>demonio de protocolo de transporte de hipertexto</emphasis> (httpd), que proporciona funcionalidades de servidor web; el <emphasis>demonio de intérprete seguro</emphasis> (sshd), que proporciona capacidades seguras de sesiones interactivas remotas y transferencia de archivos; y el <emphasis>demonio de protocolo de acceso a mensajes de Internet</emphasis> (imapd), que proporcona servicios de correo electrónico.</para>
        </sect2>
    </sect1>
	<sect1 id="firewall-configuration" status="help">
		<title>Configuración del Cortafuegos</title>
          <para>El kernel Linux incluye el subsistema <emphasis>Netfilter</emphasis> , que es usado para manipular o decidir el destino del tráfico de red entre o a través de su red. Todas las soluciones firewall Linux modernas utilizan este sistema para el filtrado de paquetes.</para>
        <sect2 id="firewall-introduction" status="help">
          <title>Introducción al Cortafuegos</title>
            <para>El sistema de filtrado de paquetes del kernet sirve de ayuda a los administradores sin interface de usuario para manejarlo. Este es el proposito de iptables. Cuando un paquete llegue a su servidor, será manejado por el subsistema Netfilter para aceptarlo, manipularlo, o rechazarlo basandose en las reglas suministradas a este via iptables. Así, iptables es todo lo que necesita para manejar su cortafuegos si está familiarizado con el, pero existen muchos interfaces de usuario disponibles para simplificar esta tarea.</para>
        </sect2>
        <sect2 id="ip-masquerading" status="help">
          <title>Enmascaramiento IP</title>
            <para>El propósito del Enmascaramiento IP (IP Masquerading) es permitir que máquinas con direcciones IP privadas no enrutables de una red accedan a Internet a través de la máquina que realiza el enmascaramiento. Se debe manipular el tráfico que va de su red privada con destino a Internet, para que las respuestas puedan encaminarse adecuadamente a la máquina que hizo la petición. Para ello, el núcleo debe modificar la dirección IP <emphasis>fuente</emphasis> de cada paquete de forma que las respuestas se encaminen hacia ella, en lugar de encaminarla hacia la dirección IP privada que hizo la petición, lo que resulta imposible en Internet. Linux usa Seguimiento de Conexión (<emphasis>Connection Tracking, conntrack)</emphasis> para llevar la cuenta de qué conexiones pertenencen a qué máquinas, y reencaminar adecuadamente cada paquete de retorno. El tráfico que sale de su red privada es, por consiguiente, «enmascarada» dando la sensación de que se ha originado en la máquina Ubuntu que hace de pasarela. Este proceso se denomina Compartición de Conexiones de Internet (Internet Connection Sharing) en la documentación de Microsoft.</para>
			<para>Esto se puede conseguir con una sóla regla de iptables, que puede variar ligeramente en función de la configuración de su red: <screen>sudo iptables -t nat -A POSTROUTING -s 192.168.0.0/16 -o ppp0 -j MASQUERADE</screen> La orden anterior supone que su espacio de direcciones privadas es 192.168.0.0/16 y que el dispositivo que conecta con Internet es ppp0. La sintaxis se descompone de la siguiente forma: <itemizedlist>
				  <listitem><para>-t nat -- la regla es para ir a la tabla nat</para></listitem>
				  <listitem><para>-A POSTROUTING -- la regla es para añadir (-A) a la cadena POSTROUTING</para></listitem>
				  <listitem><para>-s 192.168.0.0/16 -- la regla se aplica al tráfico originado desde la dirección específica</para></listitem>
				  <listitem><para>-o ppp0 -- la regla se aplica al tráfico programado para ser enrutado a través del dispositivo de red especificado</para></listitem>
				  <listitem><para>-j MASQUERADE -- el tráfico que se ajuste a esta regla «saltará» («jump», -j) al destino MASQUERADE para ser manipulado como se describió anteriormente</para></listitem>
			  </itemizedlist></para>
			<para>Cada cadena en la tabla de filtrado (la tabla predeterminada, y donde ocurren la mayoría de los filtrados de paquetes) tiene una <emphasis>política</emphasis> predeterminada de ACCEPT, pero si está creando un firewall además de un dispositivo de pasarela, debería establecer las políticas a DROP o REJECT, en cuyo caso necesitará habilitar su tráfico enmascarado a través de la cadena FORWARD para que la regla anterior funcione: <screen>sudo iptables -A FORWARD -s 192.168.0.0/16 -o ppp0 -j ACCEPT
sudo iptables -A FORWARD -d 192.168.0.0/16 -m state --state ESTABLISHED,RELATED -i ppp0 -j ACCEPT</screen> Las órdenes anteriores permitirán todas las conexiones que vayan de su red local a Internet, así como el retorno a la máquina que las inició de todo el tráfico relacionado con esas conexiones.</para>
        </sect2>
        <sect2 id="firewall-tools" status="help">
          <title>Herramientas</title>
            <para>Hay muchas herramientas disponibles que pueden ayudarle a construir un completo firewall sin necesidad de conocer iptables en profundidad. Para los que se inclinan por una solución gráfica, <application>Firestarter</application> es muy popular y fácil de usar, y <application>fwbuilder</application> es muy potente y tiene un aspecto familiar para aquellos administradores que hayan usado herramientas comerciales de firewall como Checkpoint FireWall-1. Si prefiere una utilidad de línea de órdenes con archivos de configuración en texto plano, <application>Shorewall</application> es una solución muy potente para ayudarle a configurar un firewall avanzado para cualquier red. Si su red es relativamente simple, o no dispone de red, <application>ipkungfu</application> le proporcionará un firewall funcional con desde el principio sin necesidad de configuración, y le permitirá crear fácilmente un firewall más avanzado editando archivos de configuración sencillos y bien documentados. Otra herramienta interesante es <application>fireflier</application>, diseñado para ser una aplicación firewall de escritorio. Está formada por un servidor (fireflier-server) y una selección de clientes GUI (GTK o QT), y se comporta de manera muy similar a muchas aplicaciones interactivas de firewall para Windows.</para>
        </sect2>
        <sect2 id="firewall-logs" status="help">
          <title>Logs</title>
            <para>Los registros del firewall son esenciales para reconocer ataques, corregir problemas en las reglas de su firewall, y observar actividades inusuales en su red. Debe incluir reglas de registro en su firewall para poder activarlos, y las reglas de registro deben aparecer antes de cualquier otra regla final aplicable (una regla con un objetivo que decide el destino del paquete, como ACCEPT, DROP o REJECT). Por ejemplo, <screen>sudo iptables -A INPUT -m state --state NEW -p tcp --dport 80 -j LOG --log-prefix "NEW_HTTP_CONN: "</screen> Una petición al puerto 80 desde la máquina local, por tanto, podría generar un registro en dmesg con el siguiente aspecto:</para>
			<para>
			  <programlisting>[4304885.870000] NEW_HTTP_CONN: IN=lo OUT= MAC=00:00:00:00:00:00:00:00:00:00:00:00:08:00 SRC=127.0.0.1 DST=127.0.0.1 LEN=60 TOS=0x00 PREC=0x00 TTL=64 ID=58288 DF PROTO=TCP SPT=53981 DPT=80 WINDOW=32767 RES=0x00 SYN URGP=0</programlisting>
			</para>
			<para>El registro anterior también aparecerá en <filename>/var/log/messages</filename>, <filename>/var/log/syslog</filename> y <filename>/var/log/kern.log</filename>. Este comportamiento se puede cambiar editando apropiadamente el archivo <filename>/etc/syslog.conf</filename>, o instalando y configurando <application>ulogd</application> y utilizando el objetivo ULOG en lugar del LOG. El demonio <application>ulogd</application> es un servidor en espacio de usuario, que escucha las instrucciones de registro que provienen del núcleo y que sean específicamente para firewalls, y puede registrar cualquier archivo que desee, o incluso a una base de datos <application>PostgreSQL</application> o <application>MySQL</application>. Se puede simplificar la interpretación del significado de los registros del firewall usando una herramienta de análisis de registros como <application>fwanalog</application>, <application> fwlogwatch</application> o <application>lire</application>.</para>
        </sect2>
    </sect1>
	<sect1 id="openssh-server" status="complete">
		<title>Servidor OpenSSH</title>
      <sect2 id="openssh-introduction">
        <title>Introducción</title> 
           <para>Esta sección de la Guía de Servidores de <phrase>Ubuntu</phrase> introduce una potente colección de herramientas para el control remoto y la transferencia de datos de ordenadores en red, llamados <emphasis>OpenSSH</emphasis>. También pruede aprender algo sobre los parámetros de configuración posibles del servidor OpenSSH y como cambiarlos en un sistema Ubuntu.</para>
          <para>OpenSSH es una versión libre del protocolo Secure Shell (SSH) que es una familia de herramientas para control remoto o transferencia de ficheros entre ordenadores. Las herramientas utilizadas para realizar estas funciones, eran el <application>telnet</application> o el <application>rcp</application>, que son inseguras y transmiten el password de los usuarios en texto plano cuando son usadas. OpenSSH provee un demonio y clientes para facilitar un seguro y encriptado control remoto y operaciones de transferencia de fichero, reemplaza efectivamente las herramientas heredadas.</para>
          <para>El componente servidor OpenSSH , <application>sshd</application>, escucha continuamente a la espera de conexiones de clientes desde cualquiera de las herramientas cliente. Cuando aparece una petición conexión, <application>sshd</application> establece la conexión correcta dependiendo del tipo de herramienta cliente que está conectándose. Por ejemplo, si el equipo remoto se está conectando con la aplicación cliente <application>ssh</application>, el servidor OpenSSH establecerá una sesión de control remoto tras la autenticación. Si el usuario remoto se conecta al servidor OpenSSH con <application>scp</application>, el demonio del servidor OpenSSH iniciará una copia segura de archivos entre el servidor y el cliente tras la autenticación. OpenSSH puede usar muchos métodos de autenticación, incluyendo contraseñas planas, claves públicas y tickets de <application>Kerberos</application></para>
          </sect2>
        <sect2 id="openssh-installation">
        <title>Instalación</title>
        <para>La instalación de cliente y servidor OpenSSH es simple. Para instalar las aplicaciones cliente de OpenSSH en su sistema ubuntu, use el siguiente comando en la línea de comandos:</para>
           <para>
<screen>
<command>sudo apt-get install openssh-client</command>
</screen>
           </para>
        <para>Para instalar la aplicación servidor de OpenSSH, y los archivos de soporte relacionados, use en una línea de comandos la siguiente instrucción:</para>
           <para>
<screen>
<command>sudo apt-get install openssh-server</command>
</screen>
           </para>
        </sect2>
        <sect2 id="openssh-configuration">
          <title>Configuración</title>
            <para>Puede configurar el comportamiento predeterminado del servidor OpenSSH, <application>sshd</application>, editando el archivo <filename>/etc/ssh/sshd_config</filename>. Para más información sobre las directivas de configuración usadas en este archivo, puede ver la página del manual apropiada con la siguiente orden, introducida en una terminal:</para>
               <para>
<screen>
<command>man sshd_config</command>
</screen>
               </para>
            <para>Existen muchas directivas en el archivo de configuración de <application>sshd</application> que controlan cosas como los parámetros de comunicaciones y modos de autentificación. Los siguientes son ejemplos de directivas de configuración que pueden ser cambiadas editando el archivo <filename>/etc/ssh/ssh_config</filename> .</para>
            <tip>
               <para>Antes de cambiar el archivo de configuración, debe hacer una copia del archivo original y protegerlo contra escritura así tendrá la configuración original como referencia y podrá reusarla si es necesario.</para>
               <para>Copie el archivo <filename>/etc/ssh/sshd_config</filename> y protejalo contra escritura con los siguientes comandos, introduzcalos en el prompt:</para>
	    </tip>
               <para>
<screen>
<command>sudo cp /etc/ssh/sshd_config /etc/ssh/sshd_config.original</command>
<command>sudo chmod a-w /etc/ssh/sshd_config.original</command>
</screen>
               </para> 
            <para>Lo siguiente son ejemplos de directivas de configuración que usted puede cambiar:</para>
           <itemizedlist>
               <listitem>
               <para>Para hacer que su OpenSSH escuche por el puerto TCP 2222 en lugar del puerto TCP 22 por defecto, cambie la directiva Port como sigue:</para>
               <para>Port 2222</para>
               </listitem>
	<listitem>
            <para>Para hacer que <application>sshd</application> permita credenciales de inicio de sesión basados en clave pública, simplemente añada o modifique la línea:</para>
               <para>PubkeyAuthentication yes</para>
            <para>en el archivo <filename>/etc/ssh/sshd_config</filename>, si está presente, asegúrese que la línea no está comentada.</para>
            </listitem>
            <listitem>
             <para>Para hacer que su servidor OpenSSH muestre el contenido del archivo <filename>/etc/issue.net</filename> como banner antes del login, simplemente añada o modifique la línea:</para>
               <para>Banner /etc/issue.net</para>
               <para>en el archivo <filename>/etc/ssh/sshd_config</filename>.</para>
             </listitem>
             </itemizedlist>
	    <para>Después de hacer los cambios en el archivo <filename>/etc/ssh/sshd_config</filename>, guarde este, y reinicie el servidor <application>sshd</application> para que los cambios tengan efecto usando la siguiente orden en una terminal:</para>
               <para>
<screen>
<command>sudo /etc/init.d/ssh restart</command>
</screen>
               </para>
		<warning>
                           <para>Existen muchas otras directivas de configuración disponibles para <application>sshd</application> que cambian el comportamiento de la aplicación servidor para ajustarlo a sus necesidades. No obstante, si su único método de acceso a un servidor es <application>ssh</application>, y comete un error al configurar <application>sshd</application> por medio del archivo <filename>/etc/ssh/sshd_config</filename>, puede conseguir que el servidor se cierre durante el reinicio del mismo, o que el servidor <application>sshd</application> no quiera iniciarse debido a una directiva de configuración incorrecta, por lo que debe ser extremadamente cuidadoso cuando edite este fichero desde un servidor remoto.</para>
                        </warning>
        </sect2>
   <sect2 id="openssh-references" status="complete">
      <title>Referencias</title>
      <para>
      <ulink url="http://www.openssh.org/">Sitio web de OpenSSH</ulink>
      </para>
      <para>
      <ulink url="https://wiki.ubuntu.com/AdvancedOpenSSH">Página Wiki Avanzada de OpenSSH</ulink>
      </para>
   </sect2>
     </sect1>
	<sect1 id="ftp-server" status="complete">
        <title>Servidor FTP</title> 
            <para>El Protocolo de Transferencia de Archivos (FTP) es un protocolo TCP para subir y descargar archivos entre ordenadores. El FTP funciona con el modelo cliente/servidor. El componente servidor es llamado <emphasis>demonio FTP</emphasis>. Está continuamente escuchando peticiones FTP de clientes remotos. Cuando se recibe una petición, gestiona la creación de la sesión y establece la conexión. Durante la duración de la sesión ejecuta las órdenes enviadas por el cliente FTP.</para>
            <para>El acceso a un servidor FTP puede hacerse de dos maneras:</para>
            <itemizedlist spacing="compact">
                <listitem>
                    <para>Anónimo</para>
                </listitem>
                <listitem>
                    <para>Autenticado</para>
                </listitem>
            </itemizedlist>
            <para>En el modo Anónimo, los clientes remotos pueden acceder al servidor FTP usando la cuenta de usuario por defecto llamada «anonymous» o "ftp" y enviando una dirección de correo como contraseña. En el modo  Autenticado los usuario deben poseer una cuenta y su contraseña. El acceso del usuario a los directorios u ficheros del servidor FTP dependerá de los permisos definidos para la cuenta utilizada. Como regla general, el demonio FTP oculta el directorio raíz del servidor FTP y lo cambia por el directorio de inicio del FTP. Esto oculta el resto del sistema de archivos en las sesiones remotas.</para>
            <sect2 id="vsftpd-ftp-server-installation" status="complete">
                <title>vsftpd - Instalación del Servidor FTP</title>
                    <para>vsftpd es un demonio FTP disponible en Ubuntu. Es fácil de intalar, configurar y mantener. Para instalar <application>vsftpd</application> puede ejecutar el siguiente comando: <screen> <command>sudo apt-get install vsftpd</command> </screen></para>

                </sect2>
            <sect2 id="vsftpd-ftp-server-configuration" status="complete">
                <title>vsftpd - Configuración del Servidor FTP</title>
                <para>Puede editar el archivo de configuración de vsftpd, <filename>/etc/vsftpd.conf</filename>, para cambiar las opciones por omisión. De forma predeterminada, sólo se permiten los accesos FTP anónimos. Si desea desactivar esta opción, debe cambiar la siguiente línea: <programlisting>
anonymous_enable=YES
</programlisting> a <programlisting>
anonymous_enable=NO
</programlisting>. De forma predeterminada, los usuarios locales del sistema no pueden iniciar una sesión al servidor FTP. Para cambiar esto, debe descomentar la siguiente línea: <programlisting>
#local_enable=YES
</programlisting> De forma predeterminada, los usuarios pueden descargar archivos desde el servidor FTP. Sin embargo, no pueden subir archivos al servidor FTP. Para cambiar esto, debe descomentar la siguiente línea: <programlisting>
#write_enable=YES
</programlisting> Del mismo modo, de forma predeterminada, los usuarios anónimos no pueden subir archivos al servidor FTP. Para cambiar esta opción, debe descomentar la siguiente línea: <programlisting>
#anon_upload_enable=YES
</programlisting> El archivo de configuración consta de muchos parámetros de configuración. La información sobre cada parámetro se encuentra disponible en el archivo de configuración. Además, puede consultar la página del manual, <command>man 5 vsftpd.conf</command>, para conocer más detalles sobre cada parámetro.</para>
                <para>Una vez que haya configurado <application>vsftpd</application> puede ejecutar el demonio. Puede ejecutar el siguiente comando para lanzar el demonio <application>vsftpd</application> : <screen> <command>sudo /etc/init.d/vsftpd start</command> </screen></para>
				<note><para>Por favor note que las configuración por defecto del archivo de configuración estan así por razones de seguridad. Cada uno de los cambios de arriba hacen el sistema un poco menos seguro, por lo tanto haga estos cambios solo si son necesarios.</para></note>
                </sect2>
    </sect1>
	<sect1 id="network-file-system" status="complete">
		<title>Network File System (NFS)</title>
          <para>NFS permite a un sistema compartir directorios y archivos con otros sistemas a través de la red. Usando NFS, los usuarios y los programas pueden acceder a archivos en sistemas remotos casi como si fueran archivos locales.</para>

          <para>Algunos de los beneficios más notables que el NFS suministra son:</para>

          <itemizedlist>
          <listitem>
      <para>Las estaciones de trabajo locales utilizan menos espacio en disco porque los datos usados de forma común pueden ser guardados en una sola máquina y permanecerán accesibles a todas las de la red.</para>
          </listitem>
          <listitem>
      <para>No es necesario que los usuarios tengan directorios de inicio separados en cada máquina de la red. Los directorios de inicio pueden estar configurados en un servidor NFS y estar disponibles a través de la red.</para>
          </listitem>
          <listitem>

      <para>Los dispositivos de almacenamiento como disquetes, unidades de CDROM, y dispositivos USB pueden ser usados por otras máquinas a través de la red. Esto reduce el número de dispositivos removibles en la red.</para>
          </listitem>
          </itemizedlist>

      <sect2 id="nfs-installation" status="complete">
        <title>Instalación</title>
      
          <para>Ejecute la siguiente orden en una terminal para instalar el Servidor NFS:</para>
          <para>
<screen>
<command>sudo apt-get install nfs-kernel-server</command>
</screen>
          </para>
      </sect2>
      <sect2 id="nfs-configuration" status="complete">
        <title>Configuración</title>
          <para>Puede configurar los directorios a exportar añadiendolos al archivo <filename>/etc/exports</filename> . Por ejemplo:</para>
          <para>
<screen>
/ubuntu *(ro,sync,no_root_squash)
/home *(rw,sync,no_root_squash)
</screen>
          </para>

          <para>Puede reemplazar * con uno de los formatos de nombres de máquina. Haciendo la declaración del nombre de máquina tan específica como sea posible para evitar que sistemas no deseados accedan al punto de montaje NFS.</para>

          <para>Para iniciar el servidor NFS, ejecute la siguiente orden en una terminal:</para>
          <para>
<screen>
<command>sudo /etc/init.d/nfs-kernel-server start</command>
</screen>
          </para>
      </sect2>
      <sect2 id="nfs-client-configuration" status="complete">
        <title>Configuración del cliente NFS</title>
          <para>Use la orden <application>mount</application> para montar directorios NFS compartidos por otra máquina, tecleando una orden similar a ésta en la terminal:</para>
          <para>
<screen>
<command>sudo mount ejemplo.hostname.com:/ubuntu /local/ubuntu</command>
</screen>
</para>
      <warning>
      <para>El directorio del punto de montaje <filename>/local/ubuntu</filename> debe existir. No deben haber archivos ni directorios dentro de <filename>/local/ubuntu</filename>.</para>
      </warning>

      <para>Una forma alternativa de montar un recurso compartido desde otra máquina es añadiendo una línea en el archivo <filename>/etc/fstab</filename> . La línea debe contener el nombre de máquina del servidor NFS, el directorio que esta siendo exportado en el servidor, y el directorio en la máquina local donde el recurso NFS será montado.</para>

      <para>La sintaxis general para el archivo <filename>/etc/fstab</filename> es la siguiente:</para>
      
      <para>
<programlisting>
example.hostname.com:/ubuntu /local/ubuntu nfs rsize=8192,wsize=8192,timeo=14,intr
</programlisting>
      </para>
      </sect2>
      <sect2 id="nfs-references" status="complete">
        <title>Referencias</title>
				<para><ulink url="http://nfs.sourceforge.net/">FAQ de NFS en Linux</ulink></para>
      </sect2>
    </sect1>
	<sect1 id="dhcp" status="complete">
		<title>Dynamic Host Configuration Protocol (DHCP)</title>
            <para>El Protocolo de Configuración Dinámica de Hosts (DHCP, en inglés), es un servicio de red que permite que los ordenadores hosts sean configurados automáticamente desde un servidor en lugar de tener que configurar manualmente cada host de la red. Los ordenadores configurados para ser clientes DHCP no tienen control sobre la configuración que reciben del servidor DHCP, y la configuración es transparente para el usuario del ordenador.</para>
            <para>Las opciones de configuración más comunes suministradas por un servidor DHCP a los clientes DHCP incluyen:</para>
            <itemizedlist spacing="compact">
                <listitem>
                    <para>Dirección IP y máscara de red</para>
                </listitem>
                <listitem>
                    <para>DNS</para>
                </listitem>
                <listitem>
                    <para>WINS</para>
                </listitem>
            </itemizedlist>
            <para>Además, un servidor DHCP puede suministrar propiedades de configuración como:</para>
            <itemizedlist spacing="compact">
                <listitem>
                    <para>Nombre del host</para>
                </listitem>
                <listitem>
                    <para>Nombre de dominio</para>
                </listitem>
                <listitem>
                    <para>Puerta de enlace predeterminada</para>
                </listitem>
                <listitem>
                    <para>Servidor horario</para>
                </listitem>
                <listitem>
                    <para>Servidor de impresión</para>
                </listitem>
            </itemizedlist>
            <para>La ventaja de usar DHCP es que un cambio en la red (por ejemplo, un cambio en la dirección del servidor DNS), sólo supone un cambio en el servidor DHCP, ya que todos los hosts de la red se reconfigurarán automáticamente la próxima vez que sus clientes DHCP soliciten la configuración al servidor DHCP. Como una ventaja añadida, también es más fácil integrar nuevos ordenadores en la red, ya que no es necesario comprobar la disponibilidad de la dirección IP. Los conflictos de direcciones IP también se reducen.</para>
            <para>Un servidor DHCP puede proporcionar parámetros de configuración usando dos métodos:</para>
            <variablelist>
                <varlistentry>
                    <term>Dirección MAC</term>
                    <listitem>
                        <para>Este método supone el uso de DHCP para identificar el hardware único de cada tarjeta de red conectada a la red y continuar suministrando una configuración constante cada vez que el cliente DHCP hace una petición usando ese dispositivo de red.</para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>Depósito de direcciones</term>
                    <listitem>
                        <para>Este método define un depósito (también llamado a veces rango o ámbito) de direcciones IP que serán suministradas a los clientes DHCP de forma dinámica como parte de sus opciones de configuración, y en una política de «primero en llegar, primero en ser servido». Cuando un cliente DHCP deja de estar en la red durante un periodo de tiempo especificado, la configuración expira y retorna al depósito de direcciones para que pueda ser utilizada por otros clientes DHCP.</para>
                    </listitem>
                </varlistentry>
            </variablelist>
            <para>Ubuntu viene equipado con un cliente DHCP y un servidor DHCP. El servidor es <application>dhcpd</application> (dynamic host configuration protocol daemon). El cliente suministrado por Ubuntu es <application>dhclient</application> y se debe instalar en los equipos que necesiten ser configurados automáticamente. Ambos programas son fáciles de instalar y de configurar, y deberían iniciarse automáticamente durante el arranque del sistema.</para>
      <sect2 id="dhcp-installation" status="complete">
        <title>Instalación</title>
          <para>En un terminal, introduzca el siguiente comando para instalar el <application>dhcpd</application>:</para>
          <para>
<screen>
<command>sudo apt-get install dhcpd</command>
</screen>
          </para>
          <para>Usted podrá ver la siguiente salida, que explica que hacer después:</para>
          <screen>
Por favor, tenga en cuenta que si está instalando el servidor DHCP por
primera vez, necesitará configurarlo. Por favor, detenga el demonio
del servidor DHCP (/etc/init.d/dhcp stop), edite /etc/dhcpd.conf para
adaptarlo a sus necesidades, y reinice el demonio del servidor DHCP
(/etc/init.d/dhcp start).

También necesitará editar /etc/default/dhcp para especificar las
interfaces que dhcpd deberá escuchar. De forma predeterminada,
escucha en eth0.

NOTA: Los mensajes de dhcpd se enviarán a syslog. Localice allí los
mensajes de diagnóstico.

Starting DHCP server: dhcpd failed to start - check syslog for diagnostics.  </screen>
      </sect2>
      <sect2 id="dhcp-configuration" status="complete">
        <title>Configuración</title>
            <para>El mensaje final de error de la instalación puede resultar un poco confuso, pero los siguientes pasos pueden ayudarle a configurar el servicio:</para>
            <para>Lo más común, que usted quisiera hacer es asignar una dirección IP de forma aleatoria. Esto puede ser hecho con las siguientes configuraciones:</para>
            <screen>
# Sample /etc/dhcpd.conf
# (add your comments here) 
default-lease-time 600;
max-lease-time 7200;
option subnet-mask 255.255.255.0;
option broadcast-address 192.168.1.255;
option routers 192.168.1.254;
option domain-name-servers 192.168.1.1, 192.168.1.2;
option domain-name "mydomain.org";

subnet 192.168.1.0 netmask 255.255.255.0 {
range 192.168.1.10 192.168.1.100;
range 192.168.1.150 192.168.1.200;
} </screen>
            <para>Esto hará que el servidor DHCP proporcione a un cliente una dirección IP dentro del rango 192.168.1.10 - 192.168.1.100 ó 192.168.1.150 - 192.168.1.200. La concesión de la dirección IP durará 600 segundos, si el cliente no ha solicitado un intervalo de tiempo específico. En caso contrario, la concesión máxima permitida será de 7200 segundos. El servidor también «aconsejará» al cliente que use 255.255.255.0 como su máscara de subred, 192.168.1.255 como su dirección de difusión, 192.168.1.254 como la dirección del router/pasarela, y 192.168.1.1 y 192.168.1.2 como sus servidores DNS.</para>
            <para>Si necesita especificar un servidor WINS para sus clientes Windows, necesitará incluir la opción netbios-name-servers option, p.e.</para>
            <screen>
option netbios-name-servers 192.168.1.1; </screen>
            <para>Los parámetros de configuración de dhcpd son tomados del DHCP mini-HOWTO, que se puede encontrar <ulink url="http://www.tldp.org/HOWTO/DHCP/index.html">aquí</ulink>.</para>
      </sect2>
      <sect2 id="dhcp-references" status="complete">
        <title>Referencias</title>
          <para>
            <ulink url="http://www.dhcp-handbook.com/dhcp_faq.html">FAQ de DHCP</ulink>
          </para>
      </sect2>
    </sect1>
	<sect1 id="dns" status="complete">
		<title>Servicio de nombre de dominio (DNS)</title>
            <para>El Servicio de Nombres de Dominio (Domain Name Service, DNS) es un servicio de Internet que hace corresponder direcciones IP con nombres de dominio totalmente cualificados (FQDN). De esta forma, DNS nos evita tener que recordar direcciones IP. Los ordenadores que relizan DNS se denominan <emphasis>servidores de nombres</emphasis>. Ubuntu viene equipado con <application>BIND</application> (Berkley Internet Naming Daemon, Demonio de Nombres de Internet de Berkley), el programa usado más comúnmente para gestionar un servidor de nombres en GNU/Linux.</para>
            <!-- things to do: IPv6-->
      <sect2 id="dns-installation" status="complete">
        <title>Instalación</title>
          <para>En un terminal, introduzca el siguiente comando para instalar  <application>dns</application>:</para>
          <para>
<screen>
<command>sudo apt-get install bind</command>
</screen>
          </para>
      </sect2>
      <sect2 id="dns-configuration" status="complete">
        <title>Configuración</title>
          <para>Los archivos de configuración del DNS están guardados en el directorio <filename>/etc/bind</filename> . El archivo de configuración principal es <filename>/etc/bind/named.conf</filename>. El contenido del archivo de configuración por defecto se muestra debajo:</para>

          <para>
<programlisting>
// This is the primary configuration file for the BIND DNS server named.
//
// Please read /usr/share/doc/bind/README.Debian for information on the 
// structure of BIND configuration files in Debian for BIND versions 8.2.1 
// and later, *BEFORE* you customize this configuration file.
//

include "/etc/bind/named.conf.options";

// reduce log verbosity on issues outside our control↵
logging {
	category lame-servers { null; };
	category cname { null; };
};

// prime the server with knowledge of the root servers
zone "." {
        type hint;
        file "/etc/bind/db.root";
};

// be authoritative for the localhost forward and reverse zones, and for
// broadcast zones as per RFC 1912

zone "localhost" {
        type master;
        file "/etc/bind/db.local";
};

zone "127.in-addr.arpa" {
        type master;
        file "/etc/bind/db.127";
};

zone "0.in-addr.arpa" {
        type master;
        file "/etc/bind/db.0";
};

zone "255.in-addr.arpa" {
        type master;
        file "/etc/bind/db.255";
};

// add local zone definitions here
include "/etc/bind/named.conf.local";
</programlisting>
          </para>

          <para>La línea <application>include</application> especifica el archivo que contiene las opciones del DNS. La línea <application>directory</application> en el archivo de opciones de dice al DNS donde buscar los archivos. Todos los archivos usados por BIND serán relativos a ese directorio.</para>

          <para>El fichero llamado <filename>/etc/bind/db.root</filename> describe los servidores de nombres raiz en el mundo. Los servidores cambian con el tiempo y deben de ser mantenidos.</para>

          <para>La sección <application>zone</application> define un servidor maestro, y se almacena en un archivo mencionado en la etiqueta file. Cada archivo de zona contiene tres registros de recurso (RRs): un RR SOA, un RR NS y un RR PTR. SOA viene de Start of Authority («Inicio de autoridad»). La «@» es una notación especial que significa el origen. NS es el RR para el Servidor de Nombres. PTR es el Domain Name Pointer («Puntero al nombre de dominio»). Para arrancar el servidor DNS, ejecute la siguiente orden desde la línea de órdenes de una terminal:</para>
           <para>
<screen>
<command>sudo /etc/init.d/bind start</command>
</screen>
           </para>
          <para>Para más detalles puede accedar a la documentación mencionada en la sección de referencias.</para>
      </sect2>
      <sect2 id="dns-references" status="complete">
        <title>Referencias</title>
          <para>
            <ulink url="http://www.tldp.org/HOWTO/DNS-HOWTO.html">DNS HOWTO</ulink>
          </para>
      </sect2>
    </sect1>
	<sect1 id="cups" status="complete">
		<title>CUPS - Servidor de Impresión</title>
          <para>El mecanismo principal de impresión y de servicios de impresión en Ubuntu es el <emphasis>Sistema de Impresión Común de UNIX</emphasis> (Common UNIX Printing System, CUPS). Este sistema de impresión es una capa de impresión libre y portable que se ha convertido en el nuevo estándar de impresión en la mayoría de las distribuciones ed GNU/Linux.</para>
          <para>CUPS gestiona los trabajos y tareas de impresión, y proporciona impresión de red utilizando el Protocolo estándar de Impresión en Internet (IPP), que dispone de soporte para una gran gama de impresoras, desde matriciales hasta láser. CUPS también soporta PostScript Printer Description (PPD) y autodetección de impresoras de red, y dispone de una sencilla herramienta basada en web para la configuración y administración.</para>
      <sect2 id="cups-installation" status="complete">
        <title>Instalación</title>
          <para>Para instalar CUPS en su equipo Ubuntu, simplemente use <application>sudo</application> con la orden <application>apt-get</application> y proporcione como primer parámtro el nombre de los paquetes a instalar. Una instalación completa de CUPS tiene muchas dependencias de paquetes, pero pueden especificarse todas ellas en la misma línea de órdenes. Introduzca lo siguiente en la línea de órdenes de una terminal para instalar CUPS:</para>
          <para>
<screen>
<command>sudo apt-get install cupsys cupsys-client</command>
</screen>
          </para>
          <para>Tras autenticarse con su contraseña de usuario, los paquetes se descargarán y se instalarán sin errores. Tras finalizar la instalación, el servidor CUPS se iniciará automáticamente. Con el propósito de ayudar a la resolución de posibles problemas, puede acceder a los errores del servidor CUPS consultando el archivo de registro de errores en: <filename>/var/log/cups/error_log</filename>. Si el registro de errores no mostrara información suficiente para resolver los problemas encontrados, se podría incrementar el detalle del registro de CUPS cambiando la directiva <emphasis role="bold">LogLevel</emphasis> en el archivo de configuración (como se indicó antes) del valor predeterminado «info» al valor «debug», o incluso «debug2», lo que registrará todo. Si hace este cambio, recuerde volverlo a su valor original una vez haya resuelto su problem, para evitar que el archivo de registro crezca demasiado.</para>
      </sect2>
      <sect2 id="cups-configuration" status="complete">
        <title>Configuración</title>
          <para>El comportamiento del servidor CUPS se configura a través de las directivas contenidas en el archivo <filename>/etc/cups/cupsd.conf</filename>. El archivo de configuración de CUPS tiene la misma sintaxis que el archivo principal de configuración del servidor HTTP Apache, por lo que los usuarios acostumbrados a editar el archivo de configuración de Apache se sentirán como en su casa cuando editen el archivo de configuración de CUPS. Se presentarán aquí algunos ejemplos de opciones que usted puede desear cambiar inicialmente.</para>
          <tip>
               <para>Antes de editar un fichero de configuración, debe hacer una copia del archivo original y protegerla contra escritura, así tendrá la configuración original como referencia, y podrá reusarla si fuera necesario.</para>
               <para>Copie el archivo <filename>/etc/cups/cupsd.conf</filename> y protejalo contra escritura con los siguientes comandos, introduzcalos en un terminal:</para>
               </tip>
               <para>
<screen>
<command>sudo cp /etc/cups/cupsd.conf /etc/cups/cupsd.conf.original</command>
<command>sudo chmod a-w /etc/cups/cupsd.conf.original</command>
</screen>
               </para>
          <itemizedlist>
                <listitem>
                <para><emphasis role="bold">ServerAdmin</emphasis>: Para configurar la dirección de correo del administrador del servidor CUPS, simplemente edite el archivo de configuración <filename>/etc/cups/cupsd.conf</filename> con su editor de textos favorito, y modifique adecuadamente la línea <emphasis role="italics">ServerAdmin</emphasis>. Por ejemplo, si usted es el administrador del servidor CUPS, y su dirección de correo electrónico es  «bjoy@somebigco.com», entonces podría modificar la línea ServerAdmin para que tenga el siguiente aspecto:</para>
                <para>
<screen>
ServerAdmin bjoy@somebigco.com
</screen>
                </para>
                </listitem>
          </itemizedlist>
                <para>Para más ejemplos de directivas de configuración en el archivo de configuración del servidor CUPS, vea la página de manual asociada introduciendo el siguiente comando en un terminal:</para>
               <para>
<screen>
<command>man cupsd.conf</command>
</screen>
               </para>
                               <note>
                <para>Una vez haya realizado cambios en el archivo de configuración <filename>/etc/cups/cupsd.conf</filename>, necesitará reiniciar el servidor CUPS tecleando la siguiente orden en la línea de órdenes de una terminal:</para>
                </note>
                <para>
<screen>
<command>sudo /etc/init.d/cupsys restart</command>
</screen>
                </para>
	<para>Otras opciones de configuración para el servidor CUPS se encuentran en el archivo <filename>/etc/cups/cups.d/ports.conf</filename>:</para>
          <itemizedlist>
                <listitem>
                <para><emphasis role="bold">Listen</emphasis>: De forma predeterminada, en Ubuntu la instalación del servidor CUPS escucha sólo por la interfaz loopback en la dirección IP <emphasis>127.0.0.1</emphasis>. Para hacer que el servidor CUPS escuche en la dirección IP del verdadero adaptador de red, debe especificar un nombre de host, una dirección IP, o bien, un par dirección IP/puerto, y para ello debe añadir una directiva Listen. Por ejemplo, si su servidor CUPS reside en una red local con la dirección IP <emphasis role="italics">192.168.10.250</emphasis> y desea que sea accesible para los demás sistemas de esta subred, debe editar el archivo  <filename>/etc/cups/cups.d/ports.conf</filename> y añadir una directiva Listen, de esta forma:</para>
                <para>
<screen>
Listen 127.0.0.1:631 # existing loopback Listen
Listen /var/run/cups/cups.sock # existing socket Listen
Listen 192.168.10.250:631 # Listen on the LAN interface, Port 631 (IPP)
</screen>
                </para>
                <para>En el ejemplo anterior, debe comentar o borrar la referencia a la dirección de loopback (127.0.0.1) si no desea que <application>cupsd</application> escuche por esa interfaz, sino sólo por la interfaz Ethernet de la red local (LAN). Para activar la escucha por todas las interfases de red en las que se haya establecido un nombre de host, incluyendo el loopback, debería crear una entrada listen para el nombre de host <emphasis>socrates</emphasis> así:</para>
                <para>
<screen>
Listen·socrates:631··#·Escuchando en todos los interfaces para la máquina·'socrates'
</screen>
                </para> 
				<para>o omitiendo la directiva Listen y usando <emphasis>Port</emphasis> en su lugar, como en:</para>
<para>
<screen>
Port 631 # Escuchando en el puerto 631 en todos los interfaces
</screen>
</para>
                </listitem>
	</itemizedlist>

      </sect2>
      <sect2 id="cups-references" status="complete">
        <title>Referencias</title>
        <para>
        <ulink url="http://www.cups.org/">Sitio Web de CUPS</ulink>
        </para>
        </sect2>
    </sect1>
	<sect1 id="httpd" status="complete">
		<title>HTTPD - Servidor Web Apache2</title>
      <para>Apache es el Servidor Web mas comunmente utilizado en sistemas GNU/Linux. Los Servidores Web son usados para servir Páginas Web solicitadas por ordenadores clientes. Los clientes típicamente solicitan ver Páginas Web usando un Navegador como <application>Firefox</application>, <application>Opera</application>, o <application>Mozilla</application>.</para>
      <para>Los usuarios introducen un Localizador de Recursos Uniforme (Uniform Resource Locator, URL) para señalar a un servidor web por medio de su Nombre de Dominio Totalmente Cualificado (Fully Qualified Domain Name, FQDN) y de una ruta al recurso solicitado. Por ejemplo, para ver la página web del <ulink url="http://www.ubuntu.com">sitio web de Ubuntu</ulink>, un usuario debería introducir únicamente el FQDN. Para solicitar información específica acerca del <ulink url="http://www.ubuntu.com/support/supportoptions/paidsupport">soporte de pago</ulink>, un usuario deberá introducir el FQDN seguido de una ruta.</para>
      <para>El protocolo más comunmente utilizado para ver páginas Web es el Hyper Text Transfer Protocol (HTTP). Protocolos como el Hyper Text Transfer Protocol sobre Secure Sockets Layer (HTTPS), y  File Transfer Protocol (FTP), un protocolo para subir y descargar archivos, también son soportados.</para>
      <para>Los servidores web Apache a menudo se usan en combinación con el motor de bases de datos <application>MySQL</application>, el lenguaje de scripting <application>PHP</application>, y otros lenguajes de scripting populares como <application>Python</application> y <application>Perl</application>. Esta configuración se denomina LAMP (Linux, Apache, MySQL y Perl/Python/PHP) y conforma una potente y robusta plataforma para el desarrollo y distribución de aplicaciones basadas en la web.</para>
<sect2 id="http-installation" status="complete">
  <title>Instalación</title>
                  <para>El servidor web Apache2 esta disponible en Ubuntu Linux. Para instalar Apache2:</para>
          <procedure><step>
                	  <para>Introduzca el siguiente comando en un terminal: <screen>↵
<command>sudo apt-get install apache2</command>↵
</screen></para>
			</step>
	    </procedure>
      </sect2>
      <sect2 id="http-configuration" status="complete">
        <title>Configuración</title>
          <para>Apache se configura colocando <emphasis>directivas</emphasis> en archivos de configuración de texto plano. El archivo principal de configuración se llama <filename>apache2.conf</filename>. Además, se pueden añadir otros archivos de configuración mediante la directiva <emphasis>Include</emphasis>, y se pueden usar comodines para incluir muchos archivos de configuración. Todas las directivas deben colocarse en alguno de esos archivos de configuración. Apache2 sólo reconocerá los cambios realizados en los archivos principales de configuración cuando se inicie o se reinicie.</para>

          <para>El servidor también lee un fichero que contiene los tipos mime de los documentos; el nombre de ese fichero lo establece la directiva <emphasis>TypesConfig</emphasis>, y es <filename>mime.types</filename> por omisión.</para>

          <para>El archivo de configuración predeterminado de Apache2 es <filename>/etc/apache2/apache2.conf</filename>. Puede editar este archivo para configurar el servidor Apache2. Podrá configurar el número de puerto, la raíz de documentos, los módulos, los archivos de registros, los hosts virtuales, etc.</para>
        <sect3 id="http-basic-settings" status="complete">
          <title>Opciones básicas</title>
            <para>Esta sección explica los parámetros de configuración esenciales para el servidor Apache2. Remitase a la <ulink url="http://httpd.apache.org/docs/2.0/">Documentación de Apache2 Documentation</ulink> para más detalles.</para>

             <itemizedlist>

             <listitem><para>Apache2 trae una configuración predeterminada preparada para  servidores virtuales. Viene configurado con un único servidor virtual predeterminado (usando la directiva <emphasis>VirtualHost</emphasis>) que se puede modificar, o dejarlo tal cual si sólo tiene un único sitio web, o usarlo como plantilla para servidores virtuales adicionales si tiene varios sitios web. Si se deja solo, el servidor virtual predeterminado funcionará como su servidor predeterminado, o los usuarios del sitio web verán si la URL que introducen no concuerda con la directiva <emphasis>ServerName</emphasis> de cualquiera de sus sitios personalizados. Para modificar el servidor virtual predeterminado, edite el archivo <filename>/etc/apache2/sites-available/default</filename>. Si desea configurar un nuevo servidor o sitio virtual, copie ese archivo dentro del mismo directorio con el nombre que haya elegido. Por ejemplo, <command>sudo cp /etc/apache2/sites-available/default /etc/apache2/sites-available/minuevositio</command> Edite el nuevo archivo para configurar el nuevo sitio usando algunas de las directivas que se describen a continuación.</para></listitem>

             <listitem><para>La directiva <emphasis>ServerAdmin</emphasis> especifica la dirección de correo del administrador del servidor. El valor por omisión es webmaster@localhost. Cambie esta dirección por alguna a la que le puedan llegar los mensajes que se le envíen (si ud. es el administrador del servicio). Si su sitio web tiene algún problema, Apache2 mostrará un mensaje de error con en la que aparecerá esta dirección de correo para que la gente pueda enviar un informe del error. La directiva se encuentra en el fichero de configuración de su sitio en /etc/apache2/sites-available.</para></listitem>

             <listitem><para>La directiva <emphasis>Listen</emphasis> especifica el puerto (y, opcionalmente, la dirección IP) por el que escuchará Apache2. Si no se especifica la dirección IP, Apache2 escuchará por todas las direcciones IP asignadas a la máquina en la que se ejecute. El valor predeterminado de la directiva Listen es 80. Cambiarlo a 127.0.0.1:80 provoca que Apache2 sólo escuche por su dispositivo loopback, de forma que no estará disponible para Internet. Cámbielo a 81 (por ejemplo) para cambiar el puerto por el que escucha, o déjelo tal cual para que funcione normalmente. La directiva se puede encontrar y cambiar en su propio archivo de configuración, <filename>/etc/apache2/ports.conf</filename>.</para></listitem>

			 <listitem><para>La directiva <emphasis>ServerName</emphasis> es opcional, y especifica con cuál FQDN (Full Qualified Domain Name, Nombre de Dominio Totalmente Cualificado) responderá su sitio web. El servidor virtual predeterminado no especifica ninguna directiva ServerName, por lo que responderá a todas las peticiones que no se ajusten a ninguna directiva ServerName en otro servidor virtual. Si acaba de adquirir el dominio ubuntumola.com, y desea asociar a él su servidor Ubuntu, el valor de la directiva ServerName en el archivo de configuración de su servidor virtual debería ser ubuntumola.com. Añada esta directiva al nuevo archivo de configuración virtual que creó previamente <filename>/etc/apache2/sites-available/minuevositio</filename>). <tip><para>También puede desear que su sitio responda a www.ubunturocks.com, ya que muchos usuarios asumen que el prefijo www es apropiado. Para ello, use la directiva <emphasis>ServerAlias</emphasis>. Puede usar comodines en la directiva ServerAlias. Por ejemplo, <command>ServerAlias *.ubunturocks.com</command> hará que su sitio responda a cualquier solicitud de dominio que termine en .ubunturocks.com.</para></tip></para></listitem>

			 <listitem><para>La directiva <emphasis>DocumentRoot</emphasis> especifica dónde debe buscar Apache los archivos que forman el sitio. El valor predeterminado es /var/www. No hay ningún sitio configurado allí, pero si descomenta la directiva <emphasis>RedirectMatch</emphasis> en <filename>/etc/apache2/apache2.conf</filename>, las peticiones se redirigirán a /var/www/apache2-default, que es donde reside el sitio predeterminado de Apache2. Cambie este valor en el archivo de host virtual de su sitio, y recuerde crear ese directorio si fuese necesario.</para></listitem>
            </itemizedlist>

			<tip><para>Apache2 <emphasis role="bold">no</emphasis> procesa el directorio /etc/apache2/sites-available. Los enlaces simbólicos en /etc/apache2/sites-enabled apuntan a los sitios «disponibles». Use la utilidad a2ensite (Apache2 Enable Site) para crear esos enlaces simbólicos, así: <command>sudo a2ensite minuevositio</command> donde el archivo de cofiguración de su sitio es <filename> /etc/apache2/sites-available/minuevositio</filename>. Igualmente, se debe usar la utilidad a2dissite para deshabilitar sitios.</para></tip>

        </sect3>
        <sect3 id="default-settings" status="complete">
          <title>Opciones predeterminadas</title>
            <para>Esta sección explica la configuración de las opciones predeterminadas del servidor Apache2. Por ejemplo, si desea añadir un host virtual, las opciones que usted configura para el host virtual tienen prioridad para ese host virtual. Para las directivas no definidas dentro de las opciones del host virtual, se usan los valores predeterminados.</para>

            <itemizedlist>
            <listitem>
            <para>El <emphasis>DirectoryIndex</emphasis> es la página servida por defecto por el servidor cuando un usuario solicita el índice de un directorio añadiendo la barra de división (/) al final del nombre del directorio.</para>

             <para>Por ejemplo, cuando un usuario solicite la página http://www.ejemplo.com/este_directorio/, él o ella obtendrá la página DirectoryIndex si existe, un listado de directorio generado por el servidor si no existe pero tiene especificada la opción Indexes, o una página Permiso Denegado si no se cumplen ninguna de las condiciones anteriores. El servidor intentará buscar uno de los archivos listados en la directiva DirectoryIndex y devolverá el primero que encuentre. Si no encuentra ninguno de esos archivos, y está establecida la opción Options Indexes para ese directorio, el servidor generará y devolverá una lista, en formato HTML, de los subdirectorios y archivos del directorio. El valor predeterminado, almacenado en <filename>/etc/apache2/apache2.conf</filename>, es «index.html index.cgi index.pl index.php index.xhtml». Por tanto, si Apache2 encuentra un archivo en un directorio solicitado que se ajusta a alguno de esos nombres, se mostrará el primero de todos.

page if it exists, a server-generated directory list if it does not and the Indexes option is specified, or a Permission Denied page if neither is true. The server will try to find one of the files listed in the DirectoryIndex directive and will return the first one it finds. If it does not find any of these files and if Options Indexes is set for that directory, the server will generate and return a list, in HTML format, of the subdirectories and files in the directory. The default value, found in <filename>/etc/apache2/apache2.conf</filename> is " index.html index.cgi index.pl index.php index.xhtml". Thus, if Apache2 finds a file in a requested directory matching any of these names, the first will be displayed.</para>
            </listitem>

            <listitem>
            <para>La directiva <emphasis>ErrorDocument</emphasis> le permite especificar un archivo que usará Apache2 para los eventos de error específicos. Por ejemplo, si un usuario solicita un recurso que no existe, se producirá un error 404, y (en base a la configuración predeterminada de Apache2), se mostrará el archivo <filename>/usr/share/apache2/error/HTTP_NOT_FOUND.html.var </filename>. Ese archivo no está en el DocumentRoot del servidor, sino que existe una directiva Alias en <filename>/etc/apache2/apache2.conf</filename> que redirige hacia /usr/share/apache2/error/ las solicitudes dirigidas al directorio /error. Para ver una lista de las directivas ErrorDocument predeterminadas, use la orden: <command>grep ErrorDocument /etc/apache2/apache2.conf</command></para>
            </listitem>


            <listitem>
            <para>De forma predeterminada, el servidor escribe los registros de las transferencias en el archivo /var/log/apache2/access.log. Puede cambiar esto sitio a sitio en los archivos de configuración de su servidor virtual con la directiva <emphasis>CustomLog</emphasis>, o también puede omitirla para aceptar la opción predeterminada, especificada en <filename> /etc/apache2/apache2.conf</filename>. También puede especificar el archivo en el que se registrarán los errores, por medio de la directiva <emphasis>ErrorLog</emphasis>, cuyo valor predeterminado es <filename>/var/log/apache2/error.log</filename>. Estos se mantienen separados de los registros de transferencias para ayudar en la resolución de problemas con su servidor Apache2. También puede especificar la directiva <emphasis>LogFormat</emphasis> (consulte en <filename>/etc/apache2/apache2.conf</filename> su valor predeterminado).</para>
            </listitem>

            <listitem>
            <para>Algunas opciones son especificadas por directorio en lugar de por servidor. Una de estas directivas es Option. Un parrafo Directory es encerrado entre etiquetas XML, como estas:
<screen><command>&lt;Directory /var/www/mynewsite&gt;↵
				...↵
			&lt;/Directory&gt;</command></screen> La directiva Options dentro del parrafo Directory acepta un o más de los siguientes valores (entre otros), separados por espacios:</para>
            <itemizedlist spacing="compact">
                <listitem>
                    <para><emphasis role="bold">ExecCGI</emphasis> - Permite la ejecución de scripts CGI. Los scripts CGI no serán ejecutados si esta opción no fue escojida. <tip><para>Muchos archivos no deberían ser ejecutados como scripts CGI. Esto podría resultar muy peligroso. Los scripts CGI deberían mantenerse en un directorio separado fuera de su DocumentRoot, y dicho directorio debería ser el único que tuviese activada la opción ExecCGI. Así está establecido desde el principio, y la ubicación predeterminada para los scripts CGI es /usr/lib/cgi-bin.</para></tip></para>
                </listitem>
                <listitem>
                    <para><emphasis role="bold">Includes</emphasis> - Permite «server-side includes». Éstos, permiten a un fichero HTML <emphasis>incluir</emphasis> otros ficheros. No es una opción muy común, consulte el <ulink url="http://httpd.apache.org/docs/2.0/howto/ssi.html">Cómo - Apache2 SSI</ulink> para más información.</para>
                </listitem>
                <listitem>
                    <para><emphasis role="bold">IncludesNOEXEC</emphasis> - Permite «server-side includes», pero deshabilita los #exec y #include en los scripts CGI.</para>
                </listitem>
                <listitem>
                    <para><emphasis role="bold">Indexes</emphasis> - Muestra una lista formateada del contenido de los directorios, si no existe el DirectoryIndex (como el index.html) en el directorio solicitado. <caution><para>Por razones de seguridad, esto no debería establecerse, y desde luego no en el directorio indicado por DocumentRoot. Habilite esta opción con cuidado (y sólo para ciertos directorios) sólo si esta seguro de querer que los usuarios vean todo el contenido del directorio.</para></caution></para>
                </listitem>
                <listitem>
                    <para><emphasis role="bold">Vistas múltiples</emphasis> - Soporte para vistas múltiples negociadas por contenido; esta opción está desactivada de forma predeterminada por motivos de seguridad. Consulte la <ulink url="http://httpd.apache.org/docs/2.0/mod/mod_negotiation.html#multiviews">documentación de Apache2 sobre esta opción</ulink>.</para>
                </listitem>
                <listitem>
                    <para><emphasis role="bold">SymLinksIfOwnerMatch</emphasis> - Solo seguirá enlaces simbólicos si el directorio de destino es del mismo usuario que el enlace.</para>
                </listitem>
            </itemizedlist>

            </listitem>
            </itemizedlist>
        </sect3>
        <sect3 id="virtual-hosts-settings" status="complete">

          <title>Configuración de Servidores Virtuales</title>
            <para>Los servidores virtuales le permiten ejecutar, en la misma máquina, diferentes servidores para diferentes direcciones IP, diferentes nombres de máquina o diferentes puertos. Por ejemplo, puede tener los sitios web http://www.ejemplo.com y http://www.otroejemplo.com en el mismo servidor web usando servidores virtuales.  Esta opción corresponde a la directiva &lt;VirtualHost&gt; para el servidor virtual predeterminado y para los servidores virtuales basados en IP. Corresponde a la directiva &lt;NameVirtualHost&gt; para un servidor virtual basado en el nombre.</para>

			<para>El conjunto de directivas para un servidor virtual sólo se aplican a un servidor virtual particular. Si una directiva se establece a nivel del servidor completo y no se define dentro de las opciones del servidor virtual, entonces se usarán las opciones predeterminadas. Por ejemplo, puede definir una dirección de correo electrónico para el webmaster y no definir direcciones de correo individuales para cada servidor virtual.</para>
 
 			<para>Establezca la directiva DocumentRoot apuntando al directorio que contenga el documento raíz (como el index.html) para el host virtual. El DocumentRoot por defecto es <filename>/var/www</filename>.</para>

			<para>La directiva ServerAdmin, dentro de una estrofa VirtualHost, es la dirección de correo usada en el pie de página de las páginas de error (si es que eligió mostrar un pie de página con la dirección de correo en las páginas de error).</para>

        </sect3>
        <sect3 id="server-settings" status="complete">
          <title>Configuración del Servidor</title>
            <para>Esta sección explica como configurar básicamente un servidor.</para>
                    <para><emphasis role="bold">LockFile</emphasis> - La directiva LockFile establece la ruta al archivo de bloqueo usado cuando el servidor se compila con la opción USE_FCNTL_SERIALIZED_ACCEPT o USE_FLOCK_SERIALIZED_ACCEPT. Debe almacenarse en el disco local. Debe dejarse a su valor predeterminado, a menos que el directorio de registros esté ubicado en un directorio NFS compartido. Si es éste el caso, debería cambiarse el valor predeterminado a una ubicación en el disco local y a un directorio en el que sólo tenga permisos de lectura el usuario «root» .</para>

					<para><emphasis role="bold">PidFile</emphasis> - La directiva PidFile establece el archivo en el que el servidor registrará su identificador de proceso (pid). Sobre este archivo sólo debe tener permisos de lectura el usuario «root». En la mayoría de los casos, debería dejarse a su valor predeterminado.</para>

<para><emphasis role="bold">User</emphasis> - La directiva User establece el identificador de usuario utilizado por el srevidor para responder a las peticiones. Esta opción determina el acceso de servidor. Todos los archivos inaccesibles para este usuario serán también inaccesibles para los visitantes de su sitio web. El valor predeterminado para User es «www-data».</para>
            <warning>
            <para>Hasta que no sepa exactamente lo que esta haciendo, no ponga en la directiva User al root. Usar el root como usuario puede crear grandes agujeros de seguridad en su servidor Web.</para>
            </warning>
 <para>La directiva Group es similar a la directiva User. Group establece el grupo sobre el que el servidor aceptará las peticiones. El grupo por defecto es también www-data.</para>

        </sect3>
        <sect3 id="apache-modules" status="complete">
          <title>Módulos de Apache</title>
              <para>Apache es un servidor modular. Esto supone que en el núcleo del servidor sólo está incluida la funcionalidad más básica. Las características extendidas están disponibles a través de módulos que se pueden cargar en Apache. De forma predeterminada, durante la compilación se incluye un juego básico de módulos en el servidor. Si el servidor se compila para que use módulos cargables dinámicamente, los módulos se podrán compilar por separado y se podrán añadir posteriormente usando la directiva LoadModule. En caso contrario, habrá que recompilar Apache para añadir o quitar módulos. Ubuntu compila Apache2 para que permita la carga dinámica de módulos. Las directivas de configuración ser pueden incluir condicionalmente en base a la presencia de un módulo en particular, encerrándolas en un bloque &lt;IfModule&gt;. Puede instalar módulos adicionales de Apache2 y usarlos con su servidor web. Puede instalar los módulos de Apache2 usando la orden <application>apt-get</application>. Por ejemplo, para instalar el módulo de Apache2 que proporciona autenticación por MySQL, puede ejecutar lo siguiente en la línea de órdenes de una terminal:</para>
                
                <para>
<screen>
<command>sudo apt-get install libapache2-mod-auth-mysql</command>
</screen>
                </para>
                <para>Una vez instalado el módulo, este estará disponible en el directorio <filename>/etc/apache2/mods-available</filename>. Puede utilizar el comando <application>a2enmod</application> para activar el módulo. Puede utilizar el comando <application>a2dismod</application> para desactivar el módulo. Una vez que active el módulo, este estará disponible en el directorio <filename>/etc/apache2/mods-enabled</filename>.</para>
        </sect3>
      </sect2>
      <sect2 id="https-configuration" status="complete">
        <title>Configuración HTTPS</title>
          <para>El módulo <application>mod_ssl</application> añade una importante característica al servidor Apache2 - la habilidad de encriptar las comunicaciones. De esta forma, cuando su navegador se esta comunicando utilizando la encriptación SSL, se utilizará el prefijo https:// al principio del Localizador de Recursos Uniformes (URL) en la barra de direcciones del navegador.</para>

          <para>El módulo <application>mod_ssl</application> esta disponible en el paquete <application>apache2-common</application>. Si tiene instalado este paquete, podrá ejecutar el siguiente comando en un terminal para activar el módulo <application>mod_ssl</application>:</para>

          <para>
<screen>
<command>sudo a2enmod ssl</command>
</screen>
          </para>
        <sect3 id="certificates-and-security" status="complete">
          <title>Certificados y Seguridad</title>
            <para>Para configurar un servidor seguro, utilice criptografía de clave pública para crear un par de claves pública y privada. En la mayoría de los casos, usted envía su solicitud de certificado (incluyendo su clave pública), una prueba de la identidad de su compañía, y el pago correspondiente, a una Autoridad de Certificación (Certificate Authority, CA). La CA verifica la solicitud de certificado y su identidad, y posteriormente le envía un certificado para su servidor seguro.</para>
             <para>También puede crear su propio certificado auto-firmado. Tenga en cuenta, no obstante, que los certificados auto-firmados no deben usarse en la mayoría de los entornos de producción. Los certificados auto-firmados no son aceptados automáticamente por los navegadores de los usuarios. Los navegadores solicitarán al usuario que acepte el certificado para crear la conexión segura.</para>

             <para>Cuando tenga un certificado auto-firmado, o un certificado firmado por una CA de su elección, necesitará instalarlo en su servidor seguro.</para>
        </sect3>
        <sect3 id="types-of-certificates" status="complete">
          <title>Tipos de Certificados</title>
            <para>Necesita una clave y un certificado para trabajar con su servidor seguro, lo que significa que deberá generar su propio certificado firmado por usted mismo, o comprar un certificado firmado por una CA. Un certificado firmado por una CA proporciona dos capacidades importantes para su servidor:</para>

            <itemizedlist>
            <listitem>
            <para>Los navegadores (habitualmente) reconocen automáticamente el certificado y permiten establecer una conexión segura sin preguntar al usuario.</para>
            </listitem>
            <listitem>
            <para>Cuando una CA envía un certificado firmado, está garantizando la identidad de la organización que está suministrando las páginas web al navegador.</para>
            </listitem>
            </itemizedlist>

            <para>Muchos navegadores web que soportan SSL tienen una lista de CAs cuyos certificados aceptan automáticamente. Si un navegador encuentra un certificado autorizado por una CA que no está en su lista, el navegador le preguntará al usuario si desea aceptar o denegar la conexión.</para>
            <para>Puede generar un certificado firmado por usted mismo para su servidor seguro, pero tenga en cuenta que un certificado auto-firmado no proporciona la misma funcionalidad que un certificado firmado por una CA. La mayoría de los navegadores web no reconocen automáticamente los certificados auto-firmados, y éstos además no proporcionan ninguna garantía acerca de la identidad de la organización que está proporcionando el sitio web. Un certificado firmado por una CA proporciona estas dos importantes características a un servidor seguro. El proceso para obtener un certificado de una CA es realmente fácil. A grandes rasgos, consta de:</para>

            <orderedlist>
            <listitem>
               <para>Crear dos llaves encriptadas pública y privada.</para>
            </listitem>
            <listitem>
                 <para>Crear una solicitud de certificado basado en la clave pública. La solicitud de certificado contiene información sobre su servidor y la compañía que lo aloja.</para>
            </listitem>
            <listitem>
                 <para>Enviar la solicitud de certificado, junto con los documentos que prueban su identidad, a una CA. No podemos decirle qué autoridad de certificación elegir. Su decisión debe basarse en sus experiencias pasadas, o en las experiencias de sus amigos o colegas, o simplemente en factores económicos.</para>

                    <para>Una vez se haya decidido por una CA, necesita seguir las instrucciones que ésta le proporcione para obtener un certificado proveniente de ella.</para>
            </listitem>
            <listitem>
               <para>Cuando la CA esté segura de que tiene todo lo que necesita de usted, le enviará un certificado digital.</para>
            </listitem>
            <listitem>
               <para>Instalar este certificado en su servidor seguro, y soportar transacciones seguras.</para>
            </listitem>
            </orderedlist>

            <para>Cuando obtenga un certificado de una CA, o genere su propio certificado auto-firmado, el primer paso es generar una clave.</para>
        </sect3>
        <sect3 id="generating-a-csr" status="complete">
          <title>Generar una Petición de Firma de Certificado (Certificate Signing Request, CSR)</title>
            <para>Para generar la Solicitud de Firma de Certificado (Certificate Signing Request, CSR), deberá crear su propia clave. Para ello, puede ejecutar la siguiente orden en la línea de órdenes de una terminal:</para>

            <para>
<screen>
<command>openssl genrsa -des3 -out server.key 1024</command>
</screen>
            </para>
<programlisting>
↵
Generating RSA private key, 1024 bit long modulus↵
.....................++++++↵
.................++++++↵
unable to write 'random state'↵
e is 65537 (0x10001)↵
Enter pass phrase for server.key:↵
</programlisting>

        <para>Ahora puede introducir su frase de paso. Para mayor seguridad, ésta debería contener, al menos, ocho caracteres. La longitud mínima al especificar -des3 es de cuatro caracteres. Debe incluir números y/o signos de puntuación, y no debería ser una palabra que se pudiera encontrar en un diccionario. Además, recuerde que su frase de paso distingue mayúsculas de minúsculas.</para>

        <para>Vuelva a escribir la frase de paso para verificarla. Cuando la haya vuelto a escribir correctamente, se generará la clave del servidor y se almacenará en el archivo <filename>server.key</filename>.</para>

        <warning>
        <para>También puede ejecutar su servidor web seguro sin una frase de paso. Esto puede ser conveniente porque así no tendrá que introducir la frase de paso cada vez que vaya a arrancar su servidor web seguro. Pero también resulta altamente inseguro y comprometer la clave significa también comprometer al servidor.</para>
        </warning>

        <para>En todo caso, puede escoger ejecutar su servidor web seguro sin frase de paso quitando la opción -des3 en la fase de generación, o ejecutando la siguiente orden en una terminal:</para>

        <para>
<screen>
<command>openssl rsa -in server.key -out server.key.insecure</command>
</screen>
        </para>
        <para>Una vez haya ejecutado la orden anterior, la clave insegura se almacenará en el archivo <filename>server.key.insecure</filename>. Puede usar este archivo para generar el CSR sin frase de paso.</para>

        <para>Para crear el CSR, ejecute el siguiente comando en un terminal:</para>

        <para>
<screen>
<command>openssl req -new -key server.key -out server.csr</command>
</screen>
        </para>

        <para>Se le pedirá que introduzca la frase de paso. Si la introduce correctamente, se le solicitará que introduzca el nombre de la empresa, el nombre del sitio, la dirección de correo electrónico, etc. Cuando haya introducido todos esos detalles, se creará su CSR y se almacenará en el archivo <filename>server.csr</filename>. Puede enviar ese archivo CSR a una AC para que lo procese. La AC usará ese archivo CSR y emitirá el certificado. Por otra parte, también puede crear un certificado auto-firmado usando este CSR.</para>

        </sect3>
        <sect3 id="creating-a-self-signed-certificate" status="complete">
          <title>Creación de un certificado auto-firmado</title>
            <para>Para crear un certificado auto-firmado, ejecute la siguiente orden en una terminal:</para>

            <para>
<screen>
<command>openssl·x509·-req·-days·365·-in·server.csr·-signkey·server.key·-out·server.crt</command>
</screen>
            </para>

            <para>La orden anterior le solicitará que introduzca la frase de paso. Cuando la haya introducido, se creará su certificado y se almacenará en el archivo <filename>server.crt</filename>.</para>
        <warning>
        <para>Si su servidor seguro se va a usar en un entorno de producción, probablemente necesitará un certificado firmado por una CA. No se recomienda el uso de certificados auto-firmados.</para>
        </warning>
        </sect3>
        <sect3 id="installing-the-certificate" status="complete">
          <title>Instalar el Certificado</title>

            <para>Puede instalar el archivo de la clave <filename>server.key</filename> y el archivo del certificado <filename>server.crt</filename> o el archivo de certificado enviado por su CA ejecutando las siguientes órdenes en la línea de órdenes de una terminal:</para>
            <para>
<screen>
<command>sudo cp server.crt /etc/ssl/certs</command>
<command>sudo cp server.key /etc/ssl/private</command>
</screen>
            </para>
            <para>Debería añadir las siguientes cuatro líneas al archivo <filename>/etc/apache2/sites-available/default</filename> o bien al archivo de configuración de su servidor virtual seguro. Debe colocarlas en la sección <emphasis>VirtualHost</emphasis>, bajo la línea <emphasis>DocumentRoot</emphasis>:</para>
<programlisting>
↵
SSLEngine on↵
↵
SSLOptions +FakeBasicAuth +ExportCertData +CompatEnvVars +StrictRequire↵
↵
SSLCertificateFile /etc/ssl/certs/server.crt↵
SSLCertificateKeyFile /etc/ssl/private/server.key↵
</programlisting>
          
            <para>El HTTPS suele escuchar en el puerto número 443. Podría añadir la siguiente línea al archivo <filename>/etc/apache2/ports.conf</filename>:</para>
<programlisting>
↵
Listen 443↵
</programlisting>

        </sect3>
        <sect3 id="accessing-the-server" status="complete">
          <title>Accediendo al Servidor</title>
            <para>Una vez haya instalado su certificado, debería reiniciar su servidor web. Puede ejecutar la siguiente orden en la línea de órdenes de una terminal para reiniciar su servidor web.</para>
            <para>
<screen>            
<command>sudo /etc/init.d/apache2 restart</command>
</screen>
            </para>
        <note><para>Debería memorizar e introducir su contraseña cada vez que inicie una sesión segura en su navegador.</para></note>

            <para>Se le pedirá que introduzca la frase de paso. Cuando haya introducido la frase de paso correcta, se arrancará el servidor web seguro. Puede acceder a las páginas del servidor seguro tecleando https://su_equipo/url en la barra de direcciones de su navegador.</para>

        </sect3>
      </sect2>
      <sect2 id="http-references" status="complete">
        <title>Referencias</title>
          <para>
          <ulink url="http://httpd.apache.org/docs/2.0/">Documentación de Apache2</ulink>
          </para>
          <para>
          <ulink url="http://www.modssl.org/docs/">Documentación de Mod SSL</ulink>
          </para>
      </sect2>
    </sect1>
	
	<sect1 id="squid" status="complete">
		<title>Servidor proxy Squid</title>
          <para>Squid es una completa aplicación servidor proxy caché web que proporciona servicios de proxy y caché para Hyper Text Transport Protocol (HTTP), File Transfer Protocol (FTP) y otros protocolos populares de red. Squid puede servir de caché y de proxy para las peticiones Secure Sockets Layer (SSL) y de caché para las consultas de Domain Name Server (DNS), y proporciona servicios de caché transparente. Squid también soporta una amplia variedad de protocolos de caché, como el Internet Cache Protocol (ICP), el Hyper Text Caching Protocol (HTCP), el Cache Array Routing Protocol (CARP), y el Web Cache Coordination Protocol (WCCP).</para>
          <para>El servidor proxy caché Squid es una solución excelente para una amplia variedad de necesidades de proxy y de caché, y escala desde redes de oficina hasta redes a nivel empresarial al tiempo que proporciona extensos y granulares mecanismos de control de acceso y monitorización de parámetros críticos a través del Simple Network Management Protocol (SNMP). Cuando elija un ordenador para su uso como proxy Squid dedicado, o como servidor de caché, asegúrese de que su sistema dispone de una gran cantidad de memoria física, puesto que Squid mantiene una caché en memoria para mejorar el rendimiento.</para>
      <sect2 id="squid-installation" status="complete">
        <title>Instalación</title>
          <para>En un terminal, introduzca el siguiente comando para instalar el servidor Squid:</para>
          <para>
<screen>
<command>sudo apt-get install squid squid-common</command>
</screen>
          </para>
      </sect2>
      <sect2 id="squid-configuration" status="complete">
        <title>Configuración</title>
          <para>Squid se configura editando las directivas contenidas en el archivo de configuración <filename>/etc/squid/squid.conf</filename>. Los siguientes ejemplos ilustran algunas de las directivas que puede modificar para alterar el comportamiento del servidor Squid. Para una configuración más en profundidad, consulte la sección Referencias.</para>
             <tip>
               <para>Antes de editar el archivo de configuración, debería hacer una copia del archivo original y protegerlo contra escritura de forma que tenga las opciones originales como referencia y pueda reutilizarlas si fuese necesario.</para>
               <para>Copie el archivo·<filename>/etc/squid/squid.conf</filename>·y protejalo contra escritura introduciendo el siguiente comando en un terminal:</para>
	     </tip>
               <para>
<screen>
<command>sudo cp /etc/squid/squid.conf /etc/squid/squid.conf.original</command>
<command>sudo chmod a-w /etc/squid/squid.conf.original</command>
</screen>
               </para> 
	        <para>
           <itemizedlist>
               <listitem>
                  <para>Para que su servidor Squid escuche en el puerto TCP 8888 en lugar del puerto TCP 3128 que usa por defecto, cambie la directiva http_port como sigue:</para>
                  <para>http_port·8888</para>
               </listitem>
	            <listitem>
                  <para>Cambie la directiva visible_hostname para hacer que el servidor Squid tenga un nombre de host específico. Este nombre de host no tiene por qué ser necesariamente el nombre de host del equipo. En este ejemplo se ha establecido a <emphasis>weezie</emphasis></para>
                  <para>visible_hostname·weezie</para>
               </listitem>
               <listitem>
                  <para>De nuevo, usando el control de acceso de Squid, puede configurar que el uso de los servicios de Internet delegados por Squid esté sólo disponible para aquellos usuarios que tengan unas determinadas direcciones IP. Por ejemplo, ilustraremos el acceso sólo de aquellos usuarios que pertenezcan a la subred 192.168.42.0/24:</para>
                  <para>Añada lo siguiente al <emphasis role="bold">final</emphasis> de la sección ACL de su archivo <filename>/etc/squid/squid.conf</filename>:</para>
                  <para>acl fortytwo_network src 192.168.42.0/24</para>
                  <para>Después, añada lo siguiente al <emphasis role="bold">principio</emphasis> de la sección http_access de su archivo <filename>/etc/squid/squid.conf</filename>:</para>
                  <para>http_access allow fortytwo_network</para>
               </listitem>
               <listitem>
                  <para>Usando las excelentes capacidades de control de acceso de Squid, puede configurar el uso de los servicios de Internet delegados por Squid para que sólo estén disponibles durante las horas normales de trabajo. Por ejemplo, ilustraremos el acceso de los empleados de un negocio que opera entre las 9 de la mañana y las 5 de la tarde, de lunes a viernes, y que usan la subred 10.1.42.0/42:</para>
                  <para>Añada lo siguiente al <emphasis role="bold">final</emphasis> de la sección ACL de su archivo <filename>/etc/squid/squid.conf</filename>:</para>
                  <para>acl biz_network src 10.1.42.0/24 acl biz_hours time M T W T F 9:00-17:00</para>
                  <para>Después, añada lo siguiente al <emphasis role="bold">principio</emphasis> de la sección http_access de su archivo <filename>/etc/squid/squid.conf</filename>:</para>
                  <para>http_access allow biz_network biz_hours</para>
               </listitem>
          </itemizedlist>
          </para>
          <note>
	  <para>Después de hacer los cambios en el archivo <filename>/etc/squid/squid.conf</filename>, guarde el archivo y reinicie el servidor <application>squid</application> para que los cambios surtan efecto, usando la siguiente orden que deberá introducir en la línea de órdenes de una terminal:</para>
          </note>
          <para>
<screen>
<command>sudo /etc/init.d/squid restart</command>
</screen>
          </para>
      </sect2>
      <sect2 id="squid-references" status="complete">
      <title>Referencias</title>
      <para>
      <ulink url="http://www.squid-cache.org/">Web de Squid</ulink>
      </para>
      </sect2>
    </sect1>
	<sect1 id="version-control-system" status="complete">
		<title>Sistema de Control de Versiones</title>
          <para>El control de versiones es el arte de administrar los cambios de la información. Ha sido siempre una herramienta crítica para los programadores, quienes habitualmente gastan su tiempo en hacer pequeños cambios al software y posteriormente deshacer esos cambios al día siguiente. Pero la utilidad del software de control de versiones sobrepasa los límites del mundo del desarrollo de software. En cualquier lugar donde pueda encontrarse gente usando computadores para gestionar información que cambie a menudo, habrá sitio para el control de versiones.</para>
<para>
          </para>
      <sect2 id="subversion" status="complete">
        <title>Subversion</title>
          <para>Subversion es un sistema de control de versiones open source. Mediante Subversion, puede registrar la historia de archivos de código fuente y documentos. Gestiona archivos y directorios a través del tiempo. Se coloca un árbol de archivos en un repositorio central. El repositorio es como un servidor de archivos ordinario, excepto en que recuerda todos los cambios que se realizan sobre los archivos y los directorios que contiene.</para>
        <sect3 id="subversion-installation" status="complete">
          <title>Instalación</title>
            <para>Para acceder a un repositorio de Subversion mediante el protocolo HTTP, debe instalar y configurar un servidor web. Apache2 ha demostrado funcionar bien con Subversion (para instalar y configurar Apache2, consulte la sub-sección HTTP de la sección de Apache2). Para acceder al repositorio de Subversion repository mediante el protocolo HTTPS, debe instalar y configurar un certificado digital en su servidor web Apache 2 (para ello, consulte la sub-sección HTTPS de la sección de Apache2).</para>
						<para>Para instalar Subversion, ejecute la siguiente orden en la línea de órdenes de una terminal:</para>
	    <para>
<screen>
<command>sudo apt-get install subversion libapache2-svn</command>
</screen>
	    </para>

        </sect3>
        <sect3 id="subversion-configuration" status="complete">
          <title>Configuración del servidor</title>
            <para>Este paso asume que ya tiene instalados los paquetes mencionados en su sistema. Esta sección le explica cómo crear un repositorio de Subversion y acceder al proyecto.</para>
			<sect4 id="create-svn-repos" status="complete">
				<title>Crear un repositorio de Subversion</title>
<para>El repositorio de Subversion puede ser creado usando la siguiente orden en la línea de órdenes de una terminal</para>

        <para>
<screen>
<command>svnadmin create /path/to/repos/project</command>
</screen>
        </para>
			</sect4>

        </sect3>
        <sect3 id="access-methods" status="complete">
          <title>Métodos de Acceso</title>
<para>Se puede acceder («check out») a los repositorios de Subversion a través de muchos métodos diferentes --en un disco local, o a través de varios protocolos de red. Una ubicación dentro del repositorio, sin embargo, es siempre una URL. La tabla describe cómo se corresponden diferentes esquemas de URL con los métodos de acceso disponibles.</para>
				<table><title>Métodos de Acceso</title>

					<tgroup cols="2">
						<colspec colname="1"/>
						<colspec colname="2"/>
						<thead>
							<row>
								<entry><para>Proyecto</para></entry>
								<entry><para>Método de Acceso</para></entry>
							</row>
						</thead>
						<tbody>
							<row>
								<entry><para>file://</para></entry>
								<entry><para>acceso directo al repositorio (en disco local)</para></entry>
							</row>
							<row>
								<entry><para>http://</para></entry>
								<entry><para>Acceso a través del protocolo WebDAV a un servidor web Apache2 con Subversion incluido</para></entry>
							</row>
							<row>
								<entry><para>https://</para></entry>
								<entry><para>Igual que http://, pero con cifrado SSL</para></entry>
							</row>
							<row>
								<entry><para>svn://</para></entry>
								<entry><para>Acceso al servidor svnserve via el protocolo por defecto</para></entry>
							</row>
							<row>
								<entry><para>svn+ssh://</para></entry>
								<entry><para>Lo mismo que svn://, pero a través de un tunel SSH</para></entry>
							</row>
						</tbody>
					</tgroup>
				</table>

				<para>En esta sección, veremos cómo configurar Subversion para todos esos métodos de acceso. Aquí cubrimos lo básico. Para más detalles avanzados sobre su utilización, consulte el <ulink url="http://svnbook.red-bean.com/">libro de svn</ulink>.</para>
			<sect4 id="direct-repos-access" status="complete">
				<title>Acceso directo al repositorio (file://)</title>
<para>Este es el método de acceso más sencillo. No necesita que se esté ejecutando ningún proceso de servidor Subversion. Este método de acceso se usa para acceder a Subversion desde la misma máquina. La sintaxis de la orden, introducida en la línea de órdenes de una terminal, es la siguiente:</para>

        <para>
<screen>
<command>svn co file:///path/to/repos/project</command>
</screen>
        </para>
  <para>o</para>
	<para>
<screen>
<command>svn co file://localhost/path/to/repos/project</command>
</screen>
        </para>
	<note>
		<para>Si no especifica el nombre del host, ha de usar tres barras (///) -- dos para el protocolo (file, en este caso) más la barra que indica la raíz de la ruta. Si especifica el nombre del host, debe usar dos barras (//).</para>
	</note>
		<para>Los permisos del repositorio dependen de los permisos del sistema de archivos. Si el usuario tiene permisos de lectura/escritura, puede hacer «checkout» y «commit» sobre el repositorio.</para>
			</sect4>
			<sect4 id="access-via-webdav" status="complete">
				<title>Acceso·via·protocolo WebDAV·(http://)</title>
<para>Para acceder al repositorio de Subversion a través del protocolo WebDAV, debe configurar su servidor web Apache2. Debe añadir lo siguiente en su archivo <filename>/etc/apache2/apache2.conf</filename>:</para>

	<programlisting> &lt;Location /svn&gt;
  DAV svn
  SVNPath /path/to/repos
  AuthType Basic
  AuthName "El nombre de su repositorio"
  AuthUserFile /etc/subversion/passwd
  &lt;LimitExcept GET PROPFIND OPTIONS REPORT&gt;
  Require valid-user
  &lt;/LimitExcept&gt;
  &lt;/Location&gt; </programlisting>
  <para>Ahora, debe crear el fichero <filename>/etc/subversion/passwd</filename>, el cual contiene los detalles de autenticación del usuario. Para añadir una entrada, p.e. para añadir un usuario, puede ejecutar esta orden en una terminal:</para>
	<para>
<screen>
<command>htpasswd2·/etc/subversion/passwd·user_name</command>
</screen>
        </para>
	<para>Ésta orden le pedirá que introduzca su contraseña. Cuando lo haga, se añadirá el usuario. Entonces, para acceder al repositorio puede ejecutar esto:</para>
        <screen><command>svn co http://servername/svn</command></screen>
	<warning>
		<para>La contraseña se transmite como texto plano. Si le preocupa que puedan interceptar su contraseña, se le recomienda que use cifrado SSL. Para más detalles, consulte la siguiente sección.</para>
	</warning>
			</sect4>
			<sect4 id="access-via-webdav-with-ssl" status="complete">
				<title>Acceso vía protocolo WebDAV con encriptación SSL (https://)</title>
					<para>El acceso a un repositorio de Subversion por medio del protocolo WebDAV con cifrado SSL (https://) es similar al http:// excepto en que debe instalar y configurar el certificado digital en su servidor web Apache2.</para>

					<para>Puede instalar un certificado digital emitido por una autoridad de certificación como Verisign. También puede instalar su propio certificado auto-firmado.</para>
					<para>Este paso asume que tiene instalado y configurado un certificado digital en su servidor web Apache2. Ahora, para acceder al repositorio de Subversion, por favor, consulte la sección anterior. Los métodos de acceso son exactamente los mismos, excepto el protocolo. Debe usar https:// para acceder al repositorio de Subversion.</para>

			</sect4>
			<sect4 id="access-via-custom-protocol" status="complete">
				<title>Acceso vía protocolo personalizado (svn://)</title>
					<para>Cuando se haya creado el repositorio de Subversion, podrá configurar el control de acceso. Puede editar el archivo <filename> /ruta/al/repositorio/proyecto/conf/svnserve.conf</filename> para configurar el control de acceso. Por ejemplo, para configurar la autenticación, puede descomentar las siguientes líneas en el archivo de configuración:</para>
					<programlisting># [general]↵
# password-db = passwd</programlisting>

					<para>Tras descomentar las líneas anteriores, podrá mantener la lista de usuarios en el archivo passwd. Para ello, edite el archivo <filename>passwd</filename> en el mismo directorio y añada el nuevo usuario. La sintaxis es la siguiente:</para>
					<programlisting>username·=·password</programlisting>
					<para>Para más detalles, por favor consulte el archivo.</para>

					<para>Ahora, para acceder a Subversion a través del protocolo personalizado svn://, bien sea desde la misma máquina o desde otra diferente, debe ejecutar svnserver usando la orden svnserve. La sintaxis es la siguiente:</para>
					<programlisting>$ svnserve -d --foreground -r /ruta/al/repositorio
# -d -- modo demonio
# --foreground -- ejecutar en primer plano (útil para depuración)
# -r -- raíz del directorio a servir
↵
Para más detalles de uso, por favor, consulte:
$ svnserve --help</programlisting>

					<para>Una vez haya ejecutado la orden, Subversion comenzará a escuchar por el puerto predeterminado (3690). Para acceder al repositorio del proyecto, deberá ejecutar la siguiente orden en la línea de órdenes de una terminal:</para>
					<para>
<screen>
<command>svn co svn://hostname/project project --username user_name</command>
</screen>
                                        </para>
					<para>En función de la configuración del servidor, se le solicitará una contraseña. Cuando se haya autenticado, se recuperará («check out») el código desde el repositorio de Subversion. Para sincronizar el repositorio del proyecto con la copia local, puede ejecutar la sub-orden <command>update</command>. La sintaxis de la orden, introducida en la línea de órdenes, es la siguiente:</para>
					<para>
<screen>
<command>cd project_dir ; svn update</command>
</screen>
                                        </para>
					<para>Para más detalles sobre cómo usar cada sub-orden de Subversion, puede consultar el manual. Por ejemplo, para aprender más sobre la orden co (checkout), ejecute la siguiente orden en la línea de órdenes de una terminal:</para>
                    <para><screen><command>svn co help</command></screen></para>

			</sect4>
			<sect4 id="access-via-custom-protocol-with-ssl" status="complete">
				<title>Acceso vía protocolo personalizado con encriptación SSL (svn+ssh://)</title>
					<para>El proceso de configurar un servidor es el mismo que con el método svn://. Para más detalles, por favor, consulte la sección anterior. Este paso asume que ha seguido los pasos anteriores y que ha iniciado el servidor de Subversion usando la orden <application>svnserve</application>.</para>

					<para>También asume que se está ejecutando el servidor ssh en esa máquina y que se permiten las conexiones entrantes. Para confirmarlo, por favor, intente iniciar una sesión en esa máquina usando ssh. Si puede entrar, todo está correcto. Si no puede entrar, por favor, corríjalo antes de continuar.</para>

					<para>El procotolo svn+ssh:// se utiliza para acceder al repositorio de Subversion usando el cifrado SSL. Los datos transferidos se cifran usando este método. Para acceder al repositorio del proyecto (por ejemplo, con un «checkout») debe usar la siguiente sintaxis:</para>
                                        <para>
<screen>
<command>svn·co·svn+ssh://hostname/var/svn/repos/project</command>
</screen>
                                        </para>

					<note><para>Debe usar la ruta completa (/ruta/al/repositorio/del/proyecto) para acceder al repositorio de Subversion usando este método de acceso.</para></note>
					<para>En función de la configuración del servidor, se le solicitará una contraseña. Debe introducir la misma contraseña que usa para iniciar sesión con ssh. Cuando se haya autenticado, se recuperará («check out») el código del repositorio de Subversion.</para>
			</sect4>
			</sect3>

      </sect2>
      <sect2 id="cvs-server" status="complete">
        <title>Servidor CVS</title> 
          <para>CVS es un sistema de control de versiones. Puede usarlo para grabar el historial de un fichero fuente.</para>
        <sect3 id="cvs-installation" status="complete">
          <title>Instalación</title>
            <para>En la línea de órdenes de una terminal, introduzca las siguientes órdenes para instalar <application>cvs</application>: <screen>
<command>sudo apt-get install cvs</command>
</screen> Cuando haya instalado <application>cvs</application>, deberá instalar <application>xinetd</application> para arrancar y parar el servidor cvs. En la línea de órdenes, introduzca la siguiente orden para instalar <application>xinetd</application>: <screen>
<command>sudo apt-get install xinetd</command>
</screen></para>
        </sect3>
        <sect3 id="cvs-configuration" status="complete">
          <title>Configuración</title>
            <para>Una vez que haya instalado el cvs, el repositorio se inicializará automáticamente. De forma predeterminada, el repositorio residirá en el directorio <application>/var/lib/cvs</application>. Puede cambiar esta ruta ejecutando la siguiente orden: <screen>
<command>cvs -d /su/nuevo/repo init</command>
</screen> Cuando se configure el repositorio inicial, podrá configurar <application>xinetd</application> para iniciar el servidor CVS. Puede copiar las siguientes líneas en el archivo <filename> /etc/xinetd/cvspserver</filename>. <programlisting>
↵
service cvspserver↵
{↵
     port = 2401↵
     socket_type = stream↵
     protocol = tcp↵
     user = root↵
     wait = no↵
     type = UNLISTED↵
     server = /usr/bin/cvs↵
     server_args = -f --allow-root /var/lib/cvs pserver↵
     disable = no↵
}↵
</programlisting><note>
<para>Asegúrese de editar el repositorio si ha cambiado el directorio predeterminado del repositorio (<application>/var/lib/cvs</application>).</para>
</note> Cuando haya configurado el <application>xinetd</application>, podrá iniciar el servidor cvs ejecutando la siguiente orden: <screen>
<command>sudo /etc/init.d/xinetd start</command>
</screen></para>
            <para>Puede confirmar que el servidor CVS se está ejecutando introduciendo la siguiente orden:</para>

            <para>
<screen>
<command>sudo netstat -tap | grep cvs</command>
</screen>
            </para>

            <para>Cuando ejecute este comando, deberá ver la siguiente línea o algo similar:</para>

<programlisting>
↵
tcp 0 0 *:cvspserver *:* LISTEN ↵ 
</programlisting>

        <para>Desde aquí puede continuar añadiendo usuarios, nuevos proyectos, y manejando el servidor CVS.</para>
        <warning>
<para>CVS le permite añadir usuarios independientemente del sistema operativo subyacente. Probablemente, la forma más sencilla es usar los usuarios de Linux en el CVS, aunque esto trae potenciales problemas de seguridad. Por favor, consulte el manual del CVS para más detalles.</para>
        </warning>

        </sect3>
        <sect3 id="cvs-add-projects" status="complete">
          <title>Añadir proyectos</title>
            <para>Esta sección explica cómo añadir un nuevo proyecto al repositorio CVS. Cree el directorio y meta en él los documentos y códigos fuente necesarios. Después, ejecute la siguiente orden para añadir el proyecto al repositorio CVS: <screen>
<command>cd su/proyecto</command>
<command>cvs import -d :pserver:nombreusuario@nombrehost.com:/var/lib/cvs -m "Importando mi proyecto al repositorio CVS" . nuevo_proyecto start</command>
</screen><tip>
<para>Puede usar la variable de entorno CVSROOT para guardar el directorio raíz CVS. Una vez haya exportado la variable de entorno CVSROOT, podrá evitar usar la opción -d en las órdenes cvs de arriba.</para>
</tip> La cadena <emphasis>nuevo_proyecto</emphasis> es una etiqueta de vendedor, y <emphasis>start</emphasis> es una etiqueta de publicación. No tienen importancia en este contexto, pero como CVS los requiere, deben estar presentes. <warning>
<para>Cuando añada un nuevo proyecto, el usuario CVS que utilice deberá tener acceso de escritura al repositorio CVS (<application>/var/lib/cvs</application>). De forma predeterminada, el grupo <application>src</application> tiene acceso de escritura al repositorio CVS. Por tanto, puede añadir el usuario a este grupo, y así él podrá añadir y gestionar proyectos en el repositorio CVS.</para>
</warning></para>
        </sect3>
      </sect2>
      <sect2 id="version-control-ref" status="complete">
        <title>Referencias</title> 
				<para><ulink url="http://subversion.tigris.org/">Página web de Subversion</ulink></para>
				<para><ulink url="http://svnbook.red-bean.com/">Libro de Subversion</ulink></para>
				<para><ulink url="http://ximbiot.com/cvs/manual/cvs-1.11.21/cvs_toc.html">Manual de CVS</ulink></para>
      </sect2>
    </sect1>
	<sect1 id="databases" status="complete">
		<title>Bases de Datos</title>
          <para>Ubuntu proporciona dos servidores de bases de datos. Son: <itemizedlist spacing="compact">
                <listitem>
                    <para><application><trademark>MySQL</trademark></application></para>
                </listitem>
                <listitem>
                    <para><application>PostgreSQL</application></para>
                </listitem>
            </itemizedlist> Están disponibles en el repositorio Main. Esta sección explica cómo instalar y configurar estos servidores de bases de datos.</para>
      <sect2 id="mysql" status="complete">
        <title>MySQL</title>
          <para>MySQL es un rápido y robusto servidor de bases de datos SQL multi-hilo y multi-usuario.</para>

        <sect3 id="mysql-installation" status="complete">
          <title>Instalación</title>
            <para>Para instalar MySQL, ejecute el siguiente comando en un terminal:</para>

            <para>
<screen>
<command>sudo apt-get install mysql-server mysql-client</command>
</screen>
            </para>

            <para>Cuando se complete la instalación, el servidor MySQL deberá iniciarse automáticamente. Puede ejecutar la siguiente orden en la línea de órdenes de una terminal para comprobar si se está funcionando el servidor MySQL:</para>

            <para>
<screen>
<command>sudo netstat -tap | grep mysql</command>
</screen>
            </para>

            <para>Cuando ejecute este comando, deberá ver la siguiente línea o algo similar:</para>

<programlisting>
tcp 0 0 localhost.localdomain:mysql *:* LISTEN -
</programlisting>
	<para>Si el servidor no se está ejecutando correctamente, puede teclear la siguiente orden para arrancarlo:</para>
            <para>
<screen>
<command>sudo /etc/init.d/mysql restart</command>
</screen>
        </para>

        </sect3>
        <sect3 id="mysql-configuration" status="complete">
          <title>Configuración</title>
            <para>La contraseña del administrador no está establecida de forma predeterminada. Una vez que haya instalado MySQL, lo primero que debe hacer es establecer la contraseña del administrador de MySQL. Para ello, ejecute las siguientes órdenes:</para>
            <para>
<screen>
<command>sudo mysqladmin -u root contraseña nuevacontraseñasqlderoot</command>
</screen>
            </para>
            <para>
<screen>
<command>sudo mysqladmin -u root -h localhost password newrootsqlpassword</command>
</screen>
            </para>

            <para>Puede cambiar el archivo <filename>/etc/mysql/my.cnf</filename> para configurar las opciones básicas -- archivo de registro, número de puerto, etc. Diríjase al archivo <filename>/etc/mysql/my.cnf</filename> para más detalles.</para>
        </sect3>
      </sect2>
      <sect2 id="postgresql" status="complete">
        <title>PostgreSQL</title> 
          <para>PostgreSQL es un sistema de bases de datos objeto-relacional que combina las características de un sistema de gestión de bases de datos comercial tradicional con las mejoras que se suelen encontrar en sistemas de gestión de bases de datos de nueva generación.</para>
        <sect3 id="postgresql-installation" status="complete">
          <title>Instalación</title>
            <para>Para instalar PostgreSQL, ejecute la siguiente orden en la línea de órdenes de una terminal:</para>

            <para>
<screen>
<command>sudo apt-get install postgresql</command>
</screen>
            </para>

            <para>Cuando se haya completado la instalación, podrá configurar el servidor PostgreSQL en base a sus necesidades, aunque la configuración predeterminada es viable.</para>
            
        </sect3>
        <sect3 id="postgresql-configuration" status="complete">
          <title>Configuración</title>
            <para>Las conexiones TCP/IP están deshabilitadas de forma predeterminada. PostgreSQL soporta varios métodos de autenticación del cliente. El método de autenticación predeterminado es IDENT. Por favor, para más información lea <ulink url="http://www.postgresql.org/docs/8.1/static/admin.html"> la Guía del administrador de PostgreSQL</ulink>.</para>
            
            <para>La siguiente explicación asume que desa activar las conexiones TCP/IP y que usa el método de autenticación MD5 para la autenticación del cliente. Los archivos de configuración de PostgreSQL se almacenan en el directorio <filename>/etc/postgresql/&lt;version&gt;/main</filename>. Por ejemplo, si instala PostgreSQL 7.4, los archivos de configuración se guardarán en el directorio <filename>/etc/postgresql/7.4/main</filename>.</para>
            
            <tip>
            <para>Para configurar la autenticación <application>ident</application>, debe añadir unas entradas al archvivo de configuración <filename>/etc/postgresql/7.4/main/pg_ident.conf</filename>.</para>
            </tip>

            <para>Para habilitar las conexiones TCP/IP, debe editar el archivo <filename>/etc/postgresql/7.4/main/postgresql.conf</filename>.</para>

            <para>Busque la línea <emphasis>#tcpip_socket = false</emphasis> y cámbiela por <emphasis>tcpip_socket = true</emphasis>. También puede editar todos los demás parámetros, si sabe lo que está haciendo. Para más detalles, recurra al archivo de configuración o a la documentación de PostgreSQL.</para>

            <para>De forma predeterminada, las credenciales del usuario no están establecidas para autenticación de cliente <emphasis>MD5</emphasis>. Por ello, primero es necesario configurar el servidor PostgreSQL para que use la autenticación de cliente <emphasis>trust</emphasis>, conectarse a la base de datos, establecer la contraseña, y revertir la configuración de nuevo autenticación de cliente <emphasis>MD5</emphasis>. Para habilitar la autenticación de cliente <emphasis>trust</emphasis>, edite el archivo <filename>/etc/postgresql/7.4/main/pg_hba.conf</filename></para>

            <para>Comente todas las líneas que usen las autenticaciones de cliente <emphasis>ident</emphasis> y <emphasis>MD5</emphasis>, y añada la siguiente línea:</para>
<programlisting>
↵
local all postgres trust sameuser↵
</programlisting>

            <para>Después, ejecute el siguiente comando para arrancar el servidor PostgreSQL:</para>
            <para>
<screen>
<command>sudo /etc/init.d/postgresql start</command>
</screen>
            </para>
            <para>Una vez que haya iniciando con éxito el servidor PostgreSQL, ejecute la siguiente orden en la línea de órdenes de una terminal para conectar con la base de datos plantilla predeterminada de PostgreSQL</para>

            <para>
<screen>
<command>psql -U postgres -d template1</command>
</screen>
            </para>
            <para>La orden anterior conecta con la base de datos de PostgreSQL <emphasis>template1</emphasis> como usuario <emphasis>postgres</emphasis>. Una vez haya conectado con el servidor PostgreSQL, se encontrará en una línea de órdenes SQL. Puede ejecutar la siguiente orden SQL en la línea de órdenes de <application>psql</application> para establecer la contraseña del usuario <emphasis role="italics">postgres</emphasis>.</para>

            <para>
<screen>
<command>template1=# ALTER USER postgres with encrypted password 'su_contraseña';</command>
</screen>
            </para>
            <para>Cuando haya establecido la contraseña, edite el archivo <filename>/etc/postgresql/7.4/main/pg_hba.conf</filename> para usar la autenticación <emphasis>MD5</emphasis>:</para>
            <para>Comente la línea <emphasis role="italics">trust</emphasis> añadida recientemente, y añada la siguiente línea:</para>

<programlisting>
local all postgres md5 sameuser
</programlisting>
            <warning>
            <para>La configuración anterior no está completa de ningún modo. Por favor, consulte la <ulink url="http://www.postgresql.org/docs/8.1/static/admin.html"> Guía del administrador de PostgreSQL</ulink> para configurar más parámetros.</para>
            </warning>
        </sect3>
      </sect2>
    </sect1>
	<sect1 id="email-services" status="complete">
		<title>Servicios de correo electrónico</title>
          <para>El proceso de enviar un correo electrónico de una persona a otra a través de una red o de Internet involucra muchos sistemas trabajando juntos. Todos esos sistemas deben estar configurados correctamente para que el proceso funcione. El remitente usa un <emphasis>Agente de Usuario de Correo</emphasis> (Mail User Agent, MUA), o cliente de correo, para enviar el mensaje a través de uno o varios <emphasis>Agentes de Transferencia de Correo</emphasis> (Mail Transport Agent, MTA), el último de los cuales actuará de <emphasis>Agente de Entrega de Correo</emphasis> (Mail Delivery Agent, MDA) para entregarlo en el buzón del destinatario, y que luego pueda ser recuperado usando el cliente de correo del destinatario, normalmente por medio de un servidor POP3 o IMAP.</para>
      <sect2 id="postfix" status="complete">
        <title>Postfix</title>
          <para><application>Postfix</application> es el Agente de Transferencia de Correo (Mail Transfer Agent, MTA) predeterminado en Ubuntu. Su objetivo es ser rápido, seguro y fácil de administrar. Es compatible con el MTA <application>sendmail</application>. Esta sección explica cómo instalar y configurar <application>postfix</application>. También explica cómo configurar un servidor SMTP usando una conexión segura (para enviar correos electrónicos de forma segura).</para>
        <sect3 id="postfix-installation" status="complete">
          <title>Instalación</title>
            <para>Para instalar <application>postfix</application> con SMTP-AUTH y Transport Layer Security (TLS), ejecute la siguiente orden: <screen>
<command>sudo apt-get install postfix</command>
</screen> Cuando el proceso de instalación le haga preguntas, simplemente pulse Intro; la configuración se hará con más detalle en la siguiente etapa.</para>
        </sect3>
        <sect3 id="postfix-configuration" status="complete">
          <title>Configuración Básica</title>
            <para>Para configurar <application>postfix</application>, ejecute la siguiente orden: <screen>
<command>sudo dpkg-reconfigure postfix</command>
</screen> Se mostrará la interfaz de usuario. En cada pantalla, seleccione los siguientes valores: <itemizedlist spacing="compact">
            <listitem><para>Ok</para></listitem>
            <listitem><para>Sitio de Internet</para></listitem>
            <listitem><para>NINGUNO</para></listitem>
            <listitem><para>mail.example.com</para></listitem>
            <listitem><para>mail.example.com, localhost.localdomain, localhost</para></listitem>
            <listitem><para>No</para></listitem>
            <listitem><para>127.0.0.0/8</para></listitem>
            <listitem><para>Sí</para></listitem>
            <listitem><para>0</para></listitem>
            <listitem><para>+</para></listitem>
            <listitem><para>todo</para></listitem>
            </itemizedlist></para>
            <note>
            <para>Reemplace mail.example.com con el nombre de máquina de su servidor de correo.</para>
            </note>
	 </sect3>
        <sect3 id="postfix-smtp-authentication" status="complete">
          <title>Autentificación SMTP</title>
            <para>El siguiente paso es configurar <application>postfix</application> para que use SASL con SMTP AUTH. En lugar de editar directamente el archivo de configuración, puede usar la orden <command>postconf</command> para configurar todos los parámetros de <application>postfix</application>. Los parámetros de configuración se almacenarán en el archivo <filename>/etc/postfix/main.cf</filename>. Posteriormente, si  desea reconfigurar un parámetro en particular, podrá ejecutar la misma orden o cambiar el parámetro manualmente en el archivo.</para>
	<procedure>
		<step><para>Configurar Postfix para hacer SMTP AUTH usando SASL (saslauthd): <screen>↵
postconf -e 'smtpd_sasl_local_domain ='↵
postconf -e 'smtpd_sasl_auth_enable = yes'↵
postconf -e 'smtpd_sasl_security_options = noanonymous'↵
postconf -e 'broken_sasl_auth_clients = yes'↵
postconf -e 'smtpd_recipient_restrictions = permit_sasl_authenticated,permit_mynetworks,reject_unauth_destination'↵
postconf -e 'inet_interfaces = all'↵
echo 'pwcheck_method: saslauthd' &gt;&gt; /etc/postfix/sasl/smtpd.conf↵
echo 'mech_list: plain login' &gt;&gt; /etc/postfix/sasl/smtpd.conf↵
</screen></para>
		</step>
		<step><para>A continuación, configure el certificado digital para TLS. Cuando se le pregunte, siga las instrucciones y responda adecuadamente. <screen>
openssl genrsa -des3 -rand /etc/hosts -out smtpd.key 1024
chmod 600 smtpd.key
openssl req -new -key smtpd.key -out smtpd.csr
openssl x509 -req -days 3650 -in smtpd.csr -signkey smtpd.key -out smtpd.crt
openssl rsa -in smtpd.key -out smtpd.key.unencrypted
mv -f smtpd.key.unencrypted smtpd.key
openssl req -new -x509 -extensions v3_ca -keyout cakey.pem -out cacert.pem -days 3650
mv smtpd.key /etc/ssl/private/
mv smtpd.crt /etc/ssl/certs/
mv cakey.pem /etc/ssl/private/
mv cacert.pem /etc/ssl/certs/
</screen></para>
		<note><para>Puede conseguir el certificado digital solicitándosela a una autoridad de certificación. También puede crear el certificado usted mismo. Vea <xref linkend="creating-a-self-signed-certificate"/> para más detalles.</para></note>
		</step>
		<step><para>Configurar Postfix para hacer cifrado TLS con el correo entrante y saliente: <screen>
postconf -e 'smtpd_tls_auth_only = no'
postconf -e 'smtp_use_tls = yes'
postconf -e 'smtpd_use_tls = yes'
postconf -e 'smtp_tls_note_starttls_offer = yes'
postconf -e 'smtpd_tls_key_file = /etc/ssl/private/smtpd.key'
postconf -e 'smtpd_tls_cert_file = /etc/ssl/certs/smtpd.crt'
postconf -e 'smtpd_tls_CAfile = /etc/ssl/certs/cacert.pem'
postconf -e 'smtpd_tls_loglevel = 1'
postconf -e 'smtpd_tls_received_header = yes'
postconf -e 'smtpd_tls_session_cache_timeout = 3600s'
postconf -e 'tls_random_source = dev:/dev/urandom'
postconf -e 'myhostname = mail.ejemplo.com'
</screen></para>
		</step>
		</procedure>
            <note>
            <para>Una vez que haya ejecutado todas las órdenes, tendrá configurado el SMTP AUTH en <application>postfix</application>. El certificado auto-firmado se crea para el TLS y se configura con <application>postfix</application>.</para>
            </note>
            <para>Ahora,·el archivo·<filename>/etc/postfix/main.cf</filename>·debería parecerse a </para>
		<para>La configuración inicial de postfix se ha completado. Ejecute la siguiente orden para arrancar el demonio de postfix: <screen><command>sudo /etc/init.d/postfix start</command></screen> Ahora, el demonio <application>postfix</application> está instalado y configurado, y se está ejecutando con éxito. <application>Postfix</application> soporta SMTP AUTH como se define en <ulink url="ftp://ftp.isi.edu/in-notes/rfc2554.txt">RFC2554</ulink>. Está basado en <ulink url="ftp://ftp.isi.edu/in-notes/rfc2222.txt">SASL</ulink>. Sin embargo, todavía es necesario configurar la autenticación SASL para poder usar SMTP.</para>
	</sect3>
	<sect3 id="sasl">
	  <title>Configuración de SASL</title>
            <para>Los paquetes <application>libsasl2</application>, <application>sasl2-bin</application> y <application>libsasl2-modules</application> son necesarios para habilitar el SMTP AUTH usando SASL. Puede instalar estas aplicaciones si no las tenía ya instaladas. <screen>
<command>apt-get install libsasl2 sasl2-bin</command>
</screen></para>
	    <para>Se necesitan unos pocos cambios para hacer que funcione apropiadamente. Como <application>Postfix</application> se ejecuta «enjaulado» con chroot en <filename>/var/spool/postfix</filename>, es necesario configurar <application>SASL</application> para ejecutarlo en un raíz falso (<filename>/var/run/saslauthd</filename> se convierte en <filename>/var/spool/postfix/var/run/saslauthd</filename>): <screen>
<command>mkdir -p /var/spool/postfix/var/run/saslauthd</command>
<command>rm -rf /var/run/saslauthd</command>
</screen></para>
	    <para>Para activar <application>saslauthd</application>, edite el archivo <filename>/etc/default/saslauthd</filename> y cambie o añada la variable START. Con idea de configurar <application>saslauthd</application> para que se pueda ejecutar en un falso raíz, añada las variables PWDIR, PIDFILE y PARAMS. Finalmente, configure la variable MECHANISMS a su gusto. El archivo debe tener el siguiente aspecto: <programlisting>
↵
# This needs to be uncommented before saslauthd will be run↵
# automatically↵
START=yes↵
↵
PWDIR="/var/spool/postfix/var/run/saslauthd"↵
PARAMS="-m ${PWDIR}"↵
PIDFILE="${PWDIR}/saslauthd.pid"↵
↵
# You must specify the authentication mechanisms you wish to use.↵
# This defaults to "pam" for PAM support, but may also include↵
# "shadow" or "sasldb", like this:↵
# MECHANISMS="pam shadow"↵
↵
MECHANISMS="pam"↵
</programlisting></para>
<note>
<para>Si lo prefiere, puede usar <emphasis role="strong">shadow</emphasis> en lugar de <emphasis role="strong">pam</emphasis>. De esta forma, se transferirán contraseñas cifradas con MD5, lo que resultará más seguro. El nombre de usuario y la contraseña que haya que autenticar serán los de los usuarios del sistema que esté usando en el servidor.</para>
</note>
        <para>A continuación, actualice el «estado» de dpkg de <filename>/var/spool/portfix/var/run/saslauthd</filename>. El script de inicialización de saslauthd usa esta opción para crear el directorio que falta con los permisos y propietario adecuados: <screen>
<command>dpkg-statoverride --force --update --add root sasl 755 /var/spool/postfix/var/run/saslauthd</command>
</screen></para>
        </sect3>
        <sect3 id="postfix-testing" status="complete">
          <title>Comprobando</title>
            <para>La configuración del SMTP AUTH está ya completa. Ahora es el momento de iniciar y probar la configuración. Puede ejecutar la siguiente orden para arrancar el demonio SASL: <screen><command>sudo /etc/init.d/saslauthd start</command></screen> Para ver si el SMTP-AUTH y el TLS funcionan correctamente, ejecute la siguiente orden: <screen><command>telnet mail.example.com 25</command></screen> Una vez que haya establecido la conexión con el servidor de correo postfix, teclee: <screen>ehlo mail.ejemplo.com</screen> Si ve aparecer las siguientes líneas (entre otras), es que todo funciona correctamente. Teclee <command>quit</command> para salir. <programlisting>
↵
250-STARTTLS↵
250-AUTH LOGIN PLAIN↵
250-AUTH=LOGIN PLAIN↵
250 8BITMIME↵
</programlisting></para>
        </sect3>
      </sect2>
      <sect2 id="exim4" status="complete">
        <title>Exim4</title>
          <para><application>Exim4</application> es otro Agente de Transporte de Correo (MTA), desarrolado en la Universidad de Cambridge para su uso en sistemas Unix contactados por Internet. Se puede instalar Exim en lugar de <application>sendmail</application>, aunque la configuración de  <application>exim</application> es bastante diferente a la de <application>sendmail</application>.</para>
        <sect3 id="exim4-installation" status="complete">
          <title>Instalación</title>
            <para>Para instalar <application>exim4</application>, ejecute el siguiente comando: <screen>↵
<command>sudo apt-get install exim4 exim4-base exim4-config</command>↵
</screen></para>
        </sect3>
        <sect3 id="exim4-configuration" status="complete">
          <title>Configuración</title>
            <para>Para configurar <application>exim4</application>, ejecute la siguiente orden: <screen>
<command>sudo dpkg-reconfigure exim4-config</command>
</screen> Se mostrará la interfaz del usuario, que le permitirá configurar muchos parámetros. Por ejemplo, en <application>exim4</application> los archivos de configuración están divididos en muchos archivos. Si desea tenerlos todos en un único archivo, puede configurarlo adecuadamente en esa interfaz de usuario.</para>

            <para>Todos los parámetros que configure en la interfaz de usuario se guardarán en el archivo <filename>/etc/exim4/update-exim4.conf.conf</filename>. Si desea volver a configurar, puede volver a ejecutar el asistente de configuración, o bien editar manualmente el archivo usando su editor favorito. Una vez haya configurado, puede ejecutar la siguiente orden para generar el archivo de configuración principal: <screen>
<command>sudo update-exim4.conf</command>
</screen> Se generará el archivo de configuración principal, y se almacenará en <filename>/var/lib/exim4/config.autogenerated</filename>. <warning>
            <para>En cualquier caso, no debería editar manualmente el archivo de configuración principal, <filename>/var/lib/exim4/config.autogenerated</filename>. Éste se actualiza automáticamente cada vez que se ejecuta la orden <command>update-exim4.conf</command>.</para>
            </warning> Puede ejecutar la siguiente orden para arrancar el demonio <application>exim4</application>. <screen>
<command>sudo /etc/init.d/exim4 start</command>
</screen><emphasis role="strong">POR HACER:</emphasis> Esta sección debería cubrir la configuración de SMTP AUTH con exim4.</para>
        </sect3>
      </sect2>
      <sect2 id="dovecot-server" status="complete">
        <title>Servidor Dovecot</title> 
          <para><application>Dovecot</application> es un Agente de Entrega de Correo, escrito con la mirada puesta en la seguridad. Soporta los principales formatos de buzones: mbox o Maildir. Esta sección explica cómo configurar un servidor imap o pop3.</para>
        <sect3 id="dovecot-installation" status="complete">
          <title>Instalación</title>
            <para>Para instalar <application>dovecot</application>, ejecute la siguiente orden en la línea de órdenes: <screen>
<command>sudo apt-get install dovecot-common dovecot-imapd dovecot-pop3d</command>
</screen></para>
        </sect3>
        <sect3 id="dovecot-configuration" status="complete">
          <title>Configuración</title>
            <para>Para configurar <application>dovecot</application>, puede editar el archivo <filename>/etc/dovecot/dovecot.conf</filename>. Puede elegir el protocolo que va a usar, que puede ser pop3, pop3s (pop3 seguro), imap e imaps (imap seguro). Una descripción de tales protocolos queda fuera del alcance de esta guía. Para más información, consulte los artículos de la Wikipedia en <ulink url="http://es.wikipedia.org/wiki/POP3">POP3</ulink> y <ulink url="http://es.wikipedia.org/wiki/Internet_Message_Access_Protocol">IMAP</ulink>.</para>

            <para>IMAPS y POP3S son más seguros que los IMAP y POP3 simples, porque usan el cifrado SSL durante la conexión. Una vez haya escogido el protocolo, corrija la siguiente línea en el archivo <filename>/etc/dovecot/dovecot.conf</filename>: <programlisting>
↵
protocols = pop3 pop3s imap imaps↵
</programlisting> Esto habilita los protocolos durante el arranque de <application>dovecot</application>. A continuación, añada la siguiente línea en la sección de pop3 del archivo <filename>/etc/dovecot/dovecot.conf</filename>: <programlisting>
↵
pop3_uidl_format = %08Xu%08Xv↵
</programlisting> Después, seleccione el buzón que va a user. <application>Dovecot</application> soporta los formatos <emphasis role="strong">maildir</emphasis> y <emphasis role="strong">mbox</emphasis>. Estos son los formatos de buzones más usados. Ambos tienen sus ventajas y se discuten en <ulink url="http://dovecot.org/doc/configuration.txt">el sitio web de dovecot</ulink>.</para>
            <para>Cuando haya elegido su tipo de buzón, edite el archivo <filename>/etc/dovecot/dovecot.conf</filename> y cambie la siguiente línea: <programlisting>
↵
default_mail_env = maildir:~/Maildir # (for maildir)↵
or↵
default_mail_env = mbox:~/mail:INBOX=/var/spool/mail/%u # (for mbox)↵
</programlisting></para>
<note>
<para>Debe configurar su Agente de Transporte de Correo (MTA) para transferir el correo entrante a este tipo de buzón si es distinto al que ha configurado.</para>
</note>
          <para>Cuando haya configurado dovecot, inicie el demonio de <application>dovecot</application> para poder probar su configuración: <screen><command>sudo /etc/init.d/dovecot start</command></screen> Si ha activado imap o pop3, puede además probar a conectarse con las órdenes <command>telnet localhost pop3</command> o <command>telnet localhost imap2</command>. Si ve algo parecido a lo siguiente, la instalación habrá tenido éxito: <programlisting>
↵
bhuvan@rainbow:~$ telnet localhost pop3↵
Trying 127.0.0.1...↵
Connected to localhost.localdomain.↵
Escape character is '^]'.↵
+OK Dovecot ready.↵
</programlisting></para>
        </sect3>
        <sect3 id="dovecot-ssl" status="complete">
          <title>Configuración Dovecot SSL</title>
            <para>Para configurar <application>dovecot</application> con soporte SSL, puede editar el archivo <filename>/etc/dovecot/dovecot.conf</filename> y corregir las siguientes líneas: <programlisting>
↵
ssl_cert_file = /etc/ssl/certs/dovecot.pem↵
ssl_key_file = /etc/ssl/private/dovecot.pem↵
ssl_disable = no↵
disable_plaintext_auth = no↵
</programlisting> <application>dovecot</application> creará automáticamente los archivos <emphasis role="strong">cert</emphasis> y <emphasis role="strong">key</emphasis>  cuando lo instale. Por favor, tenga en cuenta que esas claves no están firmadas y que, por tanto, provocará errores de «firma errónea» cuando se conecte un cliente. Para evitar eso, debe usar certificados comerciales, o mejor aún, puede usar sus propios certificados SSL.</para>
	</sect3>
	<sect3>
	  <title>Configuración del firewall para un servidor de correo</title>
          <para>Para acceder a su servidor de correo desde otro equipo, deberá configurar su firewall para que permita conexiones al servidor a través de los puertos necesarios. <itemizedlist>
            <listitem><para>IMAP - 143</para></listitem>
            <listitem><para>IMAPS - 993</para></listitem>
            <listitem><para>POP3 - 110</para></listitem>
            <listitem><para>POP3S - 995</para></listitem>
            </itemizedlist></para>
        </sect3>
      </sect2>
      <sect2 id="mailman" status="complete">
        <title>Mailman</title> 
          <para>Mailman es un programa open source para gestionar discusiones de correo electrónico y listas de noticias. Muchas listas de correo open source (incluyendo todas las <ulink url="http://lists.ubuntu.com">listas de correo de Ubuntu</ulink>) usan Mailman como su software de gestión de listas. Es potente y fácil de instalar y mantener.</para>
        <sect3 id="mailman-installation" status="complete">
          <title>Instalación</title>
            <para>Mailman suministra un interface web para administradores y usuarios. Por lo tanto, requiere apache con soporte mod_perl. Mailman usa un servidor de correo externo para enviar y recibir emails. Funciona perfectamente con los siguientes servidores de correo:</para>
            <para>
            <itemizedlist spacing="compact">
                <listitem>
                    <para><application>Postfix</application></para>
                </listitem>
                <listitem>
                    <para><application>Exim</application></para>
                </listitem>
                <listitem>
                    <para><application>Sendmail</application></para>
                </listitem>
                <listitem>
                    <para><application>Qmail</application></para>
                </listitem>
            </itemizedlist>
            </para>

            <para>Veremos como instalar mailman, el servidor web apache y el servidor de correo Exim. Si desea instalar mailman con un servidor de correo diferente, remitase a las secciones que lo referencian.</para>
          <sect4 id="mailman-apache2">
            <title>Apache2</title>
              <para>Para instalar apache2 remitase a <xref linkend="http-installation"/>.</para>
          </sect4>
          <sect4 id="mailman-exim4">
            <title>Exim4</title>
              <para>Para instalar Exim4 ejecute los siguiente comandos en un terminal: <screen>↵
<command>sudo apt-get install exim4</command>↵
<command>sudo apt-get install exim4-base</command>↵
<command>sudo apt-get install exim4-config</command>↵
</screen> Una vez que exim4 este instalado, los archivos de configuración son guardados en el directorio <filename>/etc/exim4</filename>. En ubuntu, por defecto, los archivos de configuración de  exim4 son divididos en distintos archivos. Puede cambiar este comportamiento cambiando la siguiente variable en el archivo <filename>/etc/exim4/update-exim4.conf</filename>: <itemizedlist spacing="compact">
              <listitem>
                <para><application>dc_use_split_config='true'</application></para>
              </listitem>
              </itemizedlist></para>
          </sect4>
          <sect4 id="mailman-mailman">
            <title>Mailman</title>
              <para>Para instalar <application>Mailman</application>, ejecute esta orden en una terminal: <screen>
<command>sudo apt-get install mailman</command> 
</screen> Eso copia los archivos de instalación en el directorio <application>/var/lib/mailman</application>, instala los scripts CGI en el directorio <application>/usr/lib/cgi-bin/mailman</application>, crea una <emphasis>lista</emphasis> de usuarios de linux y la <emphasis>lista</emphasis> de grupos de linux. El proceso mailman será propiedad de este usuario.</para>
          </sect4>
        </sect3>
        <sect3 id="mailman-configuration" status="complete">
          <title>Configuración</title>
            <para>Esta sección asume que instaló con éxito <application>mailman</application>, <application>apache2</application>, y <application>exim4</application>. Ahora solo necesita configurarlos.</para>
          <sect4 id="mailman-conf-apache2">
            <title>Apache2</title>
              <para>Cuando se haya instalado apache2, añada las siguientes líneas en el archivo <filename>/etc/apache2/apache2.conf</filename>: <programlisting>
↵
Alias /images/mailman/ "/usr/share/images/mailman/"↵
Alias /pipermail/ "/var/lib/mailman/archives/public/"↵
</programlisting> Mailman usa apache2 para ejecutar sus scripts CGI. Los scripts CGI de Mailman están instalados en el directorio <application>/usr/lib/cgi-bin/mailman</application>. Por tanto, la URL de Mailman será http://nombredehost/cgi-bin/mailman/. Puede cambiar el archivo <filename>/etc/apache2/apache2.conf</filename> si desea alterar este comportamiento.</para>
          </sect4>

          <sect4 id="mailman-conf-exim4">
            <title>Exim4</title>
              <para>Una vez que Exim4 este instalado, puede ejecutar el servidor Exim usando el siguiente comando en un  terminal: <screen>↵
<command>sudo apt-get /etc/init.d/exim4 start</command>↵
</screen> Para hacer que mailman mailman funcione con exim4, necesita configurar exim4. Como se menciono antes, por defecto, exim4 usa multiples archivos de configuración de diferentes tipos. Para más detalles, remitase al sitio web de <ulink url="http://www.exim.org">Exim</ulink>. Para ejecutar mailman, deberiamos de añadir un archivo de configuración con el siguiente tipo de configuración: <itemizedlist spacing="compact">
              <listitem>
                <para>Principal</para>
              </listitem>
              <listitem>
                <para>Transporte</para>
              </listitem>
              <listitem>
                <para>Enrutamiento</para>
              </listitem>
              </itemizedlist> Exim crea un archivo principal de configuración ordenando todos los miniarchivos de configuración. Por lo tanto, el orden de estos archivos de configuración es muy importante.</para>
          </sect4>
          <sect4 id="mailman-conf-main">
            <title>Principal</title>
              <para>Todos los archivos de configuración pertenecientes al tipo principal son guardados en el directorio <filename>/etc/exim4/conf.d/main/</filename>. Puede añadir el contenido siguiente a un archivo nuevo, llamado <filename>04_exim4-config_mailman</filename>: <programlisting>
↵
# start↵
# Home dir for your Mailman installation -- aka Mailman's prefix↵
# directory.↵
# On Ubuntu this should be "/var/lib/mailman"↵
# This is normally the same as ~mailman↵
MM_HOME=/var/lib/mailman↵
#↵
# User and group for Mailman, should match your --with-mail-gid↵
# switch to Mailman's configure script. Value is normally "mailman"↵
MM_UID=list↵
MM_GID=list↵
#↵
# Domains that your lists are in - colon separated list↵
# you may wish to add these into local_domains as well↵
domainlist mm_domains=hostname.com↵
#↵
# -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=↵
#↵
# These values are derived from the ones above and should not need↵
# editing unless you have munged your mailman installation↵
#↵
# The path of the Mailman mail wrapper script↵
MM_WRAP=MM_HOME/mail/mailman↵
#↵
# The path of the list config file (used as a required file when↵
# verifying list addresses)↵
MM_LISTCHK=MM_HOME/lists/${lc::$local_part}/config.pck↵
# end↵
</programlisting></para>
          </sect4>
          <sect4 id="mailman-conf-transport">
            <title>Transporte</title>
              <para>Todos los archivos de configuración correspondientes a un tipo de transporte se almacenan en el directorio <filename>/etc/exim4/conf.d/transport/</filename>. Puede añadir el siguiente contenido en un nuevo archivo llamado <filename> 40_exim4-config_mailman</filename>: <programlisting>
  ↵
  mailman_transport:↵
   driver = pipe↵
   command = MM_WRAP \↵
               '${if def:local_part_suffix \↵
                     {${sg{$local_part_suffix}{-(\\w+)(\\+.*)?}{\$1}}} \↵
                     {post}}' \↵
               $local_part↵
    current_directory = MM_HOME↵
    home_directory = MM_HOME↵
    user = MM_UID↵
    group = MM_GID↵
</programlisting></para>
          </sect4>
          <sect4 id="mailman-conf-router">
            <title>Enrutamiento</title>
              <para>Todos los archivos de configuración correspondientes a un tipo de encaminamiento se almacenan en el directorio <filename>/etc/exim4/conf.d/router/</filename>. Puede añadir el siguiente contenido en un nuevo archivo llamado <filename>101_exim4-config_mailman</filename>: <programlisting>
  ↵
  mailman_router:↵
   driver = accept↵
   require_files = MM_HOME/lists/$local_part/config.pck↵
   local_part_suffix_optional↵
   local_part_suffix = -bounces : -bounces+* : \↵
                       -confirm+* : -join : -leave : \↵
                       -owner : -request : -admin↵
   transport = mailman_transport↵
</programlisting></para>
<warning>
<para>El orden de los archivos de configuración principal y de transporte puede ser cualquiera. Pero el orden de los archivos de configuración de encaminamiento debe ser el mismo. Este archivo en particular debe aparecer antes que el archivo <application>200_exim4-config_primary</application>. Esos dos archivos de configuración contienen el mismo tipo de información. El primer archivo tiene prioridad. Para más detalles, consulte las secciones de referencia.</para>
</warning>
          </sect4>
          <sect4 id="mailman-conf-mailman">
            <title>Mailman</title>
              <para>Una vez que mailman esta instalado, puede ejecutarlo usantdo el comando: <screen>↵
<command>sudo /etc/init.d/mailman start</command>↵
</screen> Una vez que mailman esta instalado, puede crear la lista de correo por defecto. Ejecute el siguiente comando para crear esta lista: <screen>↵
<command>sudo /usr/sbin/newlist mailman</command>↵
</screen><programlisting>
  ↵
  Enter the email address of the person running the list: bhuvan at ubuntu.com↵
  Initial mailman password:↵
  To finish creating your mailing list, you must edit your <filename>/etc/aliases</filename> (or↵
  equivalent) file by adding the following lines, and possibly running the↵
  `newaliases' program:↵
↵
  ## mailman mailing list↵
  mailman: "|/var/lib/mailman/mail/mailman post mailman"↵
  mailman-admin: "|/var/lib/mailman/mail/mailman admin mailman"↵
  mailman-bounces: "|/var/lib/mailman/mail/mailman bounces mailman"↵
  mailman-confirm: "|/var/lib/mailman/mail/mailman confirm mailman"↵
  mailman-join: "|/var/lib/mailman/mail/mailman join mailman"↵
  mailman-leave: "|/var/lib/mailman/mail/mailman leave mailman"↵
  mailman-owner: "|/var/lib/mailman/mail/mailman owner mailman"↵
  mailman-request: "|/var/lib/mailman/mail/mailman request mailman"↵
  mailman-subscribe: "|/var/lib/mailman/mail/mailman subscribe mailman"↵
  mailman-unsubscribe: "|/var/lib/mailman/mail/mailman unsubscribe mailman"↵
↵
  Hit enter to notify mailman owner...↵
↵
  # ↵ 
</programlisting> Hemos configurado exim para que reconozca todos los emails del mailman. Por lo tanto, no es obligatorio que introduzca nuevas entradas en <filename>/etc/aliases</filename>. Si usted hace algún cambio en los archivos de configuración, asegurese que reinicia esos servicios antes de continuar con la siguiente sección.</para>
          </sect4>
        </sect3>
        <sect3 id="mailman-admin" status="complete">
          <title>Administración</title>
<para>Asumimos que tiene una instalación por defecto. El cgi script del mailman todavía esta en el directorio <application>/usr/lib/cgi-bin/mailman/</application>. Mailman tiene la facilidad de poder administrase por web. Para acceder a esta página, introduzca la siguiente url en su navegador:</para>
<para>http://nombrehost/cgi-bin/mailman/admin</para>

<para>La lista de correo por defecto, <emphasis>mailman</emphasis>, aparecerá en su pantalla. Si hace click en el nombre de la lista, se le preguntará la password de autentificación. Si introduce la password correcta, será capaz de cambiar las configuraciones administrativas de la lista de correo. Puede crear una nueva lista usando una utilidad de la línea de comandos (<command>/usr/sbin/newlist</command>). Adicionalmente, puede crear nuevas listas de correo usando el interface web.</para>
        </sect3>
        <sect3 id="mailman-users" status="complete">
          <title>Usuarios</title>
<para>Mailman posee un interface de usuario web. Para acceder a esta página, introduzca la siguiente url en su navegador:</para>

<para>http://nombrehost/cgi-bin/mailman/listinfo</para>

<para>La lista de correo por defecto, <emphasis>mailman</emphasis>, aparecerá en esta pantalla. Si hace click sobre el nombre, se le mostrará un formulario de suscripción. Puede introducir su dirección de correo, nombre (opcional), y password para suscribirse. Le será enviado un email de invitación. Puede seguir las instrucciones de este email para suscribirse.</para>
        </sect3>
        <sect3 id="mailman-references" status="complete">
          <title>Referencias</title>
<para>
<ulink url="http://www.list.org/mailman-install/index.html">GNU Mailman - Manual de Instalación</ulink>
</para>
<para>
<ulink url="http://www.exim.org/howto/mailman21.html">COMO - Usando juntos Exim4 y Mailman 2.1</ulink>
</para>
        </sect3>
      </sect2>
    </sect1>
	</chapter>
