<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN" 
	"http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
<!ENTITY % globalent SYSTEM "../../../libs/global.ent">
%globalent;
<!ENTITY % cdo-C SYSTEM "../../../libs/cdo-C.ent">
%cdo-C;
<!ENTITY % gnome-menus-C SYSTEM "../../../ubuntu/libs/gnome-menus-C.ent">
%gnome-menus-C;
<!ENTITY % xinclude SYSTEM "../../../libs/xinclude.mod">
%xinclude;
<!ENTITY language "&EnglishAmerican;">
<!ENTITY ubuntu '<phrase>Ubuntu</phrase>'>
]>
<chapter id="package-management" status="complete">
	<title>Gestión de paquetes</title>
        <para>Ubuntu ofrece un completo sistema de gestión de paquetes para la instalación, actualización, configuración y eliminación de software. Además de proporcionar acceso a una base de más de 17.000 paquetes de software para su equipo Ubuntu, el gestor de paquetes también ofrece capacidades de resolución de dependencias y comprobación de actualizaciones de software.</para>
        <para>Existen algunas herramientas disponibles para interactuar con el sistema de gestión de paquetes de Ubuntu, desde simples utilidades de línea de órdenes fácilmente automatizables por los administradores de sistemas, a sencillas interfaces gráficas fáciles de utilizar por los recién llegados a Ubuntu.</para>
  <sect1 id="package-management-introduction" status="complete">
	<title>Introducción</title>
        <para>El sistema de gestión de paquetes de Ubuntu está derivado del mismo sistema utilizado por la distribución Debian GNU/Linux. Los paquetes contienen todos los archivos necesarios, meta-datos e instrucciones para implementar una funcionalidad particular o una aplicación software en un equipo Ubuntu.</para>
        <para>Los paquetes Debian normalmente tienen la extensión '.deb', y normalmente existen en <emphasis role="italics">repositorios</emphasis> que son colecciones de paquetes que se encuentran en varios soportes, como discos CD-ROM o en línea. Los paquetes normalmente están en un formato binario pre-compilado; su instalación es rápida y no requiere compilar software.</para>
        <para>Algunos paquetes complejos utilizan el concepto de <emphasis role="italics">dependencia</emphasis>. Las dependencias son paquetes adicionales que necesita el paquete principal para funcionar correctamente. Por ejemplo, el paquete para síntesis de voz <application>Festival</application> depende del paquete <application>festvox-kalpc16k</application>, que suministra una de las voces usadas por la aplicación. Para que funcione <application>Festival</application> , deben instalarse todas las dependencias junto con el paquete principal Festival. Las herramientas de gestión de software en Ubuntu hacen esto automáticamente.</para>
  </sect1>
  <sect1 id="apt-get" status="complete">
	<title>Apt-Get</title>
        <para>La orden <application>apt-get</application> es una potente herramienta de línea de órdenes diseñada para trabajar con el <emphasis>Advanced Packaging Tool</emphasis> (APT) de Ubuntu realizando funciones de instalación de nuevos paquetes de software, actualización de paquetes de software, actualización del índice de paquetes, e incluso actualización de todo el sistema Ubuntu.</para>
        <para>Siendo como es una simple herramienta de línea de órdenes, <application>apt-get</application> tiene numerosas ventajas frente otras herramientas de gestión de paquetes disponibles para los administradores de sistemas en Ubuntu. Algunas de estas ventajas incluyen facilidad de uso a través de conexiones sencillas de terminal (SSH) y la capacidad de poder usarse en scripts de administración del sistema, que pueden automatizarse en la utilidad de planificación de tareas <application>cron</application> .</para>
        <para>Algunos ejemplos de uso populares de la utilidad <application>apt-get</application>: <itemizedlist>
               <listitem>
                <para><emphasis role="bold">Instalar un paquete</emphasis>: La instalación de paquetes usando la herramienta <application>apt-get</application> es bastante simple. Por ejemplo, para instalar el analizador de red <emphasis role="italics">nmap</emphasis>, teclee lo siguiente: <screen>
<command>sudo apt-get install nmap</command>
</screen></para>
                </listitem>
                <listitem>
                <para><emphasis role="bold">Desinstalar un paquete</emphasis>: Desinstalar uno o varios paquetes es también un proceso simple y sencillo. Para desinstalar el paquete nmap instalado en el ejemplo anterior, teclee lo siguiente: <screen>
<command>sudo apt-get remove nmap</command>
</screen></para>
                <tip>
                <para><emphasis role="bold">Múltiples paquetes</emphasis>: Puede especificar multiples paquetes para instalar o desinstalar, separándolos por espacios.</para>
                </tip>
                </listitem>
                <listitem>
                <para><emphasis role="bold">Actualizar el índice de paquetes</emphasis>: El índice de paquetes de APT es esencialmente una base de datos de paquetes disponibles en los repositorios definidos en el archivo <filename>/etc/apt/sources.list</filename>. Para actualizar el índice local de paquetes con los últimos cambios realizados en los repositorios, teclee lo siguiente: <screen>
<command>sudo apt-get update</command>
</screen></para>
                </listitem>
                <listitem>
                <para><emphasis role="bold">Actualizar paquetes</emphasis>: Con el tiempo, ciertos paquetes instalados en su equipo pueden tener disponibles versiones suyas más actualizadas en el repositorio de paquetes (por ejemplo actualizaciones de seguridad). Para actualizar su sistema, primero actualice su índice de paquetes como se mostró antes, y despúes teclee: <screen>
<command>sudo apt-get upgrade</command>
</screen></para>
                <para>Si un paquete necesita instalar o desinstalar nuevas dependencias durante su actualización, no se podrá actualizar con la orden <emphasis>upgrade</emphasis>. Para esta actualización, es necesario que use la orden <emphasis role="italics">dist-upgrade</emphasis> .</para>
                <para>Además, puede actualizar completamente su sistema Ubuntu de una versión a otra con dist-upgrade. Por ejemplo, para actualizar Ubuntu de la versión 5.10 a la versión &distro-rev;, primero debe asegurarse de que ha sustituido los actuales repositorios de la versión 5.10 por los de la versión &distro-rev; en el archivo <filename>/etc/apt/sources.list</filename> de su equipo; posteriormente, debe ejecutar el comando <application>apt-get update</application> como se describió antes; y finalmente, realizar la actualización tecleando: <screen>
<command>sudo apt-get dist-upgrade</command>
</screen></para>
                <para>Después de una considerable cantidad de tiempo, su equipo estará actualizado con la nueva versión. Normalmente, se pueden requerir algunos pasos posteriores a la instalación como se detalla en las notas de actualización de la versión a la que usted se está actualizando.</para>
                <para>Las acciones realizadas por la orden <application>apt-get</application> , como la instalación o desinstalación de paquetes, son registradas en el archivo de registro «/var/log/dpkg.log».</para>
                </listitem>
        </itemizedlist></para>
		<para>Para más información sobre el uso de <application>APT</application>, lea el completo <ulink url="&debian-apt;">Manual de Debian del usuario de APT</ulink>, o teclee: <screen>apt-get help</screen></para>
  </sect1>

  <sect1 id="aptitude" status="complete">
	<title>Aptitude</title>
        <para><application>Aptitude</application> es una interfaz del sistema <emphasis>APT (Advanced Packaging Tool)</emphasis> basada en texto y que se maneja por menús. Muchas de las funciones típicas de gestión de paquetes, como la instalación, desinstalación y actualización, se realizan con  <application>Aptitude</application> mediante órdenes de una sola tecla, normalmente letras minúsculas.</para>
        <para><application>Aptitude</application> es conveniente usarlo sobre todo en entornos de terminales no gráficas para garantizar el correcto funcionamiento de las teclas de órdenes. Puede iniciar <application>Aptitude</application> como un usuario normal con la siguiente orden en la línea de órdenes de una terminal: <screen>
<command>sudo aptitude</command>
</screen></para>
        <para>Cuando inicie <application>Aptitude</application> , usted podrá ver una barra de menú en la parte de arriba de la pantalla y dos paneles debajo de esta barra. El panel superior contiene las categorías de los paquetes, tal como <emphasis role="italics">Nuevos Paquetes</emphasis> y <emphasis role="italics">Paquetes No Instalados</emphasis>. El panel inferior contiene información relativa a los paquetes y categorías de paquetes.</para>
        <para>Usar <application>Aptitude</application> para el manejo de paquetes es relativamente sencillo, y el interface de usuario hace que las tareas comunes sean fáciles de realizar. Lo siguiente son ejemplos de funciones de manejo de paquetes como se realizan en <application>Aptitude</application>:</para>
        <itemizedlist>
               <listitem>
                <para><emphasis role="bold">Instalar paquetes</emphasis>: Para instalar un paquete, localícelo en la categoría «Paquetes no instalados», por ejemplo usando las teclas del cursor del teclado y la tecla <keycap>INTRO</keycap>, y seleccionando el paquete que desee instalar. Una vez haya seleccionado el paquete deseado, pulse la tecla <keycap>+</keycap>, y la entrada del paquete se pondrá de color <emphasis role="italics">verde</emphasis>, indicando así que el paquete ha sido marcado para su instalación. Entonces pulse la tecla <keycap>g</keycap> y se le presentará un resumen de las acciones que se van a realizar. Pulse <keycap>g</keycap> otra vez, y entonces se le solicitará convertirse en superusuario para completar la instalación. Pulse <keycap>INTRO</keycap> para que se le solicite la contraseña. Introduzca su contraseña para obtener privilegios de superusuario. Finalmente, pulse <keycap>g</keycap> una vez más y se le pedirá permiso para descargar el paquete. Pulse <keycap>INTRO</keycap> sobre el botón <emphasis role="italics">Continuar</emphasis>, y comenzará la descarga y posterior instalación del paquete.</para>
               </listitem>
               <listitem>
                <para><emphasis role="bold">Desinstalar paquetes</emphasis>: Para desinstalar un paquete, localícelo en la categoría de paquetes «Paquetes instalados», por ejemplo usando las teclas del cursor y la tecla <keycap>Intro</keycap>, seleccione el paquete que desea desinstalar. A continuación pulse la tecla <keycap>-</keycap> y la entrada del paquete se volverá <emphasis role="italics">rosa</emphasis>, indicando así que se ha marcado para su desinstalación. Ahora pulse la tecla <keycap>g</keycap> y se le presentará un resumen de las acciones a realizar sobre los paquetes. Pulse de nuevo la tecla <keycap>g</keycap>, y se le pedirá que se convierta en administrador para completar la instalación. Pulse <keycap>Intro</keycap> y se le pedirá la contraseña. Introduzca su contraseña de usuario para convertirse en administrador. Finalmente, pulse una vez más la tecla <keycap>g</keycap> y se le preguntará si quiere descargar el paquete. Pulse <keycap>Intro</keycap> sobre el botón<emphasis role="italics">Continuar</emphasis>, y dará comienzo la desinstalación del paquete.</para>
               </listitem>
               <listitem>
                <para><emphasis role="bold">Actualizar el índice de paquetes</emphasis>: Para actualizar el índice de paquetes, simplemente pulse la tecla <keycap>u</keycap> y se le pedirá que se convierta en administrador para finalizar la instalación. Pulse <keycap>Intro</keycap>, tras lo cual se le pedirá una contraseña. Introduzca su contraseña de usuario para convertirse en administrador. Comenzará la actualización del índice de los paquetes. Pulse <keycap>Intro</keycap> sobre el botón Aceptar cuando aparezca la ventana de descarga para completar el proceso.</para>
               </listitem>
               <listitem>
                <para><emphasis role="bold">Actualizar paquetes</emphasis>: Para actualizar paquetes, realice la actualización del índice de los paquetes como se detalla más arriba, y después pulse la tecla <keycap>U</keycap> (mayúscula) para marcar todos los paquetes actualizables. Ahora pulse <keycap>g</keycap> lo que le presentará un resumen de las acciones a realizar sobre los paquetes. Pulse <keycap>g</keycap> nuevamente, y se le pedirá que se convierta en administrador para completar la instalación. Pulse <keycap>Intro</keycap>, tras lo cual se le pedirá una contraseña. Introduzca su contraseña de usuario para convertirse en administrador. Finalmente, pulse <keycap>g</keycap> una vez más, y se le preguntará si desea descargar los paquetes. Pulse <keycap>Intro</keycap> en el botón <emphasis role="italics">Continuar</emphasis> para comenzar la actualización de los paquetes.</para>
               </listitem>
        </itemizedlist>
        <para>La primera columna de información mostrada en la lista de paquetes en el panel superior refleja el estado actual de cada paquete, y para describir dicho estado se usa la siguiente leyenda: <itemizedlist>
        <listitem>
        <para><emphasis role="bold">i</emphasis>: Paquete instalado.</para>
        </listitem>
        <listitem>
        <para><emphasis role="bold">c</emphasis>: Paquete no instalado, pero la configuración del paquete permanece en el sistema</para>
        </listitem><listitem>
        <para><emphasis role="bold">p</emphasis>: Eliminado del sistema</para>
        </listitem><listitem>
        <para><emphasis role="bold">v</emphasis>: Paquete virtual</para>
        </listitem><listitem>
        <para><emphasis role="bold">B</emphasis>: Paquete roto</para>
        </listitem><listitem>
        <para><emphasis role="bold">u</emphasis>: Archivos desempaquetados, pero el paquete esta sin configurar</para>
        </listitem><listitem>
        <para><emphasis role="bold">C</emphasis>: A medio configurar- La configuración falló y requiere ser reparada</para>
        </listitem><listitem>
        <para><emphasis role="bold">H</emphasis>: A medio configurar- Falló la eliminación y requiere ser reparada</para>
        </listitem>
        </itemizedlist></para>
        <para>Para cerrar Aptitude, simplemente presione la tecla <keycap>q</keycap> y confirme que desea salir. Muchas otras funciones del menú de Aptitude estan disponibles presionando la tecla <keycap>F10</keycap> .</para>
  </sect1>
	<sect1 id="configuration" status="complete">
		<title>Configuración</title>
          <para>La configuración de los repositorios del sistema <emphasis>Advanced Packaging Tool</emphasis> (APT) se guarda en el archivo de configuración /etc/apt/sources.list. Un ejemplo de este archivo está referenciado aquí, junto con información sobre añadir o eliminar referencias a repositorios en este archivo.</para>
          <para><ulink url="../sample/sources.list">Aquí</ulink> tiene un sencillo ejemplo de un archivo <filename>/etc/apt/sources.list</filename> típico.</para>
          <para>Usted puede editar el fichero para habilitar o desabilitar repositorios. Por ejemplo, para desabilitar el requerimiento de insertar el CD-ROM de Ubuntu al operar con paquetes, simplemente comente la línea apropiada para el CD-ROM, que aparece al principio del archivo.</para>
          <para>
<screen>
# no more prompting for CD-ROM please
# deb cdrom:[Ubuntu 6.06 _Dapper Drake_ - Release i386 (20060329.1)]/ dapper main restricted
</screen>
          </para>
          
    </sect1>
	<sect1 id="extra-repositories" status="complete">
		<title>Repositorios adicionales</title>
          <para>Además de los repositorios disponibles de paquetes soportados oficialmente por Ubuntu, existen otros repositorios mantenidos por la comunidad que añaden miles de paquetes potenciales para su instalación. Dos de esos repositorios adicionales son los más populares, y son los repositorios <emphasis>Universe</emphasis> y <emphasis>Multiverse</emphasis>. Esos repositorios no están soportados oficialmente por Ubuntu, por lo que no están activados de forma predeterminada, pero generalmente proporcionan paquetes que usted podrá usar de forma segura en su equipo Ubuntu.</para>
		  <note><para>Los paquetes en el repositorio Multiverse suelen tener asuntos en la licencia que les impiden ser incluidos en las distribuciones con un sistema operativo libre, y pueden ser ilegales en su localidad.</para></note>
          <warning>
          <para>Debe saber que los repositorios <emphasis>Universe</emphasis> o <emphasis>Multiverse</emphasis> nunca contienen paquetes soportados oficialmente. En particular, no habrá actualizaciones de seguridad para estos paquetes.</para>
          </warning>
          <para>Hay muchas otras fuentes de paquetes disponibles, algunas de ellas solo ofrecen un paquete, como en el caso de paquetes suministrados por el desarrollador de una sola aplicación. Usted siempre debe ser muy precavido cuando use fuentes de paquetes no-standard. Investigue la fuente y los paquetes cuidadosamente antes de realizar ninguna instalación, algunas fuentes de paquetes y sus paquetes pueden volver algo inestable o no funcional su sistema en algunos casos.</para>
          <para>Para habilitar los repositorios <emphasis>Universe</emphasis> y <emphasis>Multiverse</emphasis> , edite el archivo <filename>/etc/apt/sources.list</filename> y descomente las líneas apropiadas:</para>
          <para>
<screen>
# We want Multiverse and Universe repositories, please

deb http://archive.ubuntu.com/ubuntu dapper universe multiverse
deb-src http://archive.ubuntu.com/ubuntu dapper universe multiverse
</screen>
          </para>
          <sect2 id="extra-repositories-references" status="complete">
                <title>Referencias</title>
                <para>
                <ulink url="https://wiki.ubuntu.com/AddingRepositoriesHowto">Cómo añadir repositorios (Ubuntu Wiki)</ulink>
                </para>
          </sect2>
    </sect1>
	</chapter>

