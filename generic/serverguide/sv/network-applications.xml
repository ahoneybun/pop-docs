<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN" "http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
<!ENTITY % globalent SYSTEM "../../../libs/global.ent">
<!-- NAMES --><!ENTITY canonical-name "Canonical Ltd.">
<!ENTITY project-name "Ubuntu Documentation Project">
<!ENTITY ubuntu "<phrase>Ubuntu</phrase>">
<!-- VERSIONS --><!ENTITY distro-version "Dapper Drake">
<!ENTITY distro-rev "6.06 LTS">
<!ENTITY distro-release-date "June 2006">
<!ENTITY linux-kernel-version "2.6.15">
<!ENTITY gcc-version "4.0.3">
<!ENTITY glibc-version "2.3.6">
<!ENTITY python-version "2.4.3">
<!-- AUTHORS --><!ENTITY author-ubuntu-documentation-project SYSTEM "../common/authors/ubuntu-documentation-project.xml">
<!ENTITY author-christoph-haas SYSTEM "../common/authors/christoph-haas.xml">
<!ENTITY author-alexander-poslavsky SYSTEM "../common/authors/alexander-poslavsky.xml">
<!ENTITY author-alan-hood SYSTEM "../common/authors/alan-hood.xml">
<!ENTITY author-johnathon-hornbeck SYSTEM "../common/authors/johnathon-hornbeck.xml">
<!ENTITY author-nick-loeve SYSTEM "../common/authors/nick-loeve.xml">
<!ENTITY author-gordon-ingram SYSTEM "../common/authors/gordon-ingram.xml">
<!ENTITY author-sean-wheller SYSTEM "../common/authors/sean-wheller.xml">
<!ENTITY author-enrico-zini SYSTEM "../common/authors/enrico-zini.xml">
<!ENTITY author-kevin-muligan SYSTEM "../common/authors/kevin-muligan.xml">
<!ENTITY author-ari-torhamo SYSTEM "../common/authors/ari-torhamo.xml">
<!ENTITY author-jeff-schering SYSTEM "../common/authors/jeff-schering.xml">
<!ENTITY author-corey-burger SYSTEM "../common/authors/corey-burger.xml">
<!ENTITY author-niel-tallim SYSTEM "../common/authors/niel-tallim.xml">
<!ENTITY author-henry-meyerding SYSTEM "../common/authors/henry-meyerding.xml">
<!ENTITY author-matthew-east SYSTEM "../common/authors/matthew-east.xml">
<!ENTITY author-jerome-gotangco SYSTEM "../common/authors/jerome-gotangco.xml">
<!ENTITY author-johnathan-jesse SYSTEM "../common/authors/johnathan-jesse.xml">
<!ENTITY author-greg-taylor SYSTEM "../common/authors/greg-taylor.xml">
<!ENTITY author-troy-williams SYSTEM "../common/authors/troy-williams.xml">
<!ENTITY author-matt-galvin SYSTEM "../common/authors/matt-galvin.xml">
<!ENTITY author-robert-stoffers SYSTEM "../common/authors/robert-stoffers.xml">
<!ENTITY author-jordan-mantha SYSTEM "../common/authors/jordan-mantha.xml">
<!ENTITY author-venkat-raghavan SYSTEM "../common/authors/venkat-raghavan.xml">
<!ENTITY author-brian-burger SYSTEM "../common/authors/brian-burger.xml">
<!ENTITY author-rocco-stanzione SYSTEM "../common/authors/rocco-stanzione.xml">
<!ENTITY glossary SYSTEM "../common/C/glossary.xml">
<!-- LEGAL URLs --><!ENTITY gpl-url '<ulink url="http://www.gnu.org/licenses/gpl.html">GNU General Public License</ulink>'>
<!ENTITY cc "http://creativecommons.org/">
<!ENTITY cc-attrib '<ulink url="http://creativecommons.org/licenses/by-sa/2.0/">Attribution-ShareAlike 2.0</ulink>'>
<!ENTITY cc-fulldeed-url "http://creativecommons.org/licenses/by-sa/2.0/legalcode/">
<!ENTITY fdl-url '<ulink url="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License</ulink>'>
<!ENTITY cc-disclaimer-url "http://creativecommons.org/licenses/disclaimer-popup?lang=en">
<!-- CANONICAL URL RESOURCES --><!ENTITY canonical-url "http://www.canonical.com">
<!-- UBUNTU URL RESOURCES --><!ENTITY ubuntu-packages "http://packages.ubuntu.com">
<!ENTITY ubuntu-dpkgfile "ubuntu5.10.tar">
<!ENTITY ubuntu-web "http://www.ubuntu.com">
<!ENTITY ubuntu-main "http://www.ubuntu.com">
<!ENTITY ubuntu-download "http://www.ubuntu.com/download">
<!ENTITY ubuntu-forums "http://www.ubuntu.com/community/forums">
<!ENTITY ubuntu-components "http://www.ubuntu.com/ubuntu/components">
<!ENTITY ubuntu-lists "http://lists.ubuntu.com">
<!ENTITY ubuntu-wiki "http://wiki.ubuntu.com">
<!ENTITY ubuntu-irc "irc.freenode.net channel #ubuntu">
<!ENTITY ubuntu-bugzilla "https://launchpad.net/distros/ubuntu/+bugs">
<!ENTITY ubuntu-doc-bugs "https://launchpad.net/products/ubuntu-doc/+bugs">
<!ENTITY ubuntu-paidsupport "http://www.ubuntu.com/support/supportoptions/paidsupport">
<!ENTITY ubuntu-freesupport "http://www.ubuntu.com/support/supportoptions/freesupport">
<!ENTITY ubuntu-comments "http://www.ubuntuforums.org/showthread.php?p=21787">
<!ENTITY ubuntu-documentation "http://help.ubuntu.com">
<!ENTITY ubuntu-documentation-repos "https://docteam.ubuntu.com/repos/trunk">
<!ENTITY ubuntu-doc-team "https://wiki.ubuntu.com/DocumentationTeam">
<!ENTITY ubuntu-doc-list "http://lists.ubuntu.com/mailman/listinfo/ubuntu-doc">
<!ENTITY ubuntu-shipit "http://shipit.ubuntu.com">
<!ENTITY ubuntu-launchpad "https://launchpad.ubuntu.com">
<!ENTITY ubuntu-rosetta "https://launchpad.ubuntu.com/rosetta">
<!ENTITY ubuntu-planet "http://planet.ubuntu.com">
<!ENTITY ubuntu-philosophy "http://www.ubuntu.com/ubuntu/philosophy">
<!ENTITY ubuntu-participate "http://www.ubuntu.com/community/participate/">
<!-- UBUNTU WIKI RESOURCES --><!ENTITY wiki-UserDocumentation "https://wiki.ubuntu.com/UserDocumentation">
<!ENTITY restricted-formats "https://wiki.ubuntu.com/RestrictedFormats">
<!ENTITY wiki-RestrictedFormats "https://wiki.ubuntu.com/RestrictedFormats">
<!ENTITY wiki-XChatHowto "https://wiki.ubuntu.com/XChatHowto">
<!ENTITY wiki-RootSudo "https://wiki.ubuntu.com/RootSudo">
<!ENTITY wiki-HowToGetHelp "https://wiki.ubuntu.com/HowToGetHelp">
<!ENTITY transcode "https://wiki.ubuntu.com/DVDRippingandEncoding">
<!ENTITY wiki-Wine "https://wiki.ubuntu.com/Wine">
<!ENTITY wiki-Cedega "https://wiki.ubuntu.com/Cedega">
<!ENTITY wiki-Nano "https://wiki.ubuntu.com/NanoHowto">
<!ENTITY wiki-locoteams "https://wiki.ubuntu.com/LoCoTeamList">
<!ENTITY wiki-BasicCommands "https://wiki.ubuntu.com/BasicCommands">
<!ENTITY wiki-filepermissions "https://wiki.ubuntu.com/FilePermissions">
<!-- KUBUNTU URL RESOURCES --><!ENTITY kubuntu-web "http://www.kubuntu.org">
<!ENTITY kubuntu-main "http://www.kubuntu.org">
<!ENTITY kubuntu-download "http://releases.ubuntu.com/kubuntu/">
<!ENTITY kubuntu-packages "http://packages.ubuntu.com/breezy/">
<!ENTITY kubuntu-cdpackages-nodefault "http://people.ubuntu.com/~cjwatson/seeds/kubuntu-breezy/ship">
<!ENTITY kubuntu-lists "http://lists.ubuntu.com/archives/kubuntu-users/">
<!ENTITY kubuntu-lists-users "http://lists.ubuntu.com/mailman/listinfo/kubuntu-users/">
<!ENTITY kubuntu-lists-devel "http://lists.ubuntu.com/mailman/listinfo/kubuntu-devel/">
<!ENTITY kubuntu-mirrors "http://distrowatch.com/kubuntu">
<!ENTITY kubuntu-forums "http://ubuntuforums.org/forumdisplay.php?f=68">
<!ENTITY kubuntu-forums2 "http://kubuntuforums.net">
<!ENTITY kubuntu-wiki "http://www.ubuntu.com/wiki/Kubuntu">
<!ENTITY kubuntu-irc "irc.freenode.net channel kubuntu">
<!ENTITY kubuntu-documentation-site "http://www.kubuntu.org/documentation.php">
<!ENTITY kubuntu-wiki-UserDocumentation "https://wiki.kubuntu.com/UserDocumentation">
<!-- XUBUNTU URL RESOURCES --><!ENTITY xubuntu-irc "irc.freenode.net channel xubuntu">
<!-- DEBIAN RESOURCES --><!ENTITY debian-apt "http://www.debian.org/doc/user-manuals#apt-howto">
<!-- EXTERNAL URL RESOURCES --><!ENTITY linmodem "http://www.linmodems.org/">
<!ENTITY gnome "http://www.gnome.org/">
<!ENTITY linuxorg "http://www.linux.org/">
<!ENTITY ooo "http://www.openoffice.org/">
<!ENTITY kde "http://www.kde.org/">
<!ENTITY lugww "http://lugww.counter.li.org/">
<!ENTITY ubuntu-watch "http://distrowatch.com/ubuntu/">
<!ENTITY realplayer-download "http://www.real.com/linux/">
<!ENTITY nvu-download "http://www.nvu.com/download.html">
<!ENTITY sunjava-download "http://java.sun.com/j2se/1.5.0/download.jsp">
<!ENTITY xorg "http://www.x.org">
<!ENTITY dyndns "http://www.dyndns.org">
<!ENTITY shoutcast "http://www.shoutcast.com/">
<!ENTITY freedomtoaster "http://www.freedomtoaster.org/">
<!-- ubuntu-screenshots TODO --><!ENTITY kubuntu-screenshots "http://shots.osdir.com/slideshows/slideshow.php?release=306&amp;slide=1">
<!ENTITY mozilla "http://www.mozilla.org/">
<!ENTITY mozilla-firefox "http://www.mozilla.org/products/firefox/">
<!ENTITY gnu "http://www.gnu.org/">
<!ENTITY gnu-philosophy "http://www.gnu.org/philosophy/">
<!ENTITY win4lin "http://www.win4lin.com">
<!ENTITY codeweavers "http://www.codeweavers.com">
<!ENTITY kernel "http://www.kernel.org">
<!ENTITY google "http://www.google.com">
<!ENTITY kdelook " http://www.kde-look.org">
<!ENTITY lulu-store "http://www.lulu.com/ubuntu-doc">
<!-- this entity controls the url for addons--><!ENTITY java-download "http://java.sun.com/j2se/1.5.0/download.jsp">
<!ENTITY skype-deb "skype_1.2.0.17-1_i386.deb">
<!ENTITY skype-download "http://www.skype.com/go/getskype-linux-deb">
<!ENTITY scanmodem-gz "scanModem.gz">
<!ENTITY scanmodem-url "http://linmodems.technion.ac.il/packages/scanModem.gz">
<!ENTITY ext2fs-url "http://www.fs-driver.org/index.html">
<!ENTITY mvb-tar "mvb_1.6.tgz">
<!ENTITY mvb-url "http://www.xscd.com/pub/mvb/&mvb-tar;">
<!-- TLDP --><!ENTITY ldp-pre-install-check "http://tldp.org/HOWTO/Pre-Installation-Checklist/">
<!-- LANGUAGES (sorted by two letter code)--><!ENTITY Afar "aa">
<!ENTITY Abkhazian "ab">
<!ENTITY Afrikaans "af">
<!ENTITY Amharic "af">
<!ENTITY Arabic "ar">
<!ENTITY Assamese "as">
<!ENTITY Aymara "ay">
<!ENTITY Azerbaijani "az">
<!ENTITY Bashkir "ba">
<!ENTITY Byelorussian "be">
<!ENTITY Bulgarian "bg">
<!ENTITY Bihari "bh">
<!ENTITY Bislama "bi">
<!ENTITY Bangla "bn">
<!ENTITY Bengali "bn">
<!ENTITY Tibetan "bo">
<!ENTITY Breton "br">
<!ENTITY Catalan "ca">
<!ENTITY Corsican "co">
<!ENTITY Czech "cs">
<!ENTITY Welsh "cy">
<!ENTITY Danish "da">
<!ENTITY German "de">
<!ENTITY Bhutani "dz">
<!ENTITY Greek "el">
<!-- <!ENTITY EnglishAmerican 'en'> --><!ENTITY EnglishAmerican "C">
<!ENTITY Esperanto "eo">
<!ENTITY Spanish "es">
<!ENTITY Estonian "et">
<!ENTITY Basque "eu">
<!ENTITY Persian "fa">
<!ENTITY Finnish "fi">
<!ENTITY Fiji "fj">
<!ENTITY Faeroese "fo">
<!ENTITY French "fr">
<!ENTITY Frisian "fy">
<!ENTITY Irish "ga">
<!ENTITY Gaelic "gd">
<!ENTITY ScotsGaelic "gd">
<!ENTITY Galician "gl">
<!ENTITY Guarani "gn">
<!ENTITY Gujarati "gu">
<!ENTITY Hausa "ha">
<!ENTITY Hindi "hi">
<!ENTITY Croatian "hr">
<!ENTITY Hungarian "hu">
<!ENTITY Armenian "hy">
<!ENTITY Interlingua "ia">
<!ENTITY Interlingue "ie">
<!ENTITY Inupiak "ik">
<!ENTITY Indonesian "in">
<!ENTITY Icelandic "is">
<!ENTITY Italian "it">
<!ENTITY Hebrew "iw">
<!ENTITY Japanese "ja">
<!ENTITY Yiddish "ji">
<!ENTITY Javanese "jw">
<!ENTITY Georgian "ka">
<!ENTITY Kazakh "kk">
<!ENTITY Greenlandic "kl">
<!ENTITY Cambodian "km">
<!ENTITY Kannada "kn">
<!ENTITY Korean "ko">
<!ENTITY Kashmiri "ks">
<!ENTITY Kurdish "ku">
<!ENTITY Kirghiz "ky">
<!ENTITY Latin "la">
<!ENTITY Lingala "ln">
<!ENTITY Laothian "lo">
<!ENTITY Lithuanian "lt">
<!ENTITY Latvian "lv">
<!ENTITY Lettish "lv">
<!ENTITY Malagasy "mg">
<!ENTITY Maori "mi">
<!ENTITY Macedonian "mk">
<!ENTITY Malayalam "ml">
<!ENTITY Mongolian "mn">
<!ENTITY Moldavian "mo">
<!ENTITY Marathi "mr">
<!ENTITY Malay "ms">
<!ENTITY Maltese "mt">
<!ENTITY Burmese "my">
<!ENTITY Nauru "na">
<!ENTITY Nepali "ne">
<!ENTITY Dutch "nl">
<!ENTITY Norwegian "no">
<!ENTITY Occitan "oc">
<!ENTITY Afan "om">
<!ENTITY Oromo "om">
<!ENTITY Oriya "or">
<!ENTITY Punjabi "pa">
<!ENTITY Polish "pl">
<!ENTITY Pushto "ps">
<!ENTITY Pashto "ps">
<!ENTITY Portuguese "pt">
<!ENTITY Quechua "qu">
<!ENTITY Rhaeto-Romance "rm">
<!ENTITY Kirundi "rn">
<!ENTITY Romanian "ro">
<!ENTITY Russian "ru">
<!ENTITY Kinyarwanda "rw">
<!ENTITY Sanskrit "sa">
<!ENTITY Sindhi "sd">
<!ENTITY Sangro "sg">
<!ENTITY Serbo-Croatian "sh">
<!ENTITY Singhalese "si">
<!ENTITY Slovak "sk">
<!ENTITY Slovenian "sl">
<!ENTITY Samoan "sm">
<!ENTITY Shona "sn">
<!ENTITY Somali "so">
<!ENTITY Albanian "sq">
<!ENTITY Serbian "sr">
<!ENTITY Siswati "ss">
<!ENTITY Sesotho "st">
<!ENTITY Sudanese "su">
<!ENTITY Swedish "sv">
<!ENTITY Swahili "sw">
<!ENTITY Tamil "ta">
<!ENTITY Tegulu "te">
<!ENTITY Tajik "tg">
<!ENTITY Thai "th">
<!ENTITY Tigrinya "ti">
<!ENTITY Turkmen "tk">
<!ENTITY Tagalog "tl">
<!ENTITY Setswana "tn">
<!ENTITY Tonga "to">
<!ENTITY Turkish "tr">
<!ENTITY Tsonga "ts">
<!ENTITY Tatar "tt">
<!ENTITY Twi "tw">
<!ENTITY Ukrainian "uk">
<!ENTITY Urdu "ur">
<!ENTITY Uzbek "uz">
<!ENTITY Vietnamese "vi">
<!ENTITY Volapuk "vo">
<!ENTITY Wolof "wo">
<!ENTITY Xhosa "xh">
<!ENTITY Yoruba "yo">
<!ENTITY Chinese "zh">
<!ENTITY Zulu "zu">
<!ENTITY % genericent SYSTEM "../../libs/generic.ent">
<!ENTITY sg-title "Server Guide">
<!ENTITY secguide-title "Security Guide">
<!ENTITY installguide-rev "0.1">
<!ENTITY % cdo-C SYSTEM "../../../libs/cdo-C.ent">
<!-- COMMON DOC OBJECTS --><!ENTITY copyright SYSTEM "../common/C/copyright.xml">
<!ENTITY conventions SYSTEM "../common/C/conventions.xml">
<!ENTITY feedback SYSTEM "../common/C/feedback.xml">
<!ENTITY publisher SYSTEM "../common/C/publisher.xml">
<!ENTITY legalnotice SYSTEM "../common/C/legalnotice.xml">
<!ENTITY disclaimer SYSTEM "../common/C/disclaimer.xml">
<!ENTITY inline-ubuntu-icon SYSTEM "../common/C/inlinemediaobject-ubuntu-icon.xml">
<!ENTITY inline-ubuntu-icon-header SYSTEM "../common/C/inlinemediaobject-ubuntu-icon-header.xml">
<!ENTITY relative-ubuntu-icon SYSTEM "../common/C/mediaobject-relative-ubuntu-icon.xml">
<!ENTITY ubuntu-icon SYSTEM "../common/C/mediaobject-ubuntu-icon.xml">
<!ENTITY gpl SYSTEM "../common/C/gpl.xml">
<!ENTITY fdl SYSTEM "../common/C/fdl.xml">
<!ENTITY cc-by-sa SYSTEM "../common/C/ccbysa.xml">
<!ENTITY % gnome-menus-C SYSTEM "../../../ubuntu/libs/gnome-menus-C.ent">
<!-- MENUS --><!-- Please keep entries alphabetical, it makes them much easier to find & use --><!ENTITY about-me SYSTEM "../menus/C/about-me.xml">
<!ENTITY accessories SYSTEM "../menus/C/accessories.xml">
<!ENTITY acro-read SYSTEM "../menus/C/acro-read.xml">
<!ENTITY administration SYSTEM "../menus/C/administration.xml">
<!ENTITY amule SYSTEM "../menus/C/amule.xml">
<!ENTITY archive-man SYSTEM "../menus/C/archive-man.xml">
<!ENTITY assistive-technology-preferences SYSTEM "../menus/C/assistive-technology-preferences.xml">
<!ENTITY azureus SYSTEM "../menus/C/azureus.xml">
<!ENTITY blender3d SYSTEM "../menus/C/blender3d.xml">
<!ENTITY boot SYSTEM "../menus/C/boot.xml">
<!ENTITY calculator SYSTEM "../menus/C/calculator.xml">
<!ENTITY character-map SYSTEM "../menus/C/character-map.xml">
<!ENTITY desktop-background SYSTEM "../menus/C/desktop-background.xml">
<!ENTITY desktop-preferences SYSTEM "../menus/C/desktop-preferences.xml">
<!ENTITY device-manager SYSTEM "../menus/C/device-manager.xml">
<!ENTITY dictionary SYSTEM "../menus/C/dictionary.xml">
<!ENTITY disks SYSTEM "../menus/C/disks.xml">
<!ENTITY downloader-x SYSTEM "../menus/C/downloader-x.xml">
<!ENTITY file-management SYSTEM "../menus/C/file-management.xml">
<!ENTITY firefox SYSTEM "../menus/C/firefox.xml">
<!ENTITY firestarter-firewall-tool SYSTEM "../menus/C/firestarter-firewall-tool.xml">
<!ENTITY font SYSTEM "../menus/C/font.xml">
<!ENTITY gaim SYSTEM "../menus/C/gaim.xml">
<!ENTITY games SYSTEM "../menus/C/games.xml">
<!ENTITY gftp SYSTEM "../menus/C/gftp.xml">
<!ENTITY gimp SYSTEM "../menus/C/gimp.xml">
<!ENTITY gnome-app-install SYSTEM "../menus/C/gnomeappinstall.xml">
<!ENTITY gnome-config-editor SYSTEM "../menus/C/gnome-config-editor.xml">
<!ENTITY gparted SYSTEM "../menus/C/gparted.xml">
<!ENTITY graphics SYSTEM "../menus/C/graphics.xml">
<!ENTITY gthumb SYSTEM "../menus/C/gthumb.xml">
<!ENTITY home-folder SYSTEM "../menus/C/home-folder.xml">
<!ENTITY inkscape SYSTEM "../menus/C/inkscape.xml">
<!ENTITY internet SYSTEM "../menus/C/internet.xml">
<!ENTITY keyboard SYSTEM "../menus/C/keyboard.xml">
<!ENTITY keyboard-shortcuts SYSTEM "../menus/C/keyboard-shortcuts.xml">
<!ENTITY limewire SYSTEM "../menus/C/limewire.xml">
<!ENTITY login-screen-setup SYSTEM "../menus/C/login-screen-setup.xml">
<!ENTITY logout SYSTEM "../menus/C/logout.xml">
<!ENTITY menu-editor SYSTEM "../menus/C/menu-editor.xml">
<!ENTITY menus-and-toolbars SYSTEM "../menus/C/menus-and-toolbars.xml">
<!ENTITY mouse SYSTEM "../menus/C/mouse.xml">
<!ENTITY multimedia-systems-selector SYSTEM "../menus/C/multimedia-systems-selector.xml">
<!ENTITY network-proxy SYSTEM "../menus/C/network-proxy.xml">
<!ENTITY networking SYSTEM "../menus/C/networking.xml">
<!ENTITY nvu SYSTEM "../menus/C/nvu.xml">
<!ENTITY open-office SYSTEM "../menus/C/open-office.xml">
<!ENTITY palmos-devices SYSTEM "../menus/C/palmos-devices.xml">
<!ENTITY preferred-applications SYSTEM "../menus/C/preferred-applications.xml">
<!ENTITY printing SYSTEM "../menus/C/printing.xml">
<!ENTITY qtparted SYSTEM "../menus/C/qtparted.xml">
<!ENTITY remote-desktop SYSTEM "../menus/C/remote-desktop.xml">
<!ENTITY removable-drives-and-media SYSTEM "../menus/C/removable-drives-and-media.xml">
<!ENTITY realplayer SYSTEM "../menus/C/realplayer.xml">
<!ENTITY rhythmbox SYSTEM "../menus/C/rhythmbox.xml">
<!ENTITY route-planner SYSTEM "../menus/C/route-planner.xml">
<!ENTITY screen-resolution SYSTEM "../menus/C/screen-resolution.xml">
<!ENTITY screensaver SYSTEM "../menus/C/screensaver.xml">
<!ENTITY scribus SYSTEM "../menus/C/scribus.xml">
<!ENTITY services SYSTEM "../menus/C/services.xml">
<!ENTITY sessions SYSTEM "../menus/C/sessions.xml">
<!ENTITY shared-folders SYSTEM "../menus/C/shared-folders.xml">
<!ENTITY skype SYSTEM "../menus/C/skype.xml">
<!ENTITY software-properties SYSTEM "../menus/C/software-properties.xml">
<!ENTITY sound SYSTEM "../menus/C/sound.xml">
<!ENTITY soundandvideo SYSTEM "../menus/C/soundandvideo.xml">
<!ENTITY synaptic SYSTEM "../menus/C/synaptic.xml">
<!ENTITY systemtools SYSTEM "../menus/C/systemtools.xml">
<!ENTITY terminal SYSTEM "../menus/C/terminal.xml">
<!ENTITY text-editor SYSTEM "../menus/C/text-editor.xml">
<!ENTITY theme SYSTEM "../menus/C/theme.xml">
<!ENTITY time-date SYSTEM "../menus/C/time-date.xml">
<!ENTITY totem SYSTEM "../menus/C/totem.xml">
<!ENTITY ubuntu-update-manager SYSTEM "../menus/C/ubuntu-update-manager.xml">
<!ENTITY users SYSTEM "../menus/C/users.xml">
<!ENTITY users-groups SYSTEM "../menus/C/users-groups.xml">
<!ENTITY windows SYSTEM "../menus/C/windows.xml">
<!ENTITY xchat-gnome SYSTEM "../menus/C/xchat-gnome.xml">
<!ENTITY xine SYSTEM "../menus/C/xine.xml">
<!ENTITY xmms SYSTEM "../menus/C/xmms.xml">
<!ENTITY % xinclude SYSTEM "../../../libs/xinclude.mod">
<!ELEMENT xi:include (xi:fallback)?>
<!ATTLIST xi:include xmlns:xi CDATA #FIXED "http://www.w3.org/2001/XInclude">
<!ATTLIST xi:include href CDATA #REQUIRED>
<!ATTLIST xi:include parse (xml | text) "xml">
<!ATTLIST xi:include xpointer CDATA #IMPLIED>
<!ATTLIST xi:include encoding CDATA #IMPLIED>
<!ATTLIST xi:include accept CDATA #IMPLIED>
<!ATTLIST xi:include accept-charset CDATA #IMPLIED>
<!ATTLIST xi:include accept-language CDATA #IMPLIED>
<!ELEMENT xi:fallback ANY>
<!ATTLIST xi:fallback xmlns:xi CDATA #FIXED "http://www.w3.org/2001/XInclude">
<!ENTITY % local.preface.class "| xi:include">
<!ENTITY % local.part.class "| xi:include">
<!ENTITY % local.chapter.class "| xi:include">
<!ENTITY % local.divcomponent.mix "| xi:include">
<!ENTITY % local.para.char.mix "| xi:include">
<!ENTITY % local.info.class "| xi:include">
<!ENTITY % local.common.attrib "xmlns:xi            CDATA       #FIXED       'http://www.w3.org/2001/XInclude'">
<!ENTITY language "&EnglishAmerican;">
]>
<chapter id="networking" status="complete">
	<title>Nätverk</title>
  <para>Nätverk består av två eller fler enheter, som datorer, skrivare, och annan liknande utrustning som ansluts antingen genom fysiska kablar eller med trådlösa länkar med syftet att dela eller distribuera information bland de anslutna enheterna.</para>
  <para>Den här avdelningen av Ubuntus serverguide ger dig allmän och specifik information för nätverk, inklusive en överblick över nätverkskoncept och detaljerad information för populära nätverksprotokoll och serverprogram.</para>
	<sect1 id="network-configuration" status="complete">
		<title>Nätverkskonfiguration</title>
          <para>Med Ubuntu följer ett antal grafiska verktyg för att konfigurera dina nätverksenheter. Det här dokumentet riktar sig mot serveradministratörer och fokuserar därför på att hantera nätverket från kommandoraden.</para>
      <sect2 id="ethernet" status="complete">
        <title>Ethernet</title> 
          <para>Nästan all konfiguration för ethernet finns samlat i en enda fil, <filename>/etc/network/interfaces</filename>. Om du inte har några ethernet-enheter kommer bara loopback-gränssnittet att synas i den här filen, och det kommer att se ut ungefär såhär: <screen># This file describes the network interfaces available on your system
# and how to activate them. For more information, see interfaces(5).

# The loopback network interface
auto lo
iface lo inet loopback
address 127.0.0.1
netmask 255.0.0.0</screen> Om du bara har en ethernetenhet, eth0, och den blir konfigurerad från en DHCP-server, och den bör aktiveras automatiskt vid uppstart behöver du bara två rader till: <screen>auto eth0
iface eth0 inet dhcp</screen> Den första raden säger att enheten eth0 ska startas automatiskt vid uppstart, och den andra raden betyder att enheten (interface, <quote>iface</quote>) eth0 ska ha en IPv4-adress (ersätt <quote>inet</quote> med <quote>inet6</quote> om du vill ha en IPv6-adress) och att den ska få sina uppgifter automatiskt från DHCP. Om vi antar att ditt nätverk och DHCP-servern är ordentligt konfigurerade bör din dator inte behöva någon mer konfiguration för att fungera som den ska. DHCP-servern kommer att ge dig en gateway (implementeras via kommandot <application>route</application>), enhetens IP-adress (implementeras via kommandot <application>ifconfig</application>), och DNS-servrarna som används på nätverket (implementeras i filen <filename>/etc/resolv.conf</filename>).</para>
		<para>För att konfigurera din ethernetenhet med en statisk IP-adress och en anpassad konfiguration behöver du skriva lite mer information. Anta att du vill att enheten eth1 ska få IP-numret 192.168.0.2 och nätmasken 255.255.255.0. Din standardgateways IP-adress är 192.168.0.1. Du skulle då behöva skriva något sådant här i <filename>/etc/network/interfaces</filename>:
<screen>iface eth1 inet static
	address 192.168.0.2
	netmask 255.255.255.0
	gateway 192.168.0.1</screen> I det här fallet behöver du skriva in din DNS-server manuellt i <filename>/etc/resolv.conf</filename>, som skulle se ut ungefär såhär: <screen>search midomän.com
nameserver 192.168.0.1
nameserver 4.2.2.2</screen> Direktivet <emphasis role="italics">search</emphasis> gör så att mindomän.com automatiskt läggs till alla datorförfrågningar för att försöka hitta datorer i ditt nätverk. Om ditt nätverks domännamn till exempel är mindomän.com och du försöker komma åt datorn <quote>minburk</quote> kommer DNS-förfrågan automatiskt att förvandlas till <quote>minburk.mindomän.com</quote>. Direktivet <emphasis role="italics">nameserver</emphasis> specificerar vilka DNS-servrar som ska användas för att förvandla datornamn till IP-adresser. Om du har en egen nameserver, skriv den här. I annat fall måste du fråga din internetleverantör om en primär och en sekundär DNS-server att använda, och skriva dem i <filename>/etc/resolv.conf</filename> enligt vad som beskrivs ovan.</para>
		<para>Det går att konfigurera mycket mer, inklussive uppringda PPP-anslutningar, IPv6-nätverk, VPN-enheter med mera. Du kan få mer information och läsa om vad du kan skriva i <application>man 5 interfaces</application>. Kom ihåg att <filename>/etc/network/interfaces</filename> används av <application>ifup</application>/<application>ifdown</application>-scripten för att få ett konfigurationsschema som är lite mindre pilligt än det som används i vissa andra Linuxdistributioner, och att de traditionella verktygen som <application>ifconfig</application>, <application>route</application> och <application>dhclient</application> fortfarande finns tillgängliga om du vill använda dem.</para>
      </sect2>
      <sect2 id="managing-dns-entries" status="complete">
          <title>Hantera DNS-servrar</title>
            <para>Den här avdelningen förklarar hur du konfigurerar DNS-servrar för att användas för att förvandla datornamn till IP-adresser och tvärt om. Den förklarar inte hur du konfigurerar systemet för att bli en DNS-server.</para>
            <para>För att hantera DNS-servrar kan du lägga till, ändra på, eller ta bart DNS-serveradresser från filen <filename>/etc/resolv.conf</filename>. Nedan följer en <ulink url="../sample/resolv.conf">exempelfil</ulink>:</para>
<programlisting>
search com
nameserver 204.11.126.131
nameserver 64.125.134.133
nameserver 64.125.134.132
nameserver 208.185.179.218
</programlisting>
            
            <para>Nyckeln <application>search</application> bestämmer vilken sträng som läggs till ett felaktigt datornamn. I det här fallet har vi skrivit <application>com</application>. Det gör att om vi kör: <command>ping ubuntu</command> skulle det tolkas som <command>ping ubuntu.com</command>.</para> 

            <para>Nyckeln <application>nameserver</application> bestämmer DNS-servern IP-nummer. Det kommer användas för att leta upp en IP-adress eller ett datornamn. Den här filen kan innehålla flera nameserver-rader. DNS-servrarna kommer att användas i den ordningen för att göra nätverksförfrågningar.</para>

            <warning>
            <para>Om DNS-servernamnen hämtas dynamiskt från DHCP eller PPPoE (från din ISP) bör du inte lägga till några DNS-servrar i den här filen. Den kommer uppdateras automatiskt.</para>
            </warning>

        </sect2>
        <sect2 id="managing-hosts" status="complete">
          <title>Hantera datorvärdar</title>
            <para>För att hantera värdar kan du lägga till, ändra, eller ta bort dem från filen <filename>/etc/hosts</filename>. Den här filen innehåller IP-adresserna och deras motsvarande värddatornamn. När ditt system försöker översätta ett värddatornammn till en IP-adress eller hitta värddatornamnet för en IP-adress, kommer den att leta i filen <filename>/etc/hosts</filename> innan den använder domänservrar. Om IP-adressen står i filen <filename>/etc/hosts</filename> kommer domänservrarna inte att användas. Det här beteendet går att ändra på genom att redigera <filename>/etc/nsswitch.conf</filename> på egen risk.</para>

            <para>Om ditt nätverk innehåller datorer vars IP-nummer inte listas i DNS:en rekomenderas du att lägga till dem till <filename>/etc/hosts</filename>.</para>
        </sect2>
    </sect1>
	<sect1 id="tcpip" status="complete">
		<title>TCP/IP</title>
          <para>Protokollen Transmission Control Protocol och Internet Protocol (TCP/IP) är en standarduppsättning protokoll som utvecklades i slutet av 1970-talet av Defense Advanced Research Projects Agency (DARPA) som ett sätt för att kommunicera mellan olika datortyper och datornätverk. TCP/IP är det som ligger till grund för Internet, och är därför de vanligaste nätverksprotokollen i världen.</para>
      <sect2 id="tcpip-introduction" status="complete">
        <title>Introduktion till TCP/IP</title> 
          <para>De två delarna i TCP/IP hanterar olika delar av datornätverk. <emphasis>Internet Protocol</emphasis>, "IP"-delen av TCP/IP, är ett anslutningslöst protokoll som bara hanterar att styra paketen med <emphasis role="italics">IP-datagram</emphasis> som den grundläggande enheten för nätverksinformation. IP-datagrammet består av ett huvud följt av ett meddelande. <emphasis>Transmission Control Protocol</emphasis> är "TCP"-delen av TCP/IP och låter nätverksvärdar upprätta anslutningar som kan användas för att utbyta dataströmmar. TCP garanterar även att datan som skickas mellan anslutningarna levereras och att den kommer fram till den andra datorn i samma ordning som den skickades från den första.</para>
          </sect2>
        <sect2 id="tcpip-configuration" status="complete">
          <title>Konfiguration av TCP/IP</title>
            <para>Konfigurationen av TCP/IP består av flera delar som du måste ställa in genom att ändra på den lämpliga konfigurationsfilen, eller genom att använda en Dynamic Host Configuration Protocol-server (DHCP) som i sin tur kan konfigureras så att den ger alla nätverksklienter korrekta TCP/IP-inställningar automatiskt. De här konfigurationsvärdena måste ställas in ordentligt för att nätverksanvändning ska fungera på ditt Ubuntusystem.</para>
            <para>De vanligaste delarna i konfigurationen av TCP/IP och deras syften följer här:<itemizedlist>
               <listitem>
                  <para><emphasis role="bold">IP-adress</emphasis> IP-adressen är en unik identifieringssträng uttryckt som fyra decimaltal som sträcker sig från noll (0) till tvåhundrafemtiofem (255), avskiljda med punkter. Vart och ett av talen representerar åtta (8) bitar av adressen, vilket gör att den totalt blir trettiotvå (32) bitar. Det här formatet kallas <emphasis>dotted quad notation</emphasis>.</para>
               </listitem>
               <listitem>
                  <para><emphasis role="bold">Nätmask</emphasis> Subnätmasken (eller helt enkelt <emphasis>nätmasken</emphasis> är en lokal bitmask, eller en uppsättning flaggor som avskiljer de delarna av en IP-adress som används i nätverket från de som används i det lokala <emphasis>subnätverket</emphasis>. Till exempel, i ett klass C-nätverk är standardnätmasken 255.255.255.0, vilket maskerar de första tre bytesen av IP-adressen och låter den sista byten i IP-adressen användas för datorer i subnätverket.</para>
               </listitem>
               <listitem>
                  <para><emphasis role="bold">Nätverksadress</emphasis> Nätverksadressen representerar de bytes i en IP-adress som utgör nätverksdelen i en IP-adress. Till exempel, värden 12.128.1.2 i ett klass A-nätverk skulle använda 12.0.0.0 som nätverksadressen, vilket använder tolv (12) för att representera den första byten i IP-adressen (nätverksdelen), och nollor (0) i alla de tre kvarvarande bytesen för att representera möjliga värddatorer. Nätverksvärdar som använder de väldigt vanliga och icke-routebara IP-adresserna som 192.168.1.100 skulle istället ha nätverksadressen 192.168.1.0, vilket specificerar de tre första bitarna i klass c-nätverket 192.168.1 och en nolla (0) för alla de möjliga värdarna i nätverket.</para>
               </listitem>
               <listitem>
                  <para><emphasis role="bold">broadcast-adress/emphasis&gt; Broadcastadressen är en IP-adress som låter nätverksdata skickas samtidigt till alla värddatorer i ett givet subnätverk, istället för att specificera en speciell värddator. Standardbroadcastadressen för IP-nätverk är 255.255.255.25, men just den kan inte användas för att skicka broadcast-meddelanden till varje värddator på Internet eftersom routrarna blockerar det. En mer lämplig broadcast-adress är en som matchar ett speciellt subnätverk. Till exempel, på det populära klass C-IP-nätverket 192.168.1.0 bör broadcastadressen vara 192.168.1.255. Broadcastmeddelanden skickas vanligtvis av nätverksprotokoll som Address Resolution Protocol (ARP) och Routing Information Protocol (RIP).
               
               
                  Gateway-adress En gateway-adress gateway anv
               
               
                  DNS-serveradress DNS-serveradresser  DNS-servern, den sekund DNS-servern och den terti DNS-servern. F
                     
                        IP-adressern, n/etc/network/interfaces. DNS-serveradresser skrivs oftast via nameserver-posterna i filen /etc/resolv.conf. Finterfaces respektive resolv.conf, genom att skriva f
                     
                    Kom interfaces med f
                    

man interfaces

                    
                    Kom resolv.conf med f
                    
man resolv.conf
                    
               
            </emphasis></para></listitem></itemizedlist></para>
        </sect2>
        <sect2 id="ip-routing" status="complete">
          <title>IP-routning</title>
            <para>IP-routning är ett sätt att specificera och upptäcka vägar i ett TCP/IP-nätverk som det går att skicka data genom. Routning använder en uppsättning <emphasis>routingtabeller</emphasis> för att skicka nätverkspaket från den som skickar dem till mottagaren, ofta via många nätverksnoder därimellan som kallas <emphasis>routrar</emphasis>. IP-routning är det viktigaste sättet för att hitta trafikvägar på internet. Det finns idag två huvudmetoder för IP-routning: <emphasis>statisk routning</emphasis> och <emphasis>dynamisk routning</emphasis>.</para>
            <para>Statisk routning innebär att man manuellt lägger till IP-router till systemets routningstabell, och det görs oftast genom att manipulera routningtabellen med kommandot <application>route</application>. Statisk routning har många fördelar över dynamisk routning, till exempel är det väldigt enkelt att få igång på mindre nätverk, förutsägbart (routningstabellen räknas ut i förväg, och är därför alltid exakt samma som förra gången den användes), och litet extraarbete för andra routrar och nätverksanslutningar på grund av att inget dynamiskt routningsprotokoll används. Det finns dock nackdelar med statisk routning. Till exempel är statisk routning begränsat till små nätverk och skalar dåligt. Statisk routning misslyckas också totalt att anpassa sig till nätverkskrashar på vägen på grund av att vägarna är statiskt bestämda.</para>
            <para>Dynamisk routning fungerar bra i stora nätverk med flera möjliga IP-vägar från sändaren till mottagaren och gör använder speciella routningsprotokoll som Router Information Protocol (RIP), som hanterar automatiska förändringar i routningstabellerna så att dynamisk routning blir möjligt. Dynamisk routning har flera fördelar jämfört med statisk routning, som överlägsen skalbarhet och möjligheten att anpassa sig till nätverkskrasher längs nätverksvägarna. Det blir dessutom mindre manuell konfiguration av routningstabellerna, eftersom routrarna lär sig av varandra om deras existens och om tillgängliga vägar. Den här funktionen eliminerar även risken att den mänskliga faktorn infinner sig och orsakar fel. Dynamisk routning är dock inte perfekt, och har nackdelar som ökad komplexitet och extra nätverkstrafik för routerkommunikationer. Det senare ger inte några direkta fördelar för slutanvändaren, men ändå använder nätverkets bandbredd.</para>
        </sect2>
        <sect2 id="tcp-and-udp" status="complete">
          <title>TCP och UDP</title>
            <para>TCP är ett anslutningsbaserat protokoll, som erbjuder felkorrigering och garanterad leverans av data över det som är känt som <emphasis>flödeskontroll</emphasis>. Flödeskontrollen avgör när strömmen av nätverkstdata behöver stoppas, och tidigare skickade datapaket skickas då igen på grund av bland annat problem som <emphasis>kollisioner</emphasis>, och garanterar därmed komplett och korrekt leverans av data. TCP används vanligtvis för att skicka viktig information som databasöverföringar.</para>
            <para>UDP (User Datagram Protocol) är å andra sidan ett <emphasis>anslutningslöst</emphasis> protokoll som sällan hanterar viktig data eftersom det varken finns flödeskontroll eller någon annan metod för att garantera att allt data levereras. UDP används vanligtvis i platser som ljud- och videoströmmar, eftersom det är betydligt snabbare än TCP, eftersom det saknar felkorrigering och flödeskontroll, och i de fallen är en förlust av några paket vanligtvis inte katastrofalt.</para>
        </sect2>
        <sect2 id="icmp" status="complete">
          <title>ICMP</title>
            <para>Internet Control Messaging Protocol (ICMP) är ett tillägg till Internet Protocol (IP), som finns beskrivet i RFC (Request For Comments) #792 och stödjer att nätverkspaket innehåller kontroll-, fel- och informationsmeddelanden. ICMP används av nätverksprogram som <application>ping</application>, som används för att avgöra om en nätverksvärd eller -enhet finns tillgänglig. Några felmeddelanden ICMP kan returnera som är användbara för både nätverksvärdar och enheter som routrar är bland annat <emphasis>Destination Unreachable</emphasis> och <emphasis>Time Exceeded</emphasis>.</para>
        </sect2>
        <sect2 id="daemons" status="complete">
          <title>Demoner</title>
            <para>Demoner är speciella systemprogram som vanligtvis körs hela tiden i bakgrunden och väntar på förfrågningar efter de funktioner de erbjuder från andra program. Många demoner är nätverkscentrerade. Med andra ord har en stor del av de demoner som körs i bakgrunden på ett Ubuntusystem nätverksrelaterade funktioner. Några exempel på sådana demoner är <emphasis>Hyper Text Transport Protocol Daemon</emphasis> (httpd), som erbjuder webbserverfunktionalitet; <emphasis>Secure SHell Daemon</emphasis> (sshd), som erbjuder säker fjärrinloggning och filöverföringsmöjligheter; och <emphasis>Internet Message Access Protocol Daemon</emphasis> (imapd) som erbjuder e-posttjänster.</para>
        </sect2>
    </sect1>
	<sect1 id="firewall-configuration" status="help">
		<title>Brandväggskonfigurering</title>
          <para>Linuxkärnan innehåller systemet <emphasis>Netfilter</emphasis> som används för att manipulera eller avgöra ödet för nätverkstrafik som skickas till eller genom din server. Alla moderna brandväggslösningar för Linux använder det här systemet för nätverksfiltrering.</para>
        <sect2 id="firewall-introduction" status="help">
          <title>Introduktion till brandväggen</title>
            <para>Kärnans paketfiltreringssystem skulle vara ganska värdelöst för administratörer utan ett användargränssnitt för att hantera det. Ett sådant gränssnitt är iptables. När ett paket anländer till din server kommer det att skickas till Netfilter-systemet för att accepteras, manipuleras, eller nekas, beroende på de regler det får från iptables. Därför är iptables allt du behöver för att hantera din brandvägg om du är bekant med den, men det finns många gränssnitt för att förenkla uppgiften.</para>
        </sect2>
        <sect2 id="ip-masquerading" status="help">
          <title>IP Masquerading</title>
            <para>Syftet med att maskera IP:n är att ge datorer med privata, icke-routebara IP-adresser på ditt nätverk tillgång till internet genom datorn som sköter maskeringen. Trafik från ditt privata nätverk på väg mot internet måste manipuleras så att svaren går att routas tillbaka till datorn som skickade förfrågan. För att göra det måste kärnan modifiera <emphasis>ursprungs-IP-adressen</emphasis> i varje paket så att svaren kommer tillbaka till datorn, istället för att skickas till den privata IP-adressen som datorn som skickade förfrågan, vilket inte går att göra över internet. Linux använder <emphasis>spårning av anslutningar</emphasis> (conntrack) för att hålla ordning på vilka anslutningar som hör till vilka datorer, och skicka vidare alla paket baserat på det. Trafik som lämnar ditt privata nätverk "maskeras" därför så att de ser ut att komma från din gateway-dator. Den här funktionen kallas i Microsofts dokumentation Internetanslutningsdelning.</para>
			<para>Du kan åstakomma det här med en enda iptables-regel, som kan variera något beroende på din nätverkskonfiguration: <screen>sudo iptables -t nat -A POSTROUTING -s 192.168.0.0/16 -o ppp0 -j MASQUERADE</screen> Ovastående kommando antar att ditt privata adressrum är 192.168.0.0/16 och att enheten som ansluts till internet ppp0. Syntaxet är - uppdelat i bitar - som följer:
<itemizedlist>
				  <listitem><para>-t nat -- regeln som ska läggas till nat-tabellen</para></listitem>
				  <listitem><para>-A POSTROUING -- regeln som ska läggas till (-A) till POSTROUTING-kedjan.</para></listitem>
				  <listitem><para>-s 192.168.0.0/16 -- den här regeln gäller all trafik som kommer från det specificerade adressutrymmet</para></listitem>
				  <listitem><para>-o ppp0 -- den här regeln gäller trafik som ska skickas genom den specificerade nätverksenheten</para></listitem>
				  <listitem><para>-j MASQUERADE -- trafik som matchar den här regeln ska "hoppa" (-j) till MASQUERADE-målet för att bli manipulerad enligt vad som beskrivs ovan</para></listitem>
			  </itemizedlist></para>
			<para>Varje kedja i filtertabellen (standardtabellen, där nästan all paketfiltrering utförs) har normalt <emphasis>policyn</emphasis> ACCEPT för all trafik, men om du skapar en brandvägg på din gatewaydator vill du kanske sätta stardardpolicyn till DROP eller REJECT, varpå all maskerad trafik måste släppas igenom FORWARD-kedjan för att ovastående regel ska fungera: <screen>sudo iptables -A FORWARD -s 192.168.0.0/16 -o ppp0 -j ACCEPT
sudo iptables -A FORWARD -d 192.168.0.0/16 -m state --state ESTABLISHED,RELATED -i ppp0 -j ACCEPT</screen> Ovastående kommandon kommer att tillåta alla anslutningar från ditt lokala nätverk till internet och all trafik som har med de anslutningarna att göra släpps tillbaka till datorn som skapade den dator som skapade dem.</para>
        </sect2>
        <sect2 id="firewall-tools" status="help">
          <title>Verktyg</title>
            <para>Det finns många verktyg tillgängliga som hjälper dig att skapa en komplett brandvägg utan intim kunskap om iptables. För de som vill ha en GUI är <application>Firestarter</application> väldigt populärt och lättanvänt, och <application>fwbuilder</application> är väldigt kraftfullt och kommer att kännas bekant för en administratör som har använt kommersiella brandväggsprogram som Checkpoint FireWall-1. Om du föredrar ett kommandoradsverktyg  med konfigurationsfiler i vanlig text är <application>Shorewall</application> en väldigt kraftfull lösning som hjälper dig konfigurera en avancerad brandvägg för alla nätverk. Om ditt nätverk är relativt enkelt, eller om du inte har något nätverk, bör <application>ipkungfu</application> ge dig en fungerande brandvägg helt utan konfiguration, och låter dig enkelt göra din brandvägg genom att modifiera de enkla, väldokumenterade konfigurationsfilerna. Ett annat intressant verktyg är <application>fireflier</application>, som är byggt för att vara en skrivbordsbrandvägg. Det består av en server (fireflier-server) och den GUI-klient du vill ha (GTK eller QT), och beter sig som de många populära brandväggsprogrammen till Windows.</para>
        </sect2>
        <sect2 id="firewall-logs" status="help">
          <title>Loggar</title>
            <para>Brandväggsloggar är helt nödvändiga för att hitta attacker, felsöka dina brandväggsregler, och notera ovanlig aktivitet på ditt nätverk. Du måste dock inkludera loggningsregler i din brandvägg för att loggarna ska skapas, och loggningsreglerna måste stå innan någon applicerbar avslutande regel (en regel som avgör ett pakets öde, som ACCEPT, DROP eller REJECT). Till exempel: <screen>sudo iptables -A INPUT -m state --state NEW -p tcp --dport 80 -j LOG --log-prefix "NEW_HTTP_CONN: "</screen> En förfrågan på port 80 från den lokala maskinen kommer nu att generera en logg i dmesg som ser ut såhär:</para>
			<para>
			  <programlisting>[4304885.870000] NEW_HTTP_CONN: IN=lo OUT= MAC=00:00:00:00:00:00:00:00:00:00:00:00:08:00 SRC=127.0.0.1 DST=127.0.0.1 LEN=60 TOS=0x00 PREC=0x00 TTL=64 ID=58288 DF PROTO=TCP SPT=53981 DPT=80 WINDOW=32767 RES=0x00 SYN URGP=0</programlisting>
			</para>
			<para>Ovastående logg hittar du också i <filename>/var/log/messages</filename>, <filename>/var/log/syslog</filename> och <filename>/var/log/kern.log</filename>. Det här betendet går att ändra på genom att göra lämpliga ändringar i <filename>/etc/syslog.conf</filename> eller genom att installera och konfigurera <application>ulogd</application> och skriv ULOG istället för LOG i den tidigare regeln. Demonen <application>ulogd</application> är en server som lyssnar efter loggningsinstruktioner från kärnan om brandväggar, och kan logga det till vilken fil du vill, eller till och med till databaserna <application>PostgreSQL</application> eller <application>MySQL</application>. Du kan göra det enklare att förstå loggarna genom att använda ett logganalyseringsverktyg som <application>fwanalog</application>, <application> fwlogwatch</application> eller <application>lire</application>.</para>
        </sect2>
    </sect1>
	<sect1 id="openssh-server" status="complete">
		<title>OpenSSH-server</title>
      <sect2 id="openssh-introduction">
        <title>Introduktion</title> 
           <para>Den här avdelningen i <phrase>Ubuntus</phrase> serverguide introducerar en kraftfull samling verktyg för att fjärradministrera nätverksanslutna datorer och överföra data mellan nätverksanslutna datorer som heter <emphasis>OpenSSH</emphasis>. Du kommer också att lära dig om några av de konfigurationsmöjligheterna som finns i OpenSSH-servern och hur du ändrar dem i din Ubuntudator.</para>
          <para>OpenSSH är en fritt tillgänglig version av Secure Shell-familjen (SSH) av protkoll och verktyg för att fjärstyra en dator eller överföra filer mellan datorer. Traditionella verktyg som användes för att utföra sådana här funktioner, som <application>telnet</application> eller <application>rcp</application> är osäkra och överför användarens lösenord i klartext när de används. OpenSSH ger dig en serverdemon och klientverktyg för att genomföra säker, krytperad fjärrstyrning och filöverföringar, och ersätter därmed de klassiska verktygen.</para>
          <para>Serverkomponenten i OpenSSH, <application>sshd</application>, lyssnar kontinueligt efter klientanslutningar från något av klientverktygen. När en anslutningsförfrågan anlönder skapar <application>sshd</application> korrekt anslutning beroende på verktyget som ansluter. Till exempel, om fjärrdatorn ansluter med klientprogrammet <application>ssh</application> kommer OpenSSH-servern att skapa en fjärrstyrningssession efter att klienten identifierat sig. Om fjärrdatorn ansluter till OpenSSH-servern med <application>scp</application> skapar OpenSSH-servern istället en anslutning för säker kopiering av filer mellan servern och klienten efter att klienten identifierat sig. OpenSSH kan använda många identifieringsmetoder, bland annat klartext, en publik nyckel, och <application>Kerberos</application>-biljetter.</para>
          </sect2>
        <sect2 id="openssh-installation">
        <title>Installation</title>
        <para>Installationen av OpenSSH-klienten och -servern är enkel. För att installera OpenSSH-klienten på din Ubuntudator, kör det här kommandot i en terminalprompt:</para>
           <para>
<screen>
<command>sudo apt-get install openssh-client</command>
</screen>
           </para>
        <para>För att installera OpenSSH-servern, och de filer den använder, kör det här kommandot i en terminalprompt:</para>
           <para>
<screen>
<command>sudo apt-get install openssh-server</command>
</screen>
           </para>
        </sect2>
        <sect2 id="openssh-configuration">
          <title>Konfiguration</title>
            <para>Du kan konfigurera standardbeteendet för OpenSSH-servern, <application>sshd</application>, genom att ändra i filen <filename>/etc/ssh/sshd_config</filename>. För information om konfigurationsmöjligheterna i den här filen kan du läsa lämplig manualsida med följande kommando som du skriver vid en terminalprompt:</para>
               <para>
<screen>
<command>man sshd_config</command>
</screen>
               </para>
            <para>Det finns många inställningar i konfigurationsfilen för <application>sshd</application> som styr saker som kommunikationsinställingar och identifieringstyper. Följande är exempel på inställningar som går att ändra genom att ändra på filen <filename>/etc/ssh/ssh_config</filename>.</para>
            <tip>
               <para>Innan du ändrar konfigurationsfilen bör du göra en kopia av originalfilen och skydda den från skrivning så att du har kvar originalinställningarna som en referens och så att du kan återanvända den om det krävs.</para>
               <para>Kopiera filen <filename>/etc/ssh/sshd_config</filename> och skrivskydda den med följande kommandon som du skriver i en terminalprompt:</para>
	    </tip>
               <para>
<screen>
<command>sudo cp /etc/ssh/sshd_config /etc/ssh/sshd_config.original</command>
<command>sudo chmod a-w /etc/ssh/sshd_config.original</command>
</screen>
               </para> 
            <para>Följande är exempel på konfigurationsinställningar du kanske vill ändra på:</para>
           <itemizedlist>
               <listitem>
               <para>För att få OpenSSH att lyssna på TCP-porten 2222 istället för standardporten 22, ändra raden Port så att den ser ut såhär:</para>
               <para>Port 2222</para>
               </listitem>
	<listitem>
            <para>För att få <application>sshd</application> att tillåta publika, nyckelbaserade inloggningsmetoder, lägg till följande rad, eller ändra den om den redan finns:</para>
               <para>PubkeyAuthentication yes</para>
            <para>i filen <filename>/etc/ssh/sshd_config</filename>. Om raden redan finns, se till att den inte är utkommenterad.</para>
            </listitem>
            <listitem>
             <para>För att få OpenSSH-servern att skriva ut innehållet i <filename>/etc/issue.net</filename> innan inloggning, lägg till följande rad, eller ändra den om den redan finns:</para>
               <para>Banner /etc/issue.net</para>
               <para>i filen <filename>/etc/ssh/sshd_config</filename>.</para>
             </listitem>
             </itemizedlist>
	    <para>När du har ändrat på filen <filename>/etc/ssh/sshd_config</filename> måste du spara den och starta om serverprogrammet <application>sshd</application> för att verkställa ändringarna. Du gör det genom att skriva följande kommando i en terminalprompt:</para>
               <para>
<screen>
<command>sudo /etc/init.d/ssh restart</command>
</screen>
               </para>
		<warning>
                           <para>Många andra konfigurationsinställningar för <application>sshd</application> finns, så att du kan ställa in serverprogrammets beteende för att passa dina behov. Glöm inte bort, dock, att om du bara kommer åt servern med <application>ssh</application>, och du gör ett fel när du konfigurerar <application>sshd</application> via filen <filename>/etc/ssh/sshd_config</filename> kanske du kommer upptäcka att du inte kommer åt servern när du startar mo den, eller att <application>sshd</application> vägrar starta på grund av en felaktig konfiguration, så var extra noga när du ändrar i den här filen på en fjärrserver.</para>
                        </warning>
        </sect2>
   <sect2 id="openssh-references" status="complete">
      <title>Referenser</title>
      <para>
      <ulink url="http://www.openssh.org/">OpenSSH:s webbsida</ulink>
      </para>
      <para>
      <ulink url="https://wiki.ubuntu.com/AdvancedOpenSSH">Wikisida för avancerad OpenSSH-användning</ulink>
      </para>
   </sect2>
     </sect1>
	<sect1 id="ftp-server" status="complete">
        <title>FTP-server</title> 
            <para>File Transfer Protocol (FTP) är ett TCP-protokoll för att ladda upp och ner filer mellan datorer. FTP fungerar enligt klient-/servermodellen. Servern kallas för en <emphasis>FTP demon</emphasis>. Den lystnar hela tiden efter FTP-förfrågningar från andra datorer. När en förfrågan mottas, hanterar demonen inloggningen och skapar en anslutning. Under hela sessionens livslängd kör den de kommandon FTP-klienten skickar.</para>
            <para>Det går att hantera tillgång till en FTP-server på två sätt:</para>
            <itemizedlist spacing="compact">
                <listitem>
                    <para>Anonymt</para>
                </listitem>
                <listitem>
                    <para>Identifierat</para>
                </listitem>
            </itemizedlist>
            <para>I det anonyma läget kan fjärrvärdar komma åt FTP-servern genom att använda standardkontot "anonymous" eller "ftp" och skicka en e-postadress som lösenord. I det identifierade läget måste en användare ha ett konto och ett lösenord. Vilka användare som får tillgång till FTP-serverns kataloger och filer beror på vilka rättigheter användaren som loggar in har. Som en allmän regel kommer FTP-demonen att dölja root-katalogen för FTP-servern och byta ut den mot hemkatalogen för FTP. Det här döljer resten av filsystemet från fjärrsessioner.</para>
            <sect2 id="vsftpd-ftp-server-installation" status="complete">
                <title>vsftpd - Installation av FTP-servern</title>
                    <para>vsftpd är en FTP-demon som finns för Ubuntu. Den är enkel att installera, konfigurera, och att underhålla. För att installera <application>vsftpd</application> kör du följande kommando: <screen> <command>sudo apt-get install vsftpd</command> </screen></para>

                </sect2>
            <sect2 id="vsftpd-ftp-server-configuration" status="complete">
                <title>vsftpd - Konfiguration av FTP-servern</title>
                <para>Du kan ändra i vsftpd:s konfigurationsfil, <filename>/etc/vsftpd.conf</filename>, för att ändra standardinställningarna. Normalt är bara anonym FTP tillåten. Om du vill inaktivera den möjligeheten bör du ändra följande rad: <programlisting>
anonymous_enable=YES
</programlisting> till <programlisting>
anonymous_enable=NO
</programlisting> Normalt får lokala systemanvändare inte logga in på FTP-servern. För att ändra det bör du avkommentera följande rad: <programlisting>
#local_enable=YES
</programlisting> Normalt får användare ladda ner filer från FTP-servern. De får inte ladda upp filer till den. För att ändra den här inställningen bör du avkommentera följande rad: <programlisting>
#write_enable=YES
</programlisting> På samma sätt får normalt inte anonyma användare ladda upp filer till FTP-servern. För att ändra på den här inställningen bör du avkommentera följande rad: <programlisting>
#anon_upload_enable=YES
</programlisting> Konfigurationsfilen har många konfigurationsparametrar. Information om alla dessa finns i själva konfigurationsfilen. Du kan även läsa i manualsidan, <command>man 5 vsftpd.conf</command>, för detaljer kring alla parametrar.</para>
                <para>När du har konfigurerat <application>vsftpd</application> kan du starta demonen. Du kan köra följande kommando för att köra <application>vsftpd</application>-demonen: <screen> <command>sudo /etc/init.d/vsftpd start</command> </screen></para>
				<note><para>Notera att standardinställningarna i konfigurationsfilen är som de är av säkerhetsskäl. Alla ovastående inställningar gör systemet lite mindre säkert, så gör bara de ändringar du behöver.</para></note>
                </sect2>
    </sect1>
	<sect1 id="network-file-system" status="complete">
		<title>Nätverksfilsystem (NFS)</title>
          <para>NFS låter en dator dela kataloger och filer med andra över ett nätverk. Genom att använda NFS kan användare och program nå filer från fjärrsystem nästan som om de var lokala filer.</para>

          <para>Några av de tydligaste fördelarna med NFS är:</para>

          <itemizedlist>
          <listitem>
      <para>Lokala arbetsstationer kan använda mindre hårddiskutrymme eftersom vanlig data kan lagras på en enda dator och fortfarande finnas tillgängligt för andra över nätverket.</para>
          </listitem>
          <listitem>
      <para>Användarna behöver inte ha olika hemkataloger på alla datorer i nätverket. Hemkatalogen går att lägga på NFS-servern och göras tillgänglig över nätverket.</para>
          </listitem>
          <listitem>

      <para>Lagringsenheter som diskettläsare, CDROM-enheter och USB-stickor kan användas av andra datorer på nätverket. Det här kan minska antalet läsare för flyttbara enheter från nätverket.</para>
          </listitem>
          </itemizedlist>

      <sect2 id="nfs-installation" status="complete">
        <title>Installation</title>
      
          <para>Vid en terminalprompt skriver du följande kommando för att installera NFS-servern:</para>
          <para>
<screen>
<command>sudo apt-get install nfs-kernel-server</command>
</screen>
          </para>
      </sect2>
      <sect2 id="nfs-configuration" status="complete">
        <title>Konfiguration</title>
          <para>Du kan konfigurera vilka kataloger som ska exporteras genam att lägga till dem i filen <filename>/etc/exports</filename>. Till exempel:</para>
          <para>
<screen>
/ubuntu *(ro,sync,no_root_squash)
/home *(rw,sync,no_root_squash)
</screen>
          </para>

          <para>Du kan ersätta * med en datorvärd i något format. Gör datorvärdsdefinitionen så specifik som möjligt så att inga andra datorer kommer åt NFS-utdelningen.</para>

          <para>För att starta NFS-servern kan du köra följande kommando vid en terminalprompt:</para>
          <para>
<screen>
<command>sudo /etc/init.d/nfs-kernel-server start</command>
</screen>
          </para>
      </sect2>
      <sect2 id="nfs-client-configuration" status="complete">
        <title>Klientkonfiguration för NFS</title>
          <para>Använd kommandot <application>mount</application> för att montera en utdelad NFS-katalog från en annan dator, genom att skriva ett komando liknande det här vid en terminalprompt:</para>
          <para>
<screen>
<command>sudo mount exempel.värddator.com:/ubuntu /local/ubuntu</command>
</screen>
</para>
      <warning>
      <para>För att det ska fungera måste monteringspunkten <filename>/local/ubuntu</filename> finnas. Det bör inte finnas några filer eller underkataloger i katalogen <filename>/local/ubuntu</filename>.</para>
      </warning>

      <para>Ett annat sätt att montera en NFS-utdelning från en annan dator är att lägga till en rad i filen <filename>/etc/fstab</filename>. Raden måste berätta värdnamnet på NFS-servern, katalogen som exporteras, och katalogen på den lokala datorn som NFS-utdelningen ska monteras till.</para>

      <para>Det allmänna syntaxet för raden i filen <filename>/etc/fstab</filename> är som följer:</para>
      
      <para>
<programlisting>
exempel.värddator.com:/ubuntu /local/ubuntu nfs rsize=8192,wsize=8192,timeo=14,intr
</programlisting>
      </para>
      </sect2>
      <sect2 id="nfs-references" status="complete">
        <title>Referenser</title>
				<para><ulink url="http://nfs.sourceforge.net/">Vanliga frågor om Linux NFS</ulink></para>
      </sect2>
    </sect1>
	<sect1 id="dhcp" status="complete">
		<title>Dynamic Host Configuration Protocol (DHCP)</title>
            <para>Dynamic Host Configuration Protocol (DHCP) är en nätverkstjänst som ger datorer möjligheten att bli automatiskt tilldelade inställningar från en server så att administratörer slipper att manuellt konfigurera varje nätverksdator. Datorer som är konfigurerade för att bli DHCP-klienter har ingen kontroll över inställningarna de får från DHCP-servern, och kofigurationen är helt transparent för datorns användare.</para>
            <para>Några av de vanligaste inställningarna som DHCP-servern ger till DHCP-klienter är:</para>
            <itemizedlist spacing="compact">
                <listitem>
                    <para>IP-adress och nätmask</para>
                </listitem>
                <listitem>
                    <para>DNS</para>
                </listitem>
                <listitem>
                    <para>WINS</para>
                </listitem>
            </itemizedlist>
            <para>Du kan även använda en DHCP-server för att skicka annan konfigurationsinformation som:</para>
            <itemizedlist spacing="compact">
                <listitem>
                    <para>Värdnamn</para>
                </listitem>
                <listitem>
                    <para>Domännamn</para>
                </listitem>
                <listitem>
                    <para>Standardgateway</para>
                </listitem>
                <listitem>
                    <para>Tidsserver</para>
                </listitem>
                <listitem>
                    <para>Skrivarserver</para>
                </listitem>
            </itemizedlist>
            <para>Fördelen med att använda DHCP är att ändringar i nätverket, till exempel en ändring av adressen till DNS-servern, bara behöver ändras i DHCP-servern, och alla nätverksklienter kommer automatiskt att konfigureras om nästa gång deras DHCP-klienter överför information från DHCP-servern. En extra fördel är att det också är enklare att integrera nya datorer i nätverket, eftersom man inte behöver leta rätt på en ledig IP-adress. Även konflikter i tilldelning av IP-adresser minskar.</para>
            <para>Det finns två sätt på vilka en DHCP-server kan skicka ut konfigurationsinställningar:</para>
            <variablelist>
                <varlistentry>
                    <term>MAC-adress</term>
                    <listitem>
                        <para>Den här metoden låter DHCP använda den unika hårdvaruadressen för varje nätverkskort som är anslutet till nätverket, och sedan skicka samma konfiguration till DHCP-klienten varje gång den gör en förfrågan till DHCP-servern med det nätverkgränssnittet.</para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>Adresspool</term>
                    <listitem>
                        <para>Den här metoden skapar en pool (kallas ibland för en "range" eller "scope") av IP-adresser från vilken DHCP-klienterna får sina anslutningsegenskaper dynamiskt i den ordning de ber om det. När en DHCP-klient inte längre finns på nätverket under en fördefinierad tidsrymd går konfigurationen ut, och lämnas då tillbaka till adress-poolen för att användas av andra DHCP-klienter.</para>
                    </listitem>
                </varlistentry>
            </variablelist>
            <para>Med Ubuntu följer både en DHCP-server och en DHCP-klient. Servern heter <application>dhcpd</application> (dynamic host configuration protocol daemon). Klienten som följer med Ubuntu heter <application>dhclient</application> och bör installeras på alla datorer som behöver det för att konfigureras automatiskt. Måda programmen är enkla att installera och konfigurera, och startar automatiskt när datorn startar.</para>
      <sect2 id="dhcp-installation" status="complete">
        <title>Installation</title>
          <para>Vid en terminalpromt, skriv följande kommando för att installera <application>dhcpd</application>:</para>
          <para>
<screen>
<command>sudo apt-get install dhcpd</command>
</screen>
          </para>
          <para>Du kommer att se följande utdata, vilket förklarar vad du behöver göra härnäst:</para>
          <screen>
Please note that if you are installing the DHCP server for the first
time you need to configure. Please stop (/etc/init.d/dhcp
stop) the DHCP server daemon, edit /etc/dhcpd.conf to suit your needs
and particular configuration, and restart the DHCP server daemon
(/etc/init.d/dhcp start).

You also need to edit /etc/default/dhcp to specify the interfaces dhcpd
should listen to. By default it listens to eth0.

NOTE: dhcpd's messages are being sent to syslog. Look there for
diagnostics messages.

Starting DHCP server: dhcpd failed to start - check syslog for diagnostics.  </screen>
      </sect2>
      <sect2 id="dhcp-configuration" status="complete">
        <title>Konfiguration</title>
            <para>Felmeddelandet installationen avslutas med kan vara lite förvirrande, men följande steg hjälper dig att konfigurera tjänsten:</para>
            <para>Det vanligaste är att du vill dela ut IP-adresser slumvis. Det här går att göra med följande inställningar:</para>
            <screen>
# Sample /etc/dhcpd.conf
# (add your comments here) 
default-lease-time 600;
max-lease-time 7200;
option subnet-mask 255.255.255.0;
option broadcast-address 192.168.1.255;
option routers 192.168.1.254;
option domain-name-servers 192.168.1.1, 192.168.1.2;
option domain-name "mindomän.org";

subnet 192.168.1.0 netmask 255.255.255.0 {
range 192.168.1.10 192.168.1.100;
range 192.168.1.150 192.168.1.200;
} </screen>
            <para>Det här kommer att resultera i att DHCP-servern delar ut IP-adresser i områdena 192.168.1.10-192.168.1.100 och 192.168.1.150-192.168.1.200. Det kommer att dela ut en IP-adress i 600 sekunder om klienten inte ber om en speciell tid. I annat fall kommer den maximala (tillåtna) lånetiden att vara 7200 sekunder. Servern kommer också att "råda" klienten att använda 255.255.255.0 som sin subnet-mask, 192.168.1.255 som sin broadcast-adress, 192.168.1.254 som router/gateway och 192.168.1.1 och 192.168.1.2 som sina DNS-servrar.</para>
            <para>Om du behöver specificera en WINS-server för dina Windowsklienter behöver du inkludera alternativet netbios-name-servers, till exempel</para>
            <screen>
option netbios-name-servers 192.168.1.1; </screen>
            <para>Dhcpd-konfigurationen är kopierad från DHCP mini-HOWTO:n som du hittar <ulink url="http://www.tldp.org/HOWTO/DHCP/index.html">här</ulink>.</para>
      </sect2>
      <sect2 id="dhcp-references" status="complete">
        <title>Referenser</title>
          <para>
            <ulink url="http://www.dhcp-handbook.com/dhcp_faq.html">DHCP FAQ</ulink>
          </para>
      </sect2>
    </sect1>
	<sect1 id="dns" status="complete">
		<title>Domain Name Service (DNS)</title>
            <para>Domain Name Service (DNS) är en internettjänst som sammanlänkar IP-adresser och domännamn till varandra. På det sättet gör DNS att man inte behöver memorera IP-adresser. Datorer som kör DNS kallas <emphasis>namnservrar</emphasis>. Ubuntu inkluderar <application>BIND</application> (Berkley Internet Naming Daemon), det vanligaste programmet för att upprätthålla en namnserver i GNU/Linux.</para>
            <!-- things to do: IPv6-->
      <sect2 id="dns-installation" status="complete">
        <title>Installation</title>
          <para>Vid en terminalpromt, skriv följande kommand för att installera <application>dns</application>:</para>
          <para>
<screen>
<command>sudo apt-get install bind</command>
</screen>
          </para>
      </sect2>
      <sect2 id="dns-configuration" status="complete">
        <title>Konfiguration</title>
          <para>Konfigurationsfilerna för DNS lagras i katalogen <filename>/etc/bind</filename>. Den viktigaste konfigurationsfilen är <filename>/etc/bind/named.conf</filename>. Innehållet i standardfilen visas nedan:</para>

          <para>
<programlisting>
// This is the primary configuration file for the BIND DNS server named.
//
// Please read /usr/share/doc/bind/README.Debian for information on the 
// structure of BIND configuration files in Debian for BIND versions 8.2.1 
// and later, *BEFORE* you customize this configuration file.
//

include "/etc/bind/named.conf.options";

// reduce log verbosity on issues outside our control
logging {
	category lame-servers { null; };
	category cname { null; };
};

// prime the server with knowledge of the root servers
zone "." {
        type hint;
        file "/etc/bind/db.root";
};

// be authoritative for the localhost forward and reverse zones, and for
// broadcast zones as per RFC 1912

zone "localhost" {
        type master;
        file "/etc/bind/db.local";
};

zone "127.in-addr.arpa" {
        type master;
        file "/etc/bind/db.127";
};

zone "0.in-addr.arpa" {
        type master;
        file "/etc/bind/db.0";
};

zone "255.in-addr.arpa" {
        type master;
        file "/etc/bind/db.255";
};

// add local zone definitions here
include "/etc/bind/named.conf.local";
</programlisting>
          </para>

          <para>Raden <application>include</application> specificerar ett filnamn som innehåller DNS-alternativ. Raden <application>directory</application> i alternativ-filen berättar för DNS var det ska titta efter filer. Alla filer BIND använder kommer att utgå från den här katalogen.</para>

          <para>Filen som heter <filename>/etc/bind/db.root</filename> beskriver root-namnservrarna i världen. De här servrarna byts ut ibland och måste underhållas då och då.</para>

          <para>Avdelningen <application>zone</application> definierar en master-server, och lagras i filen som står i file-alternativet. Varje zon innehåller 3 så kallade "resource records" (RRs): en SOA RR, en NS RR och en PTR RR. SOA står för "Start of Authority". "@" är ett specialtecken som innebär ursprunget. NS står för "Name Server RR". PTR står för "Domain Name Pointer". För att starta DNS-servern, kör följande kommando från en terminalprompt:</para>
           <para>
<screen>
<command>sudo /etc/init.d/bind start</command>
</screen>
           </para>
          <para>Du kan läsa dokumentationen som står med i referensavdelningen för fler detaljer.</para>
      </sect2>
      <sect2 id="dns-references" status="complete">
        <title>Referenser</title>
          <para>
            <ulink url="http://www.tldp.org/HOWTO/DNS-HOWTO.html">DNS-guide</ulink>
          </para>
      </sect2>
    </sect1>
	<sect1 id="cups" status="complete">
		<title>CUPS - Skrivarserver</title>
          <para>Den viktigaste mekanismen för skrivare och skrivartjänster i Ubuntu är <emphasis role="bold">Common UNIX Printing System</emphasis> (CUPS). Det här skrivarsystemet är ett fritt tillgängligt, portabelt utskriftslager som har blivit den nya standarden för utskrifter i de flesta GNU/Linux-distributioner.</para>
          <para>CUPS hanterar utskriftsjobb och utskriftsköer och erbjuder nätverksutskrifter med hjälp av standardprotokollet Internet Printing Protocol (IPP), samtidigt som det ger dig stöd för ett väldigt stort antal skrivare, från matris till laser och många därimellan. CUPS stödjer även PostScript Printer Description (PPD) och automatisk detektering av nätverksskrivare, och har ett enkelt webbaserat konfigurations- och administrationsverktyg.</para>
      <sect2 id="cups-installation" status="complete">
        <title>Installation</title>
          <para>För att installera CUPS till din Ubuntudator, använd helt enkelt <application>sudo</application> med kommandot <application>apt-get</application> och skicka med paketet du vill installera som första parameter. En komplett CUPS-installation har många paketberoenden, men de går alla att skriva på samma kommandorad. Skriv följande vid en terminalprompt för att installera CUPS:</para>
          <para>
<screen>
<command>sudo apt-get install cupsys cupsys-client</command>
</screen>
          </para>
          <para>När du har autentiserat dig med ditt lösenord bör paketen laddas ner och installeras utan några felmeddelanden. När installationen avslutas kommer CUPS-servern att startas automatiskt. Om du vill felsöka kan du komma åt CUPS-serverns felmeddelanden via loggfilen för fel: <filename>/var/log/cups/error_log</filename>. Om felmeddelandet inte visar tillräckligt med information för att felsöka problemet du stöte på kan du justera hur mycket CUPS ska loga genom att ändra på parametern <emphasis role="bold">LogLevel</emphasis> i konfigurationsfilen (diskuteras nedan) till "debug" eller till och med "debug2" från standardvärdet "info", vilket kommer att logga allt. Om du gör den här ändringen, kom ihåg att ändra tillbaka den när du har löst problemet för att undvika att loggfilen blir onödigt stor.</para>
      </sect2>
      <sect2 id="cups-configuration" status="complete">
        <title>Konfiguration</title>
          <para>CUPS-serverns beteende konfigureras genom parametrarna i filen <filename>/etc/cups/cupsd.conf</filename>. CUPS konfigurationsfil följer samma syntax som HTTP-servern Apaches huvudsakliga konfigurationsfil, så de som är vana vid att ändra i Apaches konfiguration bör känna sig hemma när de ändrar i CUPS konfigurationsfil. Här följer några exempel på inställningar du kan vilja ändra.</para>
          <tip>
               <para>Innan du ändrar på konfigurationsfilen bör du göra en kopia av originalfilen och göra den skrivskyddad, så att du har kvar originalinställningarna som en referens, och så att du kan återanvända dem om det skulle krävas.</para>
               <para>Kopiera filen <filename>/etc/cups/cupsd.conf</filename> och gör den skrivskyddad med följande kommandon som du skriver vid en terminalprompt:</para>
               </tip>
               <para>
<screen>
<command>sudo cp /etc/cups/cupsd.conf /etc/cups/cupsd.conf.original</command>
<command>sudo chmod a-w /etc/cups/cupsd.conf.original</command>
</screen>
               </para>
          <itemizedlist>
                <listitem>
                <para><emphasis role="bold">ServerAdmin</emphasis>: För att konfigurera vilken e-postadress administratören för CUPS-servern har, ändra konfigurationsfilen <filename>/etc/cups/cupsd.conf</filename> med den textredigerare du tycker bäst om, och ändra på raden <emphasis role="italics">ServerAdmin</emphasis> till det du vill ska stå där. Om du skulle vara administratör för CUPS-servern, och din e-postadress är 'bjoy@somebigco.com' skulle du skriva om ServerAdmin-raden så att den ser ut såhär:</para>
                <para>
<screen>
ServerAdmin bjoy@somebigco.com
</screen>
                </para>
                </listitem>
          </itemizedlist>
                <para>För fler exempel på konfigurationsmöjligheter i CUPS-serverns konfigurationsfil kan du läsa manualsidan för filen genom att skriva följande kommando vid en terminalprompt:</para>
               <para>
<screen>
<command>man cupsd.conf</command>
</screen>
               </para>
                               <note>
                <para>När du gör ändringar i konfigurationsfilen <filename>/etc/cups/cupsd.conf</filename> måste du starta om CUPS-servern genom att skriva följande kommando vid en terminalprompt:</para>
                </note>
                <para>
<screen>
<command>sudo /etc/init.d/cupsys restart</command>
</screen>
                </para>
	<para>Viss annan konfiguration för CUPS-servern görs i filen <filename>/etc/cups/cups.d/ports.conf</filename>:</para>
          <itemizedlist>
                <listitem>
                <para><emphasis role="bold">Listen</emphasis>: Normalt i Ubuntusystem lyssnar CUPS-servern bara på loopback-gränssnittet på IP-adressen emphasis&gt;127.0.0.1</para>
                <para>
<screen>
Listen 127.0.0.1:631 # existing loopback Listen
Listen /var/run/cups/cups.sock # existing socket Listen
Listen 192.168.10.250:631 # Listen on the LAN interface, Port 631 (IPP)
</screen>
                </para>
                <para>I ovastående exempel vill du kanske kommentera ut eller ta bort raden för loopback-adressen (127.0.0.1) om du inte vill att <application>cupsd</application> ska lyssna på det gränssnittet, utan bara på ethernet-gränssnitt på det lokala nätverket (LAN). För att göra så att CUPS-servern lyssnar på alla nätverksgränssnitt som ett specifikt värddatornamn är bundet till, inklusive loopback, skulle du skriva en Listen-rad med det datornamnet (i det här exemplet använder vi <emphasis>socrates</emphasis>) så här:</para>
                <para>
<screen>
Listen socrates:631 # Listen on all interfaces for the hostname 'socrates'
</screen>
                </para> 
				<para>eller genom att ta bort alla Listen-rader och istället använda <emphasis>Port</emphasis>, såhär:</para>
<para>
<screen>
Port 631 # Listen on port 631 on all interfaces
</screen>
</para>
                </listitem>
	</itemizedlist>

      </sect2>
      <sect2 id="cups-references" status="complete">
        <title>Referenser</title>
        <para>
        <ulink url="http://www.cups.org/">CUPS hemsida</ulink>
        </para>
        </sect2>
    </sect1>
	<sect1 id="httpd" status="complete">
		<title>HTTPD - Webbservern Apache2</title>
      <para>Apache är den vanligaste webbservern i GNU/Linux-system. Webbservrar används för att skicka webbsidor till de klienter som efterfrågar dem. Klienter skickar oftast förfrågningar och visar webbsidor med webblädrare som <application>Firefox</application>, <application>Opera</application> eller <application>Mozilla</application>.</para>
      <para>Användare skriver in en adress (Uniform Resource Locator, URL) för att peka på en webbserver med dess domännamn (Fully Qualified Domain Name, FQDN) och en sökväg till den önskade resursen. Till exempel, för att visa startsidan för <ulink url="http://www.ubuntu.com">Ubuntus hemsida</ulink> skriver användaren bara in FQDN-adressen. För att få specifik information om <ulink url="http://www.ubuntu.com/support/supportoptions/paidsupport">betalsupport</ulink> skriver användaren in FQDN-adressen följt av en sökväg.</para>
      <para>Det vanligaste protokollet för att överföra webbsidar är Hyper Text Transfer Protocol (HTTP). Andra protokoll som Hyper Text Transfer Protocol over Secure Sockets Layer (HTTPS) och File Transfer Protocol (FTP), ett protokoll för att ladda upp och ner filer, stödjs också.</para>
      <para>Apachewebbservrar används ofta tillsammans med databasen <application>MySQL</application>, skriptspråket HyperText Preprocessor (<application>PHP</application>) och andra populära skriptspråk som application&gt;Python</para>
<sect2 id="http-installation" status="complete">
  <title>Installation</title>
                  <para>Webbservern Apache2 finns tillgänglig i Ubuntu Linux. För att installera Apache2:</para>
          <procedure><step>
                	  <para>Vid en terminalprompt, skriv följande kommando: <screen>
<command>sudo apt-get install apache2</command>
</screen></para>
			</step>
	    </procedure>
      </sect2>
      <sect2 id="http-configuration" status="complete">
        <title>Konfiguration</title>
          <para>Apache konfigureras genom att man skriver <emphasis>direktiv</emphasis> i vanliga textfiler. Huvudkonfigurationsfilen heter <filename>apache2.conf</filename>. Det går dessutom att lägga till fler konfigurationsfiler med direktivet <emphasis>Include</emphasis>, och jokertecken går att använda för att lägga till många konfigurationstecken. Alla direktiv går att placera i vilken konfigurationsfil som hellst. Ändringar i huvudkonfigurationsfiler upptäcks inte av Apache2 förrän det startas eller startas om.</para>

          <para>Servern läser också en fil som innehåller mimtyper för dokument; filnamnen sätts med direktivet <emphasis>TypesConfig</emphasis> är normalt <filename>mime.types</filename>.</para>

          <para>Standardkonfigurationsfilen för Apache2 är <filename>/etc/apache2/apache2.conf</filename>. Du kan ändra på den här filen för att konfigurera Apache2-servern. Du kan ställa in portnummret, dokumentroot, moduler, loggfiler, virtuella värdnamn, mm.</para>
        <sect3 id="http-basic-settings" status="complete">
          <title>Grundläggande inställningar</title>
            <para>Den här avdelningen förklarar Apache2-serverns viktigaste konfigurationsparametrar. Läs <ulink url="http://httpd.apache.org/docs/2.0/">Apache2:s dokumentation</ulink> för fler detaljer.</para>

             <itemizedlist>

             <listitem><para>Med Apache2 följer en standardkonfiguration som är väldigt smidig för virtuella värdnamn. Från början finns det ett enda virtuellt standardvärdnamn (använder direktivet <emphasis>VirtualHost</emphasis>) som kan modifieras eller användas som det är om du bara har en enda webbplats, eller användas som en mall för ytterligare virtuella värdnamn om du har flera webbplatser. Om du lämnar det ifred kommer det virtuella standardvärdnamnet att vara din standardsida, det vill säga den sidan användare kommer att se om de skriver in en URL som inte matchar något <emphasis>ServerName</emphasis>-direktiv i någon av dina andra webbplatser. För att ändra på det virtuella standardvärdnamnet, ändra på filen <filename>/etc/apache2/sites-available/default</filename>. Om du vill konfigurera ett nytt virtuellt värdnamn kan du kopiera den filen till samma katalog med valfritt namn. Till exempel: <command>sudo cp /etc/apache2/sites-available/default /etc/apache2/sites-available/min_nya_webbplats</command> Ändra på den nya filen för att ställa in den nya webbplatsen med några av de direktiv som beskrivs nedan.</para></listitem>

             <listitem><para>Direktivet <emphasis>ServerAdmin</emphasis> specificerar administratörens e-postadress. Standardvärdet är webmaster@localhost. Du bör ändra det till en adress du faktiskt har tillgång till (om du är serveradministratören) Om din webbsida har ett problem kommer Apache2 att visa ett felmeddelande som innehåller den här e-postadressen för att rapportera felet till. Du hittar det här direktivet i din webbplats konfigurationsfil i /etc/apache2/sites-available.</para></listitem>

             <listitem><para>Direktivet <emphasis>Listen</emphasis> berättar vilken port, och eventuellt också IP-adress, som Apache2 ska lyssna på. Om ingen IP-adress väljs kommer Apache2 att lyssna på alla IP-adresser som tillhör datorn det ligger i. Standardvärdet för Listen är 80. Ändra det här till 127.0.0.1:80 för att få Apache2 att enbart lyssna på loopback-gränssnittet så att det inte är tillgänglig för internet, till (till exempel) 81 för att ändra porten som det lyssnar på, eller lämna det som det är för att det ska bete sig normalt. Det här direktivet hittar du och kan ställa in i en egen fil, <filename>/etc/apache2/ports.conf</filename></para></listitem>

			 <listitem><para>Direktivet <emphasis>ServerName</emphasis> är valfritt och bestämmer vilken FQDN din webbplats ska svara till. Den virtuella värd som medföljer har inget ServerName specificerat, så den kommer svara till alla förfrågningar som inte matchar någon annan virtuell värds ServerName. Om du just köpte domännamnet ubunturocks.com och vill använda det på din Ubuntu-server skriver du in värdet ubunturocks.com till direktivet ServerName. Lägg det här direktivet till den nya virtuella värdfilen du skapade innan (<filename>/etc/apache2/sites-available/min_nya_webbplats</filename>). <tip><para>Du kanske också vill att din webbplats ska lyssna på www.ubunturocks.com, eftersom många användare kommer att anta att de behöver skriva www. Använd <emphasis>ServerAlias</emphasis> för det här. Du kan också använda jokertecken i ServerAlias-direktivet. Till exempel kommer <command>ServerAlias *.ubunturocks.com</command> att få din webbplats att lyssna på alla domänförfrågningar som slutar med .ubunturocks.com.</para></tip></para></listitem>

			 <listitem><para>Direktivet <emphasis>DocumentRoot</emphasis> bestämmer var Apache ska titta efter de filer webbplatsen består av. Standardvärdet är /var/www. Ingen webbplats är konfigurerad där, men om du avkommenterar direktivet <emphasis>RedirectMatch</emphasis> i <filename>/etc/apache2/apache2.conf</filename> så kommer alla förfrågningar att vidarebefodras till /var/www/apache2-default där Apache2:s standardwebbplats väntar. Ändra det här värdet i din webbplats virtuella värdfil och kom ihåg att skapa katalogen i fråga om det behövs!</para></listitem>
            </itemizedlist>

			<tip><para>Katalogen /etc/apache2/sites-available kommer <emphasis role="bold"> inte</emphasis> att läsas in av Apache2. Symboliska länkar i /etc/apache2/sites-enabled pekar till "tillgängliga" webbplatser. Använd verktyget a2ensite (Apache2 Enable Site) för att skapa dessa symboliska länkar såhär: <command>sudo a2ensite min_nya_webbplats</command>. På samma sätt kan du använda a2dissite för att inaktivera webbplatser.</para></tip>

        </sect3>
        <sect3 id="default-settings" status="complete">
          <title>Standardinställningar</title>
            <para>Den här avdelningen förklarar konfigurationen av Apache2:s serverinställningar. Till exempel, om du lägger till en virtuell värd kommer inställningarna du konfigurerar att prioriteras över standardinställningarna för den virtuella värden. För de direktiv som inte specificeras i inställningarna för den virtuella värden kommer standardvärdet att användas.</para>

            <itemizedlist>
            <listitem>
            <para><emphasis>DirectoryIndex</emphasis> är standardsidan som servern skickar när en användare ber om ett index för en katalog genom att lägga till ett snedsträck (/) på slutet av katalognamnet.</para>

             <para>När användaren till exempel frågar om sidan http://www.exempel.com/den_har_katalogen/ kommer han eller hon få DirectoryIndex-sidan om den finns, en server-genererad innehållslista om den inte finns och Indexes-alternativet är specificerat, eller en "Permission Denied"-sida om varken eller är sant. Servern kommer att försöka tills den hittar en av de filerna som finns uppradade i DirectoryIndex-direktivet och kommer att returnera den första den hittar. Om den inte hittar någon av dessa filer och om Options Indexes är på för den katalogen kommer servern att returnera en lista i HTML-format över underkatalogerna och filerna i den katalogen. Standardvärdet, som du hittar i <filename>/etc/apache2/apache2.conf</filename>, är "index.html index.cgi index.pl index.php index.xhtml". Med andra ord kommer Apache2 att visa den första filen som matchar något av dessa namn som finns i den efterfrågade katalogen.</para>
            </listitem>

            <listitem>
            <para>Direktivet <emphasis>ErrorDocument</emphasis> låter dig specificera en fil åt Apache för att använda vid vissa felhändelser. Till exempel, om användaren efterfrågar en resurs som inte finns kommer ett 404-fel att uppstå, och enligt Apache2:s standardkonfiguration kommer filen <filename>/usr/share/apache2/error/HTTP_NOT_FOUND.html.var </filename> att visas. Den filen ligger inte i serverns DocumentRoot, men det finns ett Alias-direktiv i <filename>/etc/apache2/apache2.conf</filename> som vidarebefodrar förfrågningar till katalogen /error till /usr/share/apache2/error/. För att se en lista över standarddirektiven för ErrorDocument, använd det här kommandot: <command>grep ErrorDocument /etc/apache2/apache2.conf</command></para>
            </listitem>


            <listitem>
            <para>Servern loggar normalt alla  överföringar till filen /var/log/apache2/access.log. Du kan ändra det här för varje webbplats i dina konfigurationsfiler för virtuella värdar med direktivet <emphasis>CustomLog</emphasis>, eller hoppa över det för att acceptera standardvärdet som bestäms i <filename> /etc/apache2/apache2.conf</filename>. Du kan också välja vilken fil felmeddelanden ska loggas till med direktivet <emphasis>ErrorLog</emphasis>. Standardplatsen för felmeddelanden är <filename>/var/log/apache2/error.log</filename>. De här sparas separat från överföringsloggarna för att underlätta felsökning av din Apache2-server. Du kan också välja <emphasis>LogLevel</emphasis> (standardvärdet är "warn") och <emphasis>LogFormat</emphasis> (se <filename> /etc/apache2/apache2.conf</filename> för standardvärdet).</para>
            </listitem>

            <listitem>
            <para>Vissa alternativ specificeras för varje katalog och inte för hela servern. Option är ett av dessa direktiv. En katalogavdelning är insluten i XML-liknande taggar, såhär:
<screen><command>&lt;Directory /var/www/mynewsite&gt;
				...
			&lt;/Directory&gt;</command></screen> Options-direktivet i en katalogavdelning accepterar en eller fler av följande värden (bland annat). De avgränsas med mellanslag:</para>
            <itemizedlist spacing="compact">
                <listitem>
                    <para><emphasis role="bold">ExecCGI</emphasis> - Tillåt att CGI-skript körs. CGI-skript körs inte om inte det inte skrivs. <tip><para>De flesta filerna bör inte exekveras som CGI-skript. Det skulle vara väldigt farligt. CGI-skript bör ligga i en egen katalog som är skild från, och utanför, din DocumentRoot, och bara den här katalogen ska ha ExecCGI-alternativet aktiverat. Såhär ser standardinställningen ut, och standardplatsen för CGI-skript är /usr/lib/cgi-bin.</para></tip></para>
                </listitem>
                <listitem>
                    <para><emphasis role="bold">Includes</emphasis> - Tillåt serverinkluderingar (SSI). Serverinkluderinger tillåter att en HTML-fil inkluderar andra filer. Det här är ganska ovanligt. Läs <ulink url="http://httpd.apache.org/docs/2.0/howto/ssi.html">Apache2:s SSI-HOWTO</ulink> för mer information.</para>
                </listitem>
                <listitem>
                    <para><emphasis role="bold">IncludesNOEXEC</emphasis> - Tillåter serverinkluderingar, men avaktiverar kommandona #exec och #include i CGI-skript.</para>
                </listitem>
                <listitem>
                    <para><emphasis role="bold">Indexes</emphasis> - Visa en formaterad lista över katalogens innehåll om ingen DirectoryIndex-fil (som till exempel index.html) finns i den efterfrågade katalogen. <caution><para>Av säkerhetsskäl är det här oftast inte aktiverat, och bör framförallt inte vara aktiverat i din DocumentRoot-katalog. Aktivera det här valet försiktigt, och bara för de kataloger där du vet att användarna vill se hela innehållet i katalogen.</para></caution></para>
                </listitem>
                <listitem>
                    <para><emphasis role="bold">Multiview</emphasis> - Stöd för "content-negotiated multiviews". Den här möjligheten är normalt avstängd av säkerhetsskäl. Läs <ulink url="http://httpd.apache.org/docs/2.0/mod/mod_negotiation.html#multiviews">Apache2-dokumentationen om den här värdet</ulink>.</para>
                </listitem>
                <listitem>
                    <para><emphasis role="bold">SymLinksIfOwnerMatch</emphasis> -Följ bara symboliska länkar om målfilen eller -katalogen har samma ägare som länken.</para>
                </listitem>
            </itemizedlist>

            </listitem>
            </itemizedlist>
        </sect3>
        <sect3 id="virtual-hosts-settings" status="complete">

          <title>Inställningar för virtuella värdar</title>
            <para>Virtuella värdar låter dig köra flera servrar för olika IP-adresser, olika värdnamn, eller olika portar på samma dator. Till exempel kan du ha en webbplats för http://www.exempel.com och http://www.annatexempel.com på samma webbserver med virtuella värdar. Det här alternativet motsvarar direktivet &lt;VirtualHost&gt; för normala virtuella värdar och IP-baserade virtuella värdar. För namnbaserade virtuella värdar används istället &lt;NameVirtualHost&gt;</para>

			<para>De direktiv som skrivs inuti en virtuell värd gäller bara just den virtuella värden. Om ett direktiv sätts för hela servern men inte i inställningarna för den virtuella värden kommer standardinställningen att användas. Till exempel kan du definiera en e-postadress för webbmastern så att du slipper definiera individuella e-postadresser för varje virtuell värd.</para>
 
 			<para>Sätt direktivet DocumentRoot till katalogen som innehåller huvuddokumentet för den virtuella värden (t ex index.html). Standardvärdet för det är <filename>/var/www</filename>.</para>

			<para>Direktivet ServerAdmin inuti konfigurationen för VirtualHost är e-postadressen som används i sidfoten på felmeddelandena om du väljer att e-postadressen ska visas i sidfoten på felmeddelandena.</para>

        </sect3>
        <sect3 id="server-settings" status="complete">
          <title>Serverinställningar</title>
            <para>Den här avdelningen förklarar hur du konfigurerar grundläggande serverinställningar.</para>
                    <para><emphasis role="bold">LockFile</emphasis> - Direktivet LockFile ställer in sökvägen till låsfilen som används om servern är kompilerad med antingen USE_FCNTL_SERIALIZED_ACCEPT eller USE_FLOCK_SERIALIZED_ACCEPT. Det måste vara på en lokal hårddisk. Det bör inte ändras från standardvärdet om inte loggfilerna ligger på en NFS-utdelning. Om så är fallet bör standardvärdet ändras till en plats på den lokala hårddisken och till en katalog som bara root får läsa.</para>

					<para><emphasis role="bold">PidFile</emphasis> - Direktivet PidFile ställer in filen som servern sparar sin process-ID (pid) till. Den här filen bör ingen annan än root kunna läsa. I de flesta fallen bör det här inte ändras från standardvärdet.</para>

<para><emphasis role="bold">User</emphasis> - Direktivet User ställer in vilket användar-ID servern använder när den svarar på förfrågningar. Den här inställningen ställer in vilka rättigheter servern har. Alla filer den här användaren inte kommer åt kommer inte webbplatsens besökare komma åt. Standardvärdet för User är www-data.</para>
            <warning>
            <para>Om du inte vet exakt vad du gör bör du inte sätta direktivet User till root. Att köra webbservern som root kommer att skapa stora säkerhetshål i din webbserver.</para>
            </warning>
 <para>Direktivet Group är likt User. Group ställer in vilken grupp webbservern körs som. Standardgruppen är också www-data.</para>

        </sect3>
        <sect3 id="apache-modules" status="complete">
          <title>Apachemoduler</title>
              <para>Apache är en modulär server. Det medför att bara den mest grundläggande funktionaliteten följer med standardservern. Ytterligare funktioner finns tillgängliga med moduler som kan laddas in i Apache. Normalt kompileras en mindre uppsättning moduler in i servern. Om servern är kompilerad för att använda dynamiskt laddade moduler kan moduler kompileras separat och läggas till när som hellst till direktivet LoadModule. Om inte, så måste Apache kompileras om för att lägga till eller ta bort moduler. Ubuntu kompilerar Apache2 för att tillåta att moduler laddas dynamiskt. Konfigurationsdirektiv går att lägga till för en speciell modul genom att lägga in dessa i ett &lt;IfModule&gt;-block. Du kan installera extra Apache2-moduler och använda dessa med din webbserver. Du kan installera Apache2-moduler med kommandot <application>apt-get</application>. Till exempel kör du följande kommando i en terminalprompt för att installera Apache2-modulen för MYSQL-autentisering:</para>
                
                <para>
<screen>
<command>sudo apt-get install libapache2-mod-auth-mysql</command>
</screen>
                </para>
                <para>När du installerar modulen blir den tillgänglig i katalogen <filename>/etc/apache2/mods-available</filename>. Du kan använda kommandot <application>a2enmod</application> för att aktivera en modul. Du kan använda kommandot <application>a2dismod</application> för att avaktivera en modul. När du har aktiverat modulen blir den tillgänglig i katalogen <filename>/etc/apache2/mods-enabled</filename>.</para>
        </sect3>
      </sect2>
      <sect2 id="https-configuration" status="complete">
        <title>Konfiguration av HTTPS</title>
          <para>Modulen <application>mod_ssl</application> lägger till en viktig funktion till Apache2-servern - möjligheten att kryptera kommunikation. När din webbläddrare använder SSL-kryptering används prefixet https:// i början av URL:en i webbläddrarens navigationsrad.</para>

          <para>Modulen <application>mod_ssl</application> finns i paketet <application>apache2-common</application>. Om du har installerat det paketet kan du köra följande kommando i en terminalprompt för att aktivera modulen <application>mod_ssl</application>:</para>

          <para>
<screen>
<command>sudo a2enmod ssl</command>
</screen>
          </para>
        <sect3 id="certificates-and-security" status="complete">
          <title>Certifikat och säkerhet</title>
            <para>För att göra din webbserver säker bör du använda ett nyckelpar med en publik och en privat nyckel för kryptering. I de flesta fallen skickar du ditt certifikat (tillsammans med din publika nyckel), bevis på att ditt företag är det det är, och en betalning till en Certificate Authority (CA). CA:n bekräftar förfrågningen om certifikatet och din identitet, och skickar sedan tillbaka ett certifikat för din säkra server.</para>
             <para>Du kan även använda ett certifikat du har signerat själv. Notera dock att självsignerade certifikat inte bör användas i produktionsmiljöer. Självsignerade certifikat accepteras inte automatiskt av din användares webbläsare. Användare får en fråga av webbläddraren om de vill acceptera certifikatet och skapa den säkra anslutningen.</para>

             <para>När du har ett självsignerat certifikat eller ett signerat certifikat från den CA du väljer måste du installera det på din säkra server.</para>
        </sect3>
        <sect3 id="types-of-certificates" status="complete">
          <title>Typer av certifikat</title>
            <para>Du behöver en nyckel och ett certifikat för att sköta din säkra server, vilket innebär att du antingen genererar ett självsignerat certifikat eller köper ett CA-signerat certifikat. Ett CA-signerat certifikat ger två viktiga möjligheter för din server:</para>

            <itemizedlist>
            <listitem>
            <para>Webbläddrare känner (oftast) automatiskt igen certifikatet och tillåter en säker anslutning utan att först fråga användaren.</para>
            </listitem>
            <listitem>
            <para>När en CA ger ut ett signerat certifikat garanterar den identiteten på organisationen som ger webbsidor till webbläddraren.</para>
            </listitem>
            </itemizedlist>

            <para>De flesta webbläddrare som stödjer SSL har en lista över de CA:er vars certifikat de automatiskt accepterar. Om en webbläddrare stöter på ett certifikat som signerats av en CA som inte står med i listan frågar webbläddraren användaren om den vill acceptera eller neka anslutningen.</para>
            <para>Du kan skapa ett självsignerat certifikat för din säkra server, men tänk på att ett självsignerat certifikat inte ger dig samma funktionalitet som ett CA-signerat certifikat. Ett självsignerat certifikat ger inga garantier om identiteten på organisationen som tillhandahåller webbplatsen. Ett CA-signerat certifikat erbjuder båda dessa viktiga möjligheterna för en säker server. Processen för att få ett certifikat från en CA är ganska enkel. En snabb överblick ser ut såhär:</para>

            <orderedlist>
            <listitem>
               <para>Skapa ett krypteringsnyckelpar bestående av en privat och en publik nyckel.</para>
            </listitem>
            <listitem>
                 <para>Skicka en förfrågan om ett certifikat baserat på den publika nyckeln. Certifikatet innehåller information om din server och företaget som äger den.</para>
            </listitem>
            <listitem>
                 <para>Skicka certifikatförfrågan, tillsammans med dokument som bevisar din identitet, till en CA. Vi kan inte berätta vilken CA du ska välja. Ditt beslut kan vara baserat på tidigare erfarenheter, vad dina vänner eller kollegor har erfarit, eller helt enkelt på monetära faktorer.</para>

                    <para>När du har bestämt dig för vilken CA du vill använda måste du följa instruktionerna de har för hur du får ett certifikat från dem.</para>
            </listitem>
            <listitem>
               <para>När din CA anser att du har bevisat att du är den du påstår dig vara skickar de dig ett digitalt certifikat.</para>
            </listitem>
            <listitem>
               <para>Installera det här certifikatet på din säkra server, och aktivera säkra överföringar.</para>
            </listitem>
            </orderedlist>

            <para>Oavsett om du vill skaffa dig ett certifikat från en CA eller skapa ditt eget självsignerade certifikat är det första steget att skapa en nyckel.</para>
        </sect3>
        <sect3 id="generating-a-csr" status="complete">
          <title>Skapa ett Certificate Signing Request (CSR)</title>
            <para>För att skapa ett Certificate Signing Request (CSR) bör du först skaffa dig en egen nyckel. Du kan köra följande kommando i en terminalprompt för att skapa nyckeln:</para>

            <para>
<screen>
<command>openssl genrsa -des3 -out server.key 1024</command>
</screen>
            </para>
<programlisting>
Generating RSA private key, 1024 bit long modulus
.....................++++++
.................++++++
unable to write 'random state'
e is 65537 (0x10001)
Enter pass phrase for server.key:
</programlisting>

        <para>Du kan nu skriva in ditt lösenord. För bästa säkerhet bör det vara minst åtta tecken. Minimilängden när man skriver -des3 är fyra tecken. Det bör innehålla siffror och/eller skiljetecken och inte vara ett ord från en ordbok. Kom också ihåg att lösenordet är skiftlägeskänsligt.</para>

        <para>Skriv in lösenordet igen för att verifiera det. När du har skrivit in samma lösenord två gånger genereras servernyckeln och sparas i filen <filename>server.key</filename>.</para>

        <warning>
        <para>Du kan också köra din säkra webbserver utan någon lösenordsfras. Det här är smidigt eftersom du inte behöver skriva in lösenordet varje gång du startar din säkra webbserver. Men det är högst osäkert och om någon kommer över din nyckel innebär det att de även kommer åt servern.</para>
        </warning>

        <para>I vilket fall kan du välja att köra din webbserver utan lösenordsfras genom att inte skriva -des3 när du skapar nyckeln eller genom att skriva följande kommando i en terminalprompt:</para>

        <para>
<screen>
<command>openssl rsa -in server.key -out server.key.insecure</command>
</screen>
        </para>
        <para>När du har kört kommandot ovan kommer den osäkra nyckeln att sparas i filen <filename>server.key.insecure</filename>. Du kan använda den här filen för att skapa ditt CSR utan lösenordsfras.</para>

        <para>För att skapa ditt CSR, kör följande kommando vid en terminalprompt:</para>

        <para>
<screen>
<command>openssl req -new -key server.key -out server.csr</command>
</screen>
        </para>

        <para>Det kommer att fråga dig om lösenordet. Om du skriver in rätt lösenord kommer det att fråga dig om företagsnamn, webbplatsnamn, e-post, mm. När du har skrivit in alla uppgifterna kommer ett CSR att skapas och lagras i filen <filename>server.csr</filename>. Du kan skicka in den här CSR-filen till en CA för att behandling. CA:t kommer att använda den här CSR-filen och utfärda certifikatet. Du kan också skapa ett egensignerat certifikat med den här CSR-filen.</para>

        </sect3>
        <sect3 id="creating-a-self-signed-certificate" status="complete">
          <title>Skapa ett självsignerat certifikat</title>
            <para>För att skapa ett självsignerat certifikat, kör följande kommando i en terminalprompt:</para>

            <para>
<screen>
<command>openssl x509 -req -days 365 -in server.csr -signkey server.key -out server.crt</command>
</screen>
            </para>

            <para>Ovastående kommando kommer att be dig skriva in lösenordet. När du har skrivit in rätt lösenordsfras kommer ditt certifikat att skapas och det kommer att lagras i filen <filename>server.crt</filename>.</para>
        <warning>
        <para>Om din säkra server används i en produktionsmiljö behöver du troligen ett CA-signerat certifikat. Det är inte rekomenderat att använda självsignerade certifikat.</para>
        </warning>
        </sect3>
        <sect3 id="installing-the-certificate" status="complete">
          <title>Installera certifikatet</title>

            <para>Du kan installera nyckelfilen <filename>server.key</filename> och certifikatfilen <filename>server.crt</filename> eller den certifikatsfil din CA har gett dig genom att köra följande kommandon vid en terminalprompt:</para>
            <para>
<screen>
<command>sudo cp server.crt /etc/ssl/certs</command>
<command>sudo cp server.key /etc/ssl/private</command>
</screen>
            </para>
            <para>Du bör lägga til följande fyra rader till filen <filename>/etc/apache2/sites-available/default</filename> eller konfigurationsfilen för din säkra virtuella värd. Du bör lägga dem i avdelningen <emphasis>VirtualHost</emphasis>. De bör lägas under raden <emphasis>DocumentRoot</emphasis>:</para>
<programlisting>
SSLEngine on

SSLOptions +FakeBasicAuth +ExportCertData +CompatEnvVars +StrictRequire

SSLCertificateFile /etc/ssl/certs/server.crt
SSLCertificateKeyFile /etc/ssl/private/server.key
</programlisting>
          
            <para>HTTPS bör lyssna på port 443. Du bör lägga till följande rad till filen <filename>/etc/apache2/ports.conf</filename>:</para>
<programlisting>
Listen 443
</programlisting>

        </sect3>
        <sect3 id="accessing-the-server" status="complete">
          <title>Komma åt servern</title>
            <para>När du har installerat certifikatet måste du starta om din webbserver. Du kan köra följande kommando vid en terminalprompt för att starta om din webbserver:</para>
            <para>
<screen>            
<command>sudo /etc/init.d/apache2 restart</command>
</screen>
            </para>
        <note><para>Du måste komma ihåg  och skriva in lösenordet varje gång du startar din säkra webbserver.</para></note>

            <para>Du kommer att bli frågad om att skriva in lösenordet. När du skriver in rätt lösenord kommer webbservern att startas. Du kan komma åt den säkra servern genom att skriva https://ditt_värdnamn/url/ i din webbläddrares adressfält.</para>

        </sect3>
      </sect2>
      <sect2 id="http-references" status="complete">
        <title>Referenser</title>
          <para>
          <ulink url="http://httpd.apache.org/docs/2.0/">Apache2-dokumentation</ulink>
          </para>
          <para>
          <ulink url="http://www.modssl.org/docs/">Dokumentation för Mod SSL</ulink>
          </para>
      </sect2>
    </sect1>
	
	<sect1 id="squid" status="complete">
		<title>Squid - Proxyserver</title>
          <para>Squid är en webbproxy och -cache och de flesta funktioner man kan önska sig. Squid innehåller proxy och cache-tjänster för Hyper Text Transport Protocol (HTTP), File Transfer Protocol (FTP) och andra populära nätverksprotokoll. Squid kan ge cache- och proxyfunktioner av förfrågningar för Secure Sockets Layer (SSL) och cachefunktioner för domännamnsuppslagningar (DNS), och genomföra transparent cachening. Squid stöder också en stor mängd cacheprotokoll som Internet Cache Protocol (ICP), Hyper Text Caching Protocol (HTCP), Cache Array Routing Protocol (CARP) och Web Cache Coordination Protocol (WCCP).</para>
          <para>Proxy- och cacheservern Squid är en lysande lösning för en stor mängd proxy- och cachebehov, och går bra att använda i allt från en liten kontorskorridor till stora företagsnätverk samtidigt som det erbjuder utförlig, övergripande åtkomsthantering och övervakning av kritiska parametrar via Simple Network Management Protocol (SNMP). När du väljer en dator som ska användas som dedikerad Squidserver för proxy eller cache, se till att datorn har mycket fysiskt minne, eftersom Squid har cache i minnet för ökad prestanda.</para>
      <sect2 id="squid-installation" status="complete">
        <title>Installation</title>
          <para>Vid en terminalprompt skriver du följande kommando för att installera Squidservern:</para>
          <para>
<screen>
<command>sudo apt-get install squid squid-common</command>
</screen>
          </para>
      </sect2>
      <sect2 id="squid-configuration" status="complete">
        <title>Konfiguration</title>
          <para>Du konfigurerar Squid genom att ändra på direktiven i konfigurationsfilen <filename>/etc/squid/squid.conf</filename>. Följande exempel visar några av de direktiv som kan modifieras för att påverka beteendet på Squid-servern. För mer djupgående konfiguration av Squid, se referensavdelningen.</para>
             <tip>
               <para>Innan du ändrar på konfigurationsfilen bör du göra en kopia på originalfilen och göra den skrivskyddad så att du har kvar originalinställningarna som referens, eller för att återanvända om det skulle behövas.</para>
               <para>Kopiera filen <filename>/etc/squid/squid.conf</filename> och gör den skrivskyddad genom att skriva följande kommandon vid en terminalprompt:</para>
	     </tip>
               <para>
<screen>
<command>sudo cp /etc/squid/squid.conf /etc/squid/squid.conf.original</command>
<command>sudo chmod a-w /etc/squid/squid.conf.original</command>
</screen>
               </para> 
	        <para>
           <itemizedlist>
               <listitem>
                  <para>För att få din Squid-server att lyssna på TCP-porten 8888 istället för standardporten 3128, ändra på http_port-direktivet såhär:</para>
                  <para>http_port 8888</para>
               </listitem>
	            <listitem>
                  <para>Ändra på direktivet visible_hostname för att ge Squid-servern ett specifikt värdnamn. Det här värdnamnet behöver inte vara samma som din dators värdnamn. I det här fallet sätter vi det till <emphasis>weezie</emphasis></para>
                  <para>visible_hostname weezie</para>
               </listitem>
               <listitem>
                  <para>Du kan med Squids tillgångshantering konfigurera att de internettjänster som skickas genom Squid så att de bara är tillgängliga för användare med speciella IP-adresser. Här illustrerar vi det genom att bara ge användare från subnätverket 192.168.42.0/24 tillgång till Squid:</para>
                  <para>Lägg till följande längst <emphasis role="bold">ner</emphasis> i ACL-avdelningen i filen <filename>/etc/squid/squid.conf</filename>:</para>
                  <para>acl fortytwo_network src 192.168.42.0/24</para>
                  <para>Lägg sedan till följande längst <emphasis role="bold">upp</emphasis> i avdelningen http_access i filen <filename>/etc/squid/squid.conf</filename>:</para>
                  <para>http_access allow fortytwo_network</para>
               </listitem>
               <listitem>
                  <para>Med hjälp av de lysande tillgänglighetsfunktionerna i Squid kan du konfigurera det så att Internettjänster som går genom Squid bara går att komma åt under normala kontorstider. Om vi till exempel har en firma vars anställda jobbar mellan 9.00 och 17.00, måndag till fredag, och som använder subnätverket 10.1.42.0/42:</para>
                  <para>Lägg till följande längst <emphasis role="bold">ner</emphasis> i ACL-avdelningen i filen <filename>/etc/squid/squid.conf</filename>:</para>
                  <para>acl biz_network src 10.1.42.0/24 acl biz_hours time M T W T F 9:00-17:00</para>
                  <para>Lägg sedan till följande längst <emphasis role="bold">upp</emphasis> i avdelningen http_access i filen <filename>/etc/squid/squid.conf</filename>:</para>
                  <para>http_access allow biz_network biz_hours</para>
               </listitem>
          </itemizedlist>
          </para>
          <note>
	  <para>När du har gjort ändringar i filen <filename>/etc/squid/squid.conf</filename>, spara filen och starta om <application>squid</application> för att verkställa ändringarna genom att skriva följande kommando vid en terminalprompt:</para>
          </note>
          <para>
<screen>
<command>sudo /etc/init.d/squid restart</command>
</screen>
          </para>
      </sect2>
      <sect2 id="squid-references" status="complete">
      <title>Referenser</title>
      <para>
      <ulink url="http://www.squid-cache.org/">Squids webbsida</ulink>
      </para>
      </sect2>
    </sect1>
	<sect1 id="version-control-system" status="complete">
		<title>Versionshanteringssystem</title>
          <para>Versionshantering är konsten att hantera ändringar i information. Det har länge varit ett viktigt verktyg för programerare som vanligtvis använder sin tid till att göra små ändringar i program och sedan ångra dessa ändringar dagen efter. Men versionshanteringssystem är användbara långt utanför mjukvaruutvecklingsvärlden. Överallt där människor använder datorer till att hantera information som ändras ofta finns det utrymme för versionshantering.</para>
<para>
          </para>
      <sect2 id="subversion" status="complete">
        <title>Subversion</title>
          <para>Subversion är ett versionshanteringssystem som är öppen källkod. Med Subversion kan du spela in hur källkodsfiler och dokumentation ändras. Det hanterar filer och kataloger ändras över tid. Ett träd av filer placeras i ett centralt förråd. Förrådet fungerar ungefär som en vanlig filserver, med skillnaden att det kommer ihåg alla ändringar som någonsin gjorts i filerna eller katalogerna.</para>
        <sect3 id="subversion-installation" status="complete">
          <title>Installation</title>
            <para>För att komma åt ett Subversion-förråd över HTTP-protokollet måste du installera och konfigurera en webbserver. Apache2 fungerar väl med Subversion. Läs HTTP-underavdelningen i Apache2-avdelningen för att installera och konfigurera Apache2. För att komma åt Subversionförrådet med HTTPS-protokollet måste du installera och konfigurera ett digitalt certifikat till din webbserver. Läs HTTPS-underavdelningen av Apache2-avdelningen för att installera och konfigurera det digitala certifikatet.</para>
						<para>För att installera Subversion, kör följande kommando från en terminalprompt:</para>
	    <para>
<screen>
<command>sudo apt-get install subversion libapache2-svn</command>
</screen>
	    </para>

        </sect3>
        <sect3 id="subversion-configuration" status="complete">
          <title>Serverkonfiguration</title>
            <para>Det här steget förutsätter att du har installerat ovan nämnda paket på ditt system. Den här avdelningen förklarar hur du skapar ett Subversionförråd och hur du kommer åt projektet.</para>
			<sect4 id="create-svn-repos" status="complete">
				<title>Skapa Subversionförrådet</title>
<para>Subversionförrådet kan du skapa med följande kommando, som du skriver i en terminalprompt:</para>

        <para>
<screen>
<command>svnadmin create /sökväg/till/projektkatalogen</command>
</screen>
        </para>
			</sect4>

        </sect3>
        <sect3 id="access-methods" status="complete">
          <title>Åtkomstmetoder</title>
<para>Subversionförråd går att komma åt ("check out") på många sätt - på den lokala hårddisken eller över olika nätverksprotokoll. Förrådets plats är dock alltid en URL. Den här tabellen beskriver hur olika URL-scheman går att använda med de tillgängliga åtkomstmetoderna.</para>
				<table><title>Åtkomstmetoder</title>

					<tgroup cols="2">
						<colspec colname="1"/>
						<colspec colname="2"/>
						<thead>
							<row>
								<entry><para>Schema</para></entry>
								<entry><para>Åtkomstmetod</para></entry>
							</row>
						</thead>
						<tbody>
							<row>
								<entry><para>file://</para></entry>
								<entry><para>direkt förrådtillgång (på den lokala hårddisken)</para></entry>
							</row>
							<row>
								<entry><para>http://</para></entry>
								<entry><para>Kom åt det via WebDAV-protokollet från en Subversion-medveten Apache2-webbserver</para></entry>
							</row>
							<row>
								<entry><para>https://</para></entry>
								<entry><para>Som http://, men med SSL-kryptering</para></entry>
							</row>
							<row>
								<entry><para>svn://</para></entry>
								<entry><para>Kom åt det via ett specialprotokoll från en svnserve-server</para></entry>
							</row>
							<row>
								<entry><para>svn+ssh://</para></entry>
								<entry><para>Som svn://, men genom en SSH-tunnel</para></entry>
							</row>
						</tbody>
					</tgroup>
				</table>

				<para>I den här avdelningen ska vi konfigurera Subversion så att alla dessa åtkomstmetoder fungerar. Här kommer vi bara att gå igenom det grundläggande. För mer avancerad användning, läs <ulink url="http://svnbook.red-bean.com/">svn-boken</ulink>.</para>
			<sect4 id="direct-repos-access" status="complete">
				<title>Direkt förrådsåtkomst (file://)</title>
<para>Det här är det enklaste sättet att komma åt Subversion. Det kräver ingen att någon Subversionserver körs. Den här metoden används för att komma åt Subverson från samma dator. Syntaxet på kommandot, som du skriver i en terminalprompt, är som följer:</para>

        <para>
<screen>
<command>svn co file:///sökväg/till/projektkatalogen</command>
</screen>
        </para>
  <para>eller</para>
	<para>
<screen>
<command>svn co file://localhost/sökväg/till/projektkatalogen</command>
</screen>
        </para>
	<note>
		<para>Om du inte skriver något värddatornamn är det tre snedstreck (///) - två för protokollet (file, i det här fallet) och ett för början av sökvägen. Om du skriver ett värddatornamn måste du använda två snedstreck (//).</para>
	</note>
		<para>Förrådsrättigheterna beror på filsystemsrättigheterna. Om användaren har läs- och skrivrättigheter kan han komma åt filer från och lägga upp filer till förrådet.</para>
			</sect4>
			<sect4 id="access-via-webdav" status="complete">
				<title>Tillgång via WebDAV-protokollet (http://)</title>
<para>För att komma åt Subversionförråd via WebDAV-protokollet måste du konfigurera din Apache2-webbserver. Du måste lägga till följande rader till filen <filename>/etc/apache2/apache2.conf</filename>:</para>

	<programlisting> &lt;Location /svn&gt;
  DAV svn
  SVNPath /path/to/repos
  AuthType Basic
  AuthName "Your repository name"
  AuthUserFile /etc/subversion/passwd
  &lt;LimitExcept GET PROPFIND OPTIONS REPORT&gt;
  Require valid-user
  &lt;/LimitExcept&gt;
  &lt;/Location&gt; </programlisting>
  <para>När du har gjort det måste du skapa filen <filename>/etc/subversion/passwd</filename>. Den här filen innehåller användarautentiseringsdetaljer. För att lägga till en post, dvs lägga till en användare, kan du köra följande kommando i en terminalprompt:</para>
	<para>
<screen>
<command>htpasswd2 /etc/subversion/passwd användarnamn</command>
</screen>
        </para>
	<para>Det här kommandot kommer be dig skriva in ett lösenord. När du skrivit in lösenordet läggs användaren till. För att komma åt förrådet kör du nu följande kommando:</para>
        <screen><command>svn co http://servernamn/svn</command></screen>
	<warning>
		<para>Lösenordet överförs i klartext. Om du är rädd för att någon ska komma över ditt lösenord bör du använda SSL-kryptering. För fler detaljer, läs nästa avdelning.</para>
	</warning>
			</sect4>
			<sect4 id="access-via-webdav-with-ssl" status="complete">
				<title>Tillgång via WebDAV-protokolet via SSL-kryptering (https://)</title>
					<para>Att komma åt ett Subversionförråd via WebDAV-protokollet med SSL-kryptering (https://) är likandant som att komma åt http:// med den enda skillnaden att du måste installera och konfigurera det digitala certifikatet på din Apache2-server.</para>

					<para>
						You can install a digital certificate issued by a signing 
						authority like Verisign. Alternatively, you can install your 
						own self-signed certificate.
					</para>
					<para>
						This step assumes you have installed and configured a digital 
						certificate in your Apache 2 web server. Now, to access the 
						Subversion repository, please refer to the above section! 
						The access methods are exactly the same, except the protocol. 
						You must use https:// to access the Subversion repository.
					</para>

			</sect4>
			<sect4 id="access-via-custom-protocol" status="complete">
				<title>Access via custom protocol (svn://)</title>
					<para> 
					Once the Subversion repository is created, you can configure the 
					access control. You can edit the <filename>
					/path/to/repos/project/conf/svnserve.conf</filename> file to 
					configure the access control.  For example, to set up 
					authentication, you can uncomment the following lines in the 
					configuration file: </para>
					<programlisting># [general]
# password-db = passwd</programlisting>

					<para>
					After uncommenting the above lines, you can maintain the user 
					list in the passwd file. So, edit the file <filename>passwd
					</filename> in the same directory and add the new user. The 
					syntax is as follows:
					</para>
					<programlisting>username = password</programlisting>
					<para>
					For more details, please refer to the file.
					</para>

					<para>
					Now, to access Subversion via the svn:// custom protocol, either 
					from the same machine or a different machine, you can run 
					svnserver using svnserve command. The syntax is as follows:
					</para>
					<programlisting>$ svnserve -d --foreground -r /path/to/repos
# -d -- daemon mode
# --foreground -- run in foreground (useful for debugging)
# -r -- root of directory to serve

For more usage details, please refer to:
$ svnserve --help</programlisting>

					<para>Once you run this command, Subversion starts listening on default port (3690). To access the project repository, you must run the following command from a terminal prompt: </para>
					<para>
<screen>
<command>svn co svn://hostname/project project --username user_name</command>
</screen>
                                        </para>
					<para>Based on server configuration, it prompts for password. Once 
					you are authenticated, it checks out the code from Subversion 
					repository.  To synchronize the project repository with the local 
					copy, you can run the <command>update</command> sub-command. The 
					syntax of the command, entered at a terminal prompt, is as follows:
					</para>
					<para>
<screen>
<command>cd project_dir ; svn update</command>
</screen>
                                        </para>
					<para>For more details about using each Subversion sub-command, you 
					can refer to the manual. For example, to learn more about the co 
					(checkout) command, please run the following command from a 
					terminal prompt:</para>
                    <para><screen><command>svn co help</command></screen></para>

			</sect4>
			<sect4 id="access-via-custom-protocol-with-ssl" status="complete">
				<title>Access via custom protocol with SSL encryption (svn+ssh://)</title>
					<para> The configuration and server process is same as in the
					svn:// method. For details, please refer to the above section. 
					This step assumes you have followed the above step and started 
					the	Subversion server using <application>svnserve</application>  
					command.</para>

					<para>It is also assumed that the ssh server is running on that 
					machine and that it is allowing incoming connections. To confirm, 
					please try to login to that machine using ssh. If you can login, 
					everything is perfect. If you cannot login, please address it 
					before continuing further.</para>

					<para>The svn+ssh:// protocol is used to access the Subversion 
					repository using SSL encryption. The data transfer is encrypted 
					using this method. To access the project repository (for example 
					with a checkout), you must use the following command syntax: 
                                        </para>
                                        <para>
<screen>
<command>svn co svn+ssh://hostname/var/svn/repos/project</command>
</screen>
                                        </para>

					<note><para> You must use the full path (/path/to/repos/project) 
					to access the Subversion repository using this access method. 
					</para></note>
					<para>
					Based on server configuration, it prompts for password. You must 
					enter the password you use to login via ssh. Once you are 
					authenticated, it checks out the code from the Subversion 
					repository.
					</para>
			</sect4>
			</sect3>

      </sect2>
      <sect2 id="cvs-server" status="complete">
        <title>CVS Server</title> 
          <para>
          CVS is a version control system. You can use it to record the
          history of source files.
          </para>
        <sect3 id="cvs-installation" status="complete">
          <title>Installation</title>
            <para>
              At a terminal prompt, enter the following command to install
              <application>cvs</application>:

<screen>
<command>sudo apt-get install cvs</command>
</screen>

After you install <application>cvs</application>, you should install
<application>xinetd</application> to start/stop the cvs server. At the
prompt, enter the following command to install
<application>xinetd</application>:

<screen>
<command>sudo apt-get install xinetd</command>
</screen>
            </para>
        </sect3>
        <sect3 id="cvs-configuration" status="complete">
          <title>Konfiguration</title>
            <para>
            Once you install cvs, the repository will be automatically
            initialized. By default, the repository resides under the
            <application>/var/lib/cvs</application> directory. You can
            change this path by running following command:

<screen>
<command>cvs -d /your/new/cvs/repo init</command>
</screen>

Once the initial repository is set up, you can configure
<application>xinetd</application> to start the CVS server. 
You can copy the following lines to the <filename>
/etc/xinetd/cvspserver</filename> file.

<programlisting>
service cvspserver
{
     port = 2401
     socket_type = stream
     protocol = tcp
     user = root
     wait = no
     type = UNLISTED
     server = /usr/bin/cvs
     server_args = -f --allow-root /var/lib/cvs pserver
     disable = no
}
</programlisting>

<note>
<para>
Be sure to edit the repository if you have changed the default
repository (<application>/var/lib/cvs</application>) directory.
</para>
</note>

Once you have configured <application>xinetd</application> you 
can start the cvs server by running following command:

<screen>
<command>sudo /etc/init.d/xinetd start</command>
</screen>
            </para>
            <para>
            You can confirm that the CVS server is running by issuing 
			the following command:
            </para>

            <para>
<screen>
<command>sudo netstat -tap | grep cvs</command>
</screen>
            </para>

            <para>
            When you run this command, you should see the following line
            or something similar:
            </para>

<programlisting>
tcp        0      0 *:cvspserver            *:* LISTEN 
</programlisting>

        <para>
From here you can continue to add users, add new projects,
and manage the CVS server. 
        </para>
        <warning>
<para>
          CVS allows the user to add users independently of the
underlying OS installation. Probably the easiest way is to use the Linux
Users for CVS, although it has potential security issues. Please refer
to the CVS manual for details.
</para>
        </warning>

        </sect3>
        <sect3 id="cvs-add-projects" status="complete">
          <title>Add Projects</title>
            <para>
            This section explains how to add new project to the CVS 
			repository. Create the directory and add necessary document 
			and source files to the directory. Now, run the following 
			command to add this project to CVS repository:
<screen>
<command>cd your/project</command>
<command>cvs import -d :pserver:username@hostname.com:/var/lib/cvs -m "Importing my project to CVS repository" . new_project start</command>
</screen>

<tip>
<para>
You can use the CVSROOT environment variable to store the CVS root directory.
Once you export the CVSROOT environment variable, you can avoid using -d option to
above cvs command.
</para>
</tip>
The string <emphasis>new_project</emphasis> is a vendor
tag, and <emphasis>start</emphasis> is a release tag.
They serve no purpose in this context, but since CVS requires them, they
must be present.

<warning>
<para>
When you add a new project, the CVS user you use must have write access to the
CVS repository (<application>/var/lib/cvs</application>). By default, the
<application>src</application> group has write access to the CVS
repository. So, you can add the user to this group, and he can then add and
manage projects in the CVS repository.
</para>
</warning>
            </para>
        </sect3>
      </sect2>
      <sect2 id="version-control-ref" status="complete">
        <title>Referenser</title> 
				<para><ulink url="http://subversion.tigris.org/">Subversion Home Page</ulink></para>
				<para><ulink url="http://svnbook.red-bean.com/">Subversion Book</ulink></para>
				<para><ulink url="http://ximbiot.com/cvs/manual/cvs-1.11.21/cvs_toc.html">CVS Manual</ulink></para>
      </sect2>
    </sect1>
	<sect1 id="databases" status="complete">
		<title>Databases</title>
          <para>
            Ubuntu provides two Database servers. They are:
            <itemizedlist spacing="compact">
                <listitem>
                    <para><application><trademark>MySQL</trademark></application></para>
                </listitem>
                <listitem>
                    <para><application>PostgreSQL</application></para>
                </listitem>
            </itemizedlist>
            They are available in the main repository. This section
            explains how to install and configure these database
            servers.
          </para>
      <sect2 id="mysql" status="complete">
        <title>MySQL</title>
          <para>
          MySQL is a fast, multi-threaded, multi-user, and robust SQL
          database server. It is intended for mission-critical, 
		  heavy-load production systems as well as for embedding into 
		  mass-deployed software.
          </para>

        <sect3 id="mysql-installation" status="complete">
          <title>Installation</title>
            <para>
            To install MySQL, run the following command from a terminal prompt:
            </para>

            <para>
<screen>
<command>sudo apt-get install mysql-server mysql-client</command>
</screen>
            </para>

            <para>
            Once the installation is complete, the MySQL server should be
            started automatically. You can run the following command from a terminal prompt to
            check whether the MySQL server is running:
            </para>

            <para>
<screen>
<command>sudo netstat -tap | grep mysql</command>
</screen>
            </para>

            <para>
            When you run this command, you should see the following line
            or something similar:
            </para>

<programlisting>
tcp        0      0 localhost.localdomain:mysql           *:* LISTEN -
</programlisting>
	<para>If the server is not running correctly, you can type the following command to start it:</para>
            <para>
<screen>
<command>sudo /etc/init.d/mysql restart</command>
</screen>
        </para>

        </sect3>
        <sect3 id="mysql-configuration" status="complete">
          <title>Konfiguration</title>
            <para>
            By default, the administrator password is not set. Once you
            install MySQL, the first thing you must do is to configure
            the MySQL administrator password. To do this, run the following commands:
            </para>
            <para>
<screen>
<command>sudo mysqladmin -u root password newrootsqlpassword</command>
</screen>
            </para>
            <para>
<screen>
<command>sudo mysqladmin -u root -h localhost password newrootsqlpassword</command>
</screen>
            </para>

            <para>
            You can edit the <filename>/etc/mysql/my.cnf</filename> file to configure the basic
            settings -- log file, port number, etc. Refer to
            <filename>/etc/mysql/my.cnf</filename> file for more details.
            </para>
        </sect3>
      </sect2>
      <sect2 id="postgresql" status="complete">
        <title>PostgreSQL</title> 
          <para>
          PostgreSQL is an object-relational database system that has
          the features of traditional commercial database systems with
          enhancements to be found in next-generation DBMS systems.
          </para>
        <sect3 id="postgresql-installation" status="complete">
          <title>Installation</title>
            <para>
            To install PostgreSQL, run the following command in the
            command prompt:
            </para>

            <para>
<screen>
<command>sudo apt-get install postgresql</command>
</screen>
            </para>

            <para>
            Once the installation is complete, you should configure the
            PostgreSQL server based on your needs, although the default
            configuration is viable.</para>
            
        </sect3>
        <sect3 id="postgresql-configuration" status="complete">
          <title>Konfiguration</title>
            <para>By default, connection via TCP/IP is disabled.
            PostgreSQL supports multiple client authentication methods.
            By default, IDENT authentication method is used.  Please
            refer <ulink url="http://www.postgresql.org/docs/8.1/static/admin.html">
			the PostgreSQL Administrator's Guide</ulink>.</para>
            
            <para>The following discussion assumes that you wish to enable 
			TCP/IP connections and use the MD5 method for client 
			authentication. PostgreSQL configuration files are stored in the
            <filename>/etc/postgresql/&lt;version&gt;/main</filename>
            directory. For example, if you install PostgreSQL 7.4, the
            configuration files are stored in the
            <filename>/etc/postgresql/7.4/main</filename> directory.
            </para>
            
            <tip>
            <para>
             To configure <application>ident</application>
             authentication, add entries to the <filename>/etc/postgresql/7.4/main/pg_ident.conf</filename>
             file.
            </para>
            </tip>

            <para>To enable TCP/IP connections, edit the file <filename>/etc/postgresql/7.4/main/postgresql.conf</filename></para>

            <para>Locate the line <emphasis>#tcpip_socket =
            false</emphasis> and change it to
            <emphasis>tcpip_socket =
            true</emphasis>. You may
            also edit all other parameters, if you know what you are doing! 
			For details, refer to the configuration file or to the PostgreSQL documentation.
            </para>

            <para>By default, the user credentials are not set for
            <emphasis>MD5</emphasis> client
            authentication. So, first it is necessary to configure the PostgreSQL server to use
            <emphasis>trust</emphasis> client
            authentication, connect to the database,
            configure the password, and revert the configuration back to use
            <emphasis>MD5</emphasis> client authentication.
            To enable <emphasis>trust</emphasis> client
            authentication, edit the file <filename>/etc/postgresql/7.4/main/pg_hba.conf</filename></para>

            <para>Comment out all the existing lines which use
            <emphasis>ident</emphasis> and
            <emphasis>MD5</emphasis>
            client authentication and add the following
            line:</para>
<programlisting>
local   all         postgres                          trust sameuser
</programlisting>

            <para>Then, run the following command to
            start the PostgreSQL server:
            </para>
            <para>
<screen>
<command>sudo /etc/init.d/postgresql start</command>
</screen>
            </para>
            <para>Once the PostgreSQL server is successfully started, run the following command at a terminal prompt to connect to the default
            PostgreSQL template database</para>

            <para>
<screen>
<command>psql -U postgres -d template1</command>
</screen>
            </para>
            <para>The above command connects to PostgreSQL
            database <emphasis>template1</emphasis> as user
            <emphasis>postgres</emphasis>. Once you connect to the PostgreSQL
            server, you will be at a SQL prompt. You can run the
            following SQL command at the <application>psql</application> prompt to configure the
            password for the user <emphasis role="italics">postgres</emphasis>.</para>

            <para>
<screen>
<command>template1=# ALTER USER postgres with encrypted password 'your_password';</command>
</screen>
            </para>
            <para>After configuring the password, edit the file
            <filename>/etc/postgresql/7.4/main/pg_hba.conf</filename> to use
            <emphasis>MD5</emphasis> authentication:</para>
            <para>Comment the recently added <emphasis role="italics">trust</emphasis> line and add the following
            line: </para>

<programlisting>
local   all         postgres                          md5 sameuser
</programlisting>
            <warning>
            <para>
             The above configuration is not complete by any means. Please
             refer <ulink url="http://www.postgresql.org/docs/8.1/static/admin.html">
			 the PostgreSQL Administrator's Guide</ulink> to configure more parameters.
            </para>
            </warning>
        </sect3>
      </sect2>
    </sect1>
	<sect1 id="email-services" status="complete">
		<title>Email Services</title>
          <para>
            The process of getting an email from one person to another over a network or
			the Internet involves many systems working together.  Each of these systems
			must be correctly configured for the process to work.  The sender uses a <emphasis>Mail
			User Agent</emphasis> (MUA), or email client, to send the message through one or more
			<emphasis>Mail Transfer Agents</emphasis> (MTA), the last of which will hand it off to a 				<emphasis>Mail Delivery Agent</emphasis> (MDA) for delivery to the 
			recipient's mailbox, from which it
			will be retrieved by the recipient's email client, usually via a POP3 or IMAP server.
          </para>
      <sect2 id="postfix" status="complete">
        <title>Postfix</title>
          <para>
            <application>Postfix</application> is the default Mail Transfer Agent (MTA) in Ubuntu. It
            attempts to be fast and easy to administer and secure. It is
            compatible with the MTA <application>sendmail</application>. This section explains how
            to install and configure <application>postfix</application>. It also explains how to
            set it up as an SMTP server using a secure connection (for sending emails securely).
          </para>
        <sect3 id="postfix-installation" status="complete">
          <title>Installation</title>
            <para>
            To install <application>postfix</application> with SMTP-AUTH and Transport Layer
            Security (TLS), run the following command:
<screen>
<command>sudo apt-get install postfix</command>
</screen>
		Simply press return when the installation process asks questions, the configuration will be done in greater detail in the next stage.
            </para>
        </sect3>
        <sect3 id="postfix-configuration" status="complete">
          <title>Basic Configuration</title>
            <para>
            To configure <application>postfix</application>, run the following command:
<screen>
<command>sudo dpkg-reconfigure postfix</command>
</screen>
            The user interface will be displayed. On each screen, select the following
            values:
            <itemizedlist spacing="compact">
            <listitem><para>Ok</para></listitem>
            <listitem><para>Internet Site</para></listitem>
            <listitem><para>NONE</para></listitem>
            <listitem><para>mail.example.com</para></listitem>
            <listitem><para>mail.example.com, localhost.localdomain, localhost</para></listitem>
            <listitem><para>No</para></listitem>
            <listitem><para>127.0.0.0/8</para></listitem>
            <listitem><para>Yes</para></listitem>
            <listitem><para>0</para></listitem>
            <listitem><para>+</para></listitem>
            <listitem><para>all</para></listitem>
            </itemizedlist>
            </para>
            <note>
            <para>
            Replace mail.example.com with your mail server hostname.
            </para>
            </note>
	 </sect3>
        <sect3 id="postfix-smtp-authentication" status="complete">
          <title>SMTP Authentication</title>
            <para>The next steps are to configure
            <application>postfix</application> to use SASL for SMTP
            AUTH. Rather than editing the configuration file directly, 
	     you can use the <command>postconf</command> command to configure
            all <application>postfix</application> parameters.  The
            configuration parameters will be stored in
            <filename>/etc/postfix/main.cf</filename> file. Later if you
            wish to re-configure a particular parameter, you can either
            run the command or change it manually in the file.</para>
	<procedure>
		<step><para>Configure Postfix to do SMTP AUTH using SASL (saslauthd):
<screen>
postconf -e 'smtpd_sasl_local_domain ='
postconf -e 'smtpd_sasl_auth_enable = yes'
postconf -e 'smtpd_sasl_security_options = noanonymous'
postconf -e 'broken_sasl_auth_clients = yes'
postconf -e 'smtpd_recipient_restrictions = permit_sasl_authenticated,permit_mynetworks,reject_unauth_destination'
postconf -e 'inet_interfaces = all'
echo 'pwcheck_method: saslauthd' &gt;&gt; /etc/postfix/sasl/smtpd.conf
echo 'mech_list: plain login' &gt;&gt; /etc/postfix/sasl/smtpd.conf
</screen>
		</para>
		</step>
		<step><para>Next, configure the digital certificate 
            for TLS. When asked questions, follow the instructions and answer appropriately.
<screen>
openssl genrsa -des3 -rand /etc/hosts -out smtpd.key 1024
chmod 600 smtpd.key
openssl req -new -key smtpd.key -out smtpd.csr
openssl x509 -req -days 3650 -in smtpd.csr -signkey smtpd.key -out smtpd.crt
openssl rsa -in smtpd.key -out smtpd.key.unencrypted
mv -f smtpd.key.unencrypted smtpd.key
openssl req -new -x509 -extensions v3_ca -keyout cakey.pem -out cacert.pem -days 3650
mv smtpd.key /etc/ssl/private/
mv smtpd.crt /etc/ssl/certs/
mv cakey.pem /etc/ssl/private/
mv cacert.pem /etc/ssl/certs/
</screen>
		</para>
		<note><para>You can get the digital
            certificate from a certificate authority. Alternatively, you
            can create the certificate yourself. Refer to 
			<xref linkend="creating-a-self-signed-certificate"/> for more 
			details.</para></note>
		</step>
		<step><para>Configure Postfix to do TLS encryption for both incoming and outgoing mail:
<screen>
postconf -e 'smtpd_tls_auth_only = no'
postconf -e 'smtp_use_tls = yes'
postconf -e 'smtpd_use_tls = yes'
postconf -e 'smtp_tls_note_starttls_offer = yes'
postconf -e 'smtpd_tls_key_file = /etc/ssl/private/smtpd.key'
postconf -e 'smtpd_tls_cert_file = /etc/ssl/certs/smtpd.crt'
postconf -e 'smtpd_tls_CAfile = /etc/ssl/certs/cacert.pem'
postconf -e 'smtpd_tls_loglevel = 1'
postconf -e 'smtpd_tls_received_header = yes'
postconf -e 'smtpd_tls_session_cache_timeout = 3600s'
postconf -e 'tls_random_source = dev:/dev/urandom'
postconf -e 'myhostname = mail.example.com'
</screen>
		</para>
		</step>
		</procedure>
            <note>
            <para>
            After you run all the commands, the SMTP AUTH is configured
            with <application>postfix</application>. The self-signed
            cerficiate is created for TLS and it is configured with
            <application>postfix</application>.
            </para>
            </note>
            <para>
            Now, the file <filename>/etc/postfix/main.cf</filename>
            should look like <ulink url="../sample/postfix_configuration">this</ulink>.
		</para>
		<para>
            The postfix initial configuration is complete. Run
            the following command to start postfix daemon:
            <screen><command>sudo /etc/init.d/postfix start</command></screen>

            Now the <application>postfix</application> daemon is installed, configured and run
            successfully. <application>Postfix</application> supports SMTP AUTH as defined in
            <ulink url="ftp://ftp.isi.edu/in-notes/rfc2554.txt">RFC2554</ulink>.
            It is based on <ulink url="ftp://ftp.isi.edu/in-notes/rfc2222.txt">SASL</ulink>. However it is still necessary to set up SASL authentication before you can use SMTP.
            </para>
	</sect3>
	<sect3 id="sasl">
	  <title>Configuring SASL</title>
            <para>
            The
            <application>libsasl2</application>,
            <application>sasl2-bin</application> and
            <application>libsasl2-modules</application> are necessary to
            enable SMTP AUTH using SASL. You can install these applications if
            you have not installed them already.
<screen>
<command>apt-get install libsasl2 sasl2-bin</command>
</screen>
	    </para>
	    <para>
		A few changes are necessary to make it work properly. Because <application>Postfix</application> runs chrooted in <filename>/var/spool/postfix</filename>, <application>SASL</application> needs to be configured to run in the false root (<filename>/var/run/saslauthd</filename> becomes <filename>/var/spool/postfix/var/run/saslauthd</filename>):
<screen>
<command>mkdir -p /var/spool/postfix/var/run/saslauthd</command>
<command>rm -rf /var/run/saslauthd</command>
</screen>
	    </para>
	    <para>
            To activate <application>saslauthd</application>, edit the file <filename>/etc/default/saslauthd</filename>, and change or add the START variable. In order to configure <application>saslauthd</application> to run in the false root, add the PWDIR, PIDFILE and PARAMS variables. Finally, configure the MECHANISMS variable to your liking. The file should look like this:

<programlisting>
# This needs to be uncommented before saslauthd will be run
# automatically
START=yes

PWDIR="/var/spool/postfix/var/run/saslauthd"
PARAMS="-m ${PWDIR}"
PIDFILE="${PWDIR}/saslauthd.pid"

# You must specify the authentication mechanisms you wish to use.
# This defaults to "pam" for PAM support, but may also include
# "shadow" or "sasldb", like this:
# MECHANISMS="pam shadow"

MECHANISMS="pam"
</programlisting>
            </para>
<note>
<para>
If you prefer, you can use <emphasis role="strong">shadow</emphasis>
instead of <emphasis role="strong">pam</emphasis>. This will use MD5
hashed password transfer and is perfectly secure. The username and
password needed to authenticate will be those of the users on the system
you are using on the server.
</para>
</note>
        <para>
Next, update the dpkg "state" of <filename>/var/spool/portfix/var/run/saslauthd</filename>. The saslauthd init script uses this setting to create the missing directory with the appropriate permissions and ownership:
<screen>
<command>dpkg-statoverride --force --update --add root sasl 755 /var/spool/postfix/var/run/saslauthd</command>
</screen>
        </para>
        </sect3>
        <sect3 id="postfix-testing" status="complete">
          <title>Testing</title>
            <para>
          SMTP AUTH configuration is complete. Now it is time to start
          and test the setup. You can run the following command to start
          the SASL daemon:
            <screen><command>sudo /etc/init.d/saslauthd start</command></screen>

          To see if SMTP-AUTH and TLS work properly, run the following
          command:
            <screen><command>telnet mail.example.com 25</command></screen>
          After you have established the connection to the postfix mail
          server, type:
            <screen>ehlo mail.example.com</screen>
          If you see the following lines among others, then everything
          is working perfectly. Type <command>quit</command> to exit.
<programlisting>
250-STARTTLS
250-AUTH LOGIN PLAIN
250-AUTH=LOGIN PLAIN
250 8BITMIME
</programlisting>
        </para>
        </sect3>
      </sect2>
      <sect2 id="exim4" status="complete">
        <title>Exim4</title>
          <para>
            <application>Exim4</application> is is another Message Transfer
            Agent (MTA) developed at the University of Cambridge for use
            on Unix systems connected to the internet. Exim can be
            installed in place of <application>sendmail</application>,
            although the configuration of
            <application>exim</application> is quite different to
            that of <application>sendmail</application>.
          </para>
        <sect3 id="exim4-installation" status="complete">
          <title>Installation</title>
            <para>
            To install <application>exim4</application>, run the following command:
<screen>
<command>sudo apt-get install exim4 exim4-base exim4-config</command>
</screen>
            </para>
        </sect3>
        <sect3 id="exim4-configuration" status="complete">
          <title>Konfiguration</title>
            <para>
            To configure <application>exim4</application>, run the following command:
<screen>
<command>sudo dpkg-reconfigure exim4-config</command>
</screen>
            The user interface will be displayed. The user interface
            lets you configure many parameters. For example, In
            <application>exim4</application> the configuration files are
            split among multiple files. If you wish to have them in one
            file you can configure accordingly in this user interface.
            </para>

            <para>
            All the parameters you configure in the user interface are
            stored in
            <filename>/etc/exim4/update-exim4.conf.conf</filename> file.
            If you wish to re-configure, either you re-run the
            configuration wizard or manually edit this file
            using your favourite editor. Once you configure, you can run
            the following command to generate the master configuration
            file:
<screen>
<command>sudo update-exim4.conf</command>
</screen>
            The master configuration file, is generated and
            it is stored in
            <filename>/var/lib/exim4/config.autogenerated</filename>. 
            
            <warning>
            <para>
            At any time, you should not edit the master configuration
            file,
            <filename>/var/lib/exim4/config.autogenerated</filename>
            manually. It is updated automatically every time you run
            <command>update-exim4.conf</command>
            </para>
            </warning>
            You can run
            the following command to start
            <application>exim4</application> daemon.
<screen>
<command>sudo /etc/init.d/exim4 start</command>
</screen>
            <emphasis role="strong">TODO:</emphasis> This section should
            cover configuring SMTP AUTH with exim4. 
            </para>
        </sect3>
      </sect2>
      <sect2 id="dovecot-server" status="complete">
        <title>Dovecot Server</title> 
          <para>
          <application>Dovecot</application> is a Mail Delivery Agent, written with security
          primarily in mind. It supports the major mailbox formats: mbox
          or Maildir. This section explain how to set it up as an imap or
          pop3 server.
          </para>
        <sect3 id="dovecot-installation" status="complete">
          <title>Installation</title>
            <para>
            To install <application>dovecot</application>, run the following command in the
            command prompt:
<screen>
<command>sudo apt-get install dovecot-common dovecot-imapd dovecot-pop3d</command>
</screen>
            </para>
        </sect3>
        <sect3 id="dovecot-configuration" status="complete">
          <title>Konfiguration</title>
            <para>
            To configure <application>dovecot</application>, you can edit the file
            <filename>/etc/dovecot/dovecot.conf</filename>. You can
            choose the protocol you use. It could be pop3, pop3s (pop3
            secure), imap and imaps (imap secure). A description of these protocols is beyond the scope of this guide. For further information, refer to the wikipedia articles on <ulink url="http://en.wikipedia.org/wiki/POP3">POP3</ulink> and
            <ulink url="http://en.wikipedia.org/wiki/Internet_Message_Access_Protocol">IMAP</ulink>.
            </para>

            <para>
            IMAPS and POP3S are more secure that the simple IMAP and
            POP3 because they use SSL encryption to connect. Once you
            have chosen the protocol, amend the following line in the file
            <filename>/etc/dovecot/dovecot.conf</filename>:
<programlisting>
protocols = pop3 pop3s imap imaps
</programlisting>

            It enables the protocols when <application>dovecot</application> is started. Next, add the following line in pop3 section in the file <filename>/etc/dovecot/dovecot.conf</filename>:
<programlisting>
pop3_uidl_format = %08Xu%08Xv
</programlisting>

            Next, choose the mailbox you use. <application>Dovecot</application> supports
            <emphasis role="strong">maildir</emphasis> and <emphasis role="strong">mbox</emphasis> formats. These are the most
            commonly used mailbox formats. They both have their own
            benefits and they are discussed on <ulink url="http://dovecot.org/doc/configuration.txt">the dovecot website</ulink>.
            </para>
            <para>
            Once you have chosen your mailbox type, edit the file
            <filename>/etc/dovecot/dovecot.conf</filename> and change
            the following line:
<programlisting>
default_mail_env = maildir:~/Maildir # (for maildir)
or
default_mail_env = mbox:~/mail:INBOX=/var/spool/mail/%u # (for mbox)
</programlisting>
            </para>
<note>
<para>
You should configure your Mail Trasport Agent (MTA) to transfer the
incoming mail to this type of mailbox if it is different from the one
you have configured.
</para>
</note>
          <para>
          Once you have configured dovecot, start the <application>dovecot</application> daemon
          in order to test your setup:

          <screen><command>sudo /etc/init.d/dovecot start</command></screen>

          If you have enabled imap, or pop3, you can also try to log in
          with the commands <command>telnet localhost pop3</command> or
          <command>telnet localhost</command> imap2. If you see
          something like the following, the installation has been
          successful:
<programlisting>
bhuvan@rainbow:~$ telnet localhost pop3
Trying 127.0.0.1...
Connected to localhost.localdomain.
Escape character is '^]'.
+OK Dovecot ready.
</programlisting>
          </para>
        </sect3>
        <sect3 id="dovecot-ssl" status="complete">
          <title>Dovecot SSL Configuration</title>
            <para>
            To configure <application>dovecot</application> to use SSL, you can edit the file
            <filename>/etc/dovecot/dovecot.conf</filename> and amend
            following lines:
<programlisting>
ssl_cert_file = /etc/ssl/certs/dovecot.pem
ssl_key_file = /etc/ssl/private/dovecot.pem
ssl_disable = no
disable_plaintext_auth = no
</programlisting>

          The <emphasis role="strong">cert</emphasis> and <emphasis role="strong">key</emphasis> files are created automatically
          by <application>dovecot</application> when you install it. Please note that these keys
          are not signed and will give "bad signature" errors when
          connecting from a client. To avoid this, you can use
          commercial certificates, or even better, you can use your own
          SSL certificates.
          </para>
	</sect3>
	<sect3>
	  <title>Firewall Configuration for an Email Server</title>
          <para>
          To access your mail server from another computer, you must
          configure your firewall to allow connections to the server on
          the necessary ports.
            <itemizedlist>
            <listitem><para>IMAP - 143</para></listitem>
            <listitem><para>IMAPS - 993</para></listitem>
            <listitem><para>POP3 - 110</para></listitem>
            <listitem><para>POP3S - 995</para></listitem>
            </itemizedlist>
          </para>
        </sect3>
      </sect2>
      <sect2 id="mailman" status="complete">
        <title>Mailman</title> 
          <para>
          Mailman is an open source program for managing electronic mail
          discussions and e-newsletter lists. Many open source mailing
          lists (including all the <ulink url="http://lists.ubuntu.com">Ubuntu mailing lists</ulink>) use
          Mailman as their mailing list software. It is powerful and easy
          to install and maintain.
          </para>
        <sect3 id="mailman-installation" status="complete">
          <title>Installation</title>
            <para>
            Mailman provides a web interface for the administrators
            and users. So, it requires apache with mod_perl support.
            Mailman uses an external mail server to send and receive 
			emails. It works perfectly with the following mail servers:
            </para>
            <para>
            <itemizedlist spacing="compact">
                <listitem>
                    <para><application>Postfix</application></para>
                </listitem>
                <listitem>
                    <para><application>Exim</application></para>
                </listitem>
                <listitem>
                    <para><application>Sendmail</application></para>
                </listitem>
                <listitem>
                    <para><application>Qmail</application></para>
                </listitem>
            </itemizedlist>
            </para>

            <para>
            We will see how to install mailman, the apache web server 
			and the Exim mail server. If you wish to install mailman
            with a different mail server, please refer to the references
            section. 
            </para>
          <sect4 id="mailman-apache2">
            <title>Apache2</title>
              <para>
                To install apache2 you refer to <xref linkend="http-installation"/>.
              </para>
          </sect4>
          <sect4 id="mailman-exim4">
            <title>Exim4</title>
              <para>
              To install Exim4 you run the following commands at a terminal prompt:
<screen>
<command>sudo apt-get install exim4</command>
<command>sudo apt-get install exim4-base</command>
<command>sudo apt-get install exim4-config</command>
</screen>

Once exim4 is installed, the configuration files are stored in
the <filename>/etc/exim4</filename> directory. In ubuntu, by default, the exim4 configuration files are
split across different files. You can change this behavior by changing
the following variable in the <filename>/etc/exim4/update-exim4.conf</filename> file:

              <itemizedlist spacing="compact">
              <listitem>
                <para><application>dc_use_split_config='true'</application></para>
              </listitem>
              </itemizedlist>
              </para>
          </sect4>
          <sect4 id="mailman-mailman">
            <title>Mailman</title>
              <para>
              To install <application>Mailman</application>, run following command at a terminal prompt:
<screen>
<command>sudo apt-get install mailman</command> 
</screen>

It copies the installation files in
<application>/var/lib/mailman</application> directory. It installs the
CGI scripts in <application>/usr/lib/cgi-bin/mailman</application>
directory.  It creates <emphasis>list</emphasis> linux
user. It creates the <emphasis>list</emphasis> linux
group. The mailman process will be owned by this user. 
              </para>
          </sect4>
        </sect3>
        <sect3 id="mailman-configuration" status="complete">
          <title>Konfiguration</title>
            <para>
            This section assumes you have successfully installed
            <application>mailman</application>,
            <application>apache2</application>, and
            <application>exim4</application>. Now you just need
            to configure them. 
            </para>
          <sect4 id="mailman-conf-apache2">
            <title>Apache2</title>
              <para>
              Once apache2 is installed, you can add the following lines in
              the <filename>/etc/apache2/apache2.conf</filename> file:
<programlisting>
Alias /images/mailman/ "/usr/share/images/mailman/"
Alias /pipermail/ "/var/lib/mailman/archives/public/"
</programlisting>

Mailman uses apache2 to render its CGI scripts. The mailman CGI scripts
are installed in the <application>/usr/lib/cgi-bin/mailman</application>
directory. So, the mailman url will be
http://hostname/cgi-bin/mailman/. You can make changes to the
<filename>/etc/apache2/apache2.conf</filename> file if you wish to
change this behavior.
              </para>
          </sect4>

          <sect4 id="mailman-conf-exim4">
            <title>Exim4</title>
              <para>
              Once Exim4 is installed, you can start the Exim server using the following
              command from a terminal prompt:
<screen>
<command>sudo apt-get /etc/init.d/exim4 start</command>
</screen>

In order to make mailman work with exim4, you need to configure exim4.
As mentioned earlier, by default, exim4 uses multiple configuration
files of different types. For details, please refer to the <ulink url="http://www.exim.org">Exim</ulink> website.  To run mailman, we
should add new a configuration file to the following configuration
types: 
              <itemizedlist spacing="compact">
              <listitem>
                <para>Main</para>
              </listitem>
              <listitem>
                <para>Transport</para>
              </listitem>
              <listitem>
                <para>Router</para>
              </listitem>
              </itemizedlist>
              Exim creates a master configuration file by sorting all
              these mini configuration files. So, the order of these
              configuration files is very important.
              </para>
          </sect4>
          <sect4 id="mailman-conf-main">
            <title>Main</title>
              <para>
              All the configuration files belonging to the main type are
              stored in the
              <filename>/etc/exim4/conf.d/main/</filename> directory. You can add
              the following content to a new file, named <filename>04_exim4-config_mailman</filename>:

<programlisting>
# start
# Home dir for your Mailman installation -- aka Mailman's prefix
# directory.
# On Ubuntu this should be "/var/lib/mailman"
# This is normally the same as ~mailman
MM_HOME=/var/lib/mailman
#
# User and group for Mailman, should match your --with-mail-gid
# switch to Mailman's configure script.  Value is normally "mailman"
MM_UID=list
MM_GID=list
#
# Domains that your lists are in - colon separated list
# you may wish to add these into local_domains as well
domainlist mm_domains=hostname.com
#
# -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
#
# These values are derived from the ones above and should not need
# editing unless you have munged your mailman installation
#
# The path of the Mailman mail wrapper script
MM_WRAP=MM_HOME/mail/mailman
#
# The path of the list config file (used as a required file when
# verifying list addresses)
MM_LISTCHK=MM_HOME/lists/${lc::$local_part}/config.pck
# end
</programlisting>
          </para>
          </sect4>
          <sect4 id="mailman-conf-transport">
            <title>Transport</title>
              <para>
All the configuration files belonging to transport type are stored in
the <filename>/etc/exim4/conf.d/transport/</filename> directory. You
can add the following content to a new file named <filename>
40_exim4-config_mailman</filename>:

<programlisting>
  mailman_transport:
   driver = pipe
   command = MM_WRAP \
               '${if def:local_part_suffix \
                     {${sg{$local_part_suffix}{-(\\w+)(\\+.*)?}{\$1}}} \
                     {post}}' \
               $local_part
    current_directory = MM_HOME
    home_directory = MM_HOME
    user = MM_UID
    group = MM_GID
</programlisting>
              </para>
          </sect4>
          <sect4 id="mailman-conf-router">
            <title>Router</title>
              <para>
All the configuration files belonging to router type are stored in the
<filename>/etc/exim4/conf.d/router/</filename> directory. You can add the following content
in to a new file named <filename>101_exim4-config_mailman</filename>:
<programlisting>
  mailman_router:
   driver = accept
   require_files = MM_HOME/lists/$local_part/config.pck
   local_part_suffix_optional
   local_part_suffix = -bounces : -bounces+* : \
                       -confirm+* : -join : -leave : \
                       -owner : -request : -admin
   transport = mailman_transport
</programlisting>

              </para>
<warning>
<para>
The order of main and transport configuration files can be in any order.
But, the order of router configuration files must be the same.
This particular file must appear before the
<application>200_exim4-config_primary</application> file.
These two configuration files contain same type of information. The
first file takes the precedence. For more details, please refer to the
references section.
</para>
</warning>
          </sect4>
          <sect4 id="mailman-conf-mailman">
            <title>Mailman</title>
              <para>
Once mailman is installed, you can run it using the following command:
<screen>
<command>sudo /etc/init.d/mailman start</command>
</screen>

Once mailman is installed, you should create the default mailing list.
Run the following command to create the mailing list:


<screen>
<command>sudo /usr/sbin/newlist mailman</command>
</screen>

<programlisting>
  Enter the email address of the person running the list: bhuvan at ubuntu.com
  Initial mailman password:
  To finish creating your mailing list, you must edit your <filename>/etc/aliases</filename> (or
  equivalent) file by adding the following lines, and possibly running the
  `newaliases' program:

  ## mailman mailing list
  mailman:              "|/var/lib/mailman/mail/mailman post mailman"
  mailman-admin:        "|/var/lib/mailman/mail/mailman admin mailman"
  mailman-bounces:      "|/var/lib/mailman/mail/mailman bounces mailman"
  mailman-confirm:      "|/var/lib/mailman/mail/mailman confirm mailman"
  mailman-join:         "|/var/lib/mailman/mail/mailman join mailman"
  mailman-leave:        "|/var/lib/mailman/mail/mailman leave mailman"
  mailman-owner:        "|/var/lib/mailman/mail/mailman owner mailman"
  mailman-request:      "|/var/lib/mailman/mail/mailman request mailman"
  mailman-subscribe:    "|/var/lib/mailman/mail/mailman subscribe mailman"
  mailman-unsubscribe:  "|/var/lib/mailman/mail/mailman unsubscribe mailman"

  Hit enter to notify mailman owner...

  # 
</programlisting>

We have configured exim to recognize all emails from mailman. So, it is
not mandatory to make any new entries in
<filename>/etc/aliases</filename>.  If you have made any changes
to the configuration files, please ensure that you restart those
services before continuing to next section.
</para>
          </sect4>
        </sect3>
        <sect3 id="mailman-admin" status="complete">
          <title>Administration</title>
<para>
We assume you have a default installation. The
mailman cgi scripts are still in
<application>/usr/lib/cgi-bin/mailman/</application> directory.  Mailman
provides a web based administration facility. To access this page, point
your browser to the following url: 

</para>
<para>
http://hostname/cgi-bin/mailman/admin
</para>

<para>
The default mailing list, <emphasis>mailman</emphasis>,
will appear in this screen. If you click the mailing list name, it
will ask for your authentication password.  If you enter the correct
password, you will be able to change administrative settings of this
mailing list.

You can create a new mailing list using command line utility
(<command>/usr/sbin/newlist</command>).
Alternatively, you can create a new mailing list using web interface. 
</para>
        </sect3>
        <sect3 id="mailman-users" status="complete">
          <title>Users</title>
<para>
Mailman provides a web based interface for users. To access this page,
point your browser to the following url:
</para>

<para>
http://hostname/cgi-bin/mailman/listinfo
</para>

<para>
The default mailing list, <emphasis>mailman</emphasis>,
will appear in this screen. If you
click the mailing list name, it will display the subscription form. You
can enter your email address, name (optional), and password to subscribe.
An email invitation will be sent to you. You can follow the
instructions in the email to subscribe.
</para>
        </sect3>
        <sect3 id="mailman-references" status="complete">
          <title>Referenser</title>
<para>
<ulink url="http://www.list.org/mailman-install/index.html"> GNU Mailman
- Installation Manual</ulink>
</para>
<para>
<ulink url="http://www.exim.org/howto/mailman21.html">HOWTO - Using Exim
4 and Mailman 2.1 together</ulink>
</para>
        </sect3>
      </sect2>
    </sect1>
	</chapter>
