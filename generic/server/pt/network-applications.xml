<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN" "http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
<!ENTITY % globalent SYSTEM "../../../libs/global.ent">
<!-- NAMES --><!ENTITY canonical-name "Canonical Ltd.">
<!ENTITY project-name "Ubuntu Documentation Project">
<!ENTITY ubuntu "<phrase>Ubuntu</phrase>">
<!-- VERSIONS --><!ENTITY distro-version "Gutsy Gibbon">
<!ENTITY distro-rev "7.10">
<!ENTITY distro-release-date "October 2007">
<!ENTITY linux-kernel-version "2.6.22">
<!ENTITY gcc-version "4.1.2">
<!ENTITY glibc-version "2.5">
<!ENTITY python-version "2.5">
<!-- AUTHORS --><!ENTITY author-ubuntu-documentation-project SYSTEM "../common/authors/ubuntu-documentation-project.xml">
<!ENTITY glossary SYSTEM "../common/C/glossary.xml">
<!-- LEGAL URLs --><!ENTITY gpl-url '<ulink url="http://www.gnu.org/licenses/gpl.html">GNU General Public License</ulink>'>
<!ENTITY cc "http://creativecommons.org/">
<!ENTITY cc-attrib '<ulink url="http://creativecommons.org/licenses/by-sa/2.5/">Attribution-ShareAlike 2.5</ulink>'>
<!ENTITY cc-fulldeed-url "http://creativecommons.org/licenses/by-sa/2.5/legalcode/">
<!ENTITY fdl-url '<ulink url="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License</ulink>'>
<!ENTITY cc-disclaimer-url "http://creativecommons.org/licenses/disclaimer-popup?lang=en">
<!-- CANONICAL URL RESOURCES --><!ENTITY canonical-url "http://www.canonical.com">
<!-- OTHER UBUNTU RELATED RESOURCES --><!ENTITY upstart-url "http://upstart.ubuntu.com">
<!-- UBUNTU IRC INFORMATION --><!ENTITY irc-network "Freenode">
<!ENTITY irc-server "irc.ubuntu.com">
<!ENTITY ubuntu-irc "irc.ubuntu.com channel #ubuntu">
<!ENTITY kubuntu-irc "irc.ubuntu.com channel #kubuntu">
<!ENTITY xubuntu-irc "irc.ubuntu.com channel #xubuntu">
<!ENTITY edubuntu-irc "irc.ubuntu.com channel #edubuntu">
<!-- UBUNTU URL RESOURCES --><!ENTITY ubuntu-packages "http://packages.ubuntu.com">
<!ENTITY ubuntu-dpkgfile "ubuntu5.10.tar">
<!ENTITY ubuntu-web "http://www.ubuntu.com">
<!ENTITY ubuntu-main "http://www.ubuntu.com">
<!ENTITY ubuntu-download "http://www.ubuntu.com/download">
<!ENTITY ubuntu-forums "http://www.ubuntu.com/community/forums">
<!ENTITY ubuntu-components "http://www.ubuntu.com/ubuntu/components">
<!ENTITY ubuntu-lists "http://lists.ubuntu.com">
<!ENTITY ubuntu-wiki "http://wiki.ubuntu.com">
<!ENTITY ubuntu-bugzilla "https://launchpad.net/distros/ubuntu/+bugs">
<!ENTITY ubuntu-doc-bugs "https://launchpad.net/products/ubuntu-doc/+bugs">
<!ENTITY ubuntu-support "http://www.ubuntu.com/support">
<!ENTITY ubuntu-paidsupport "http://www.ubuntu.com/support/paid">
<!ENTITY ubuntu-freesupport "http://www.ubuntu.com/support/free">
<!ENTITY ubuntu-comments "http://www.ubuntuforums.org/showthread.php?p=21787">
<!ENTITY ubuntu-documentation "http://help.ubuntu.com">
<!ENTITY ubuntu-documentation-repos "https://docteam.ubuntu.com/repos/trunk">
<!ENTITY ubuntu-doc-team "https://wiki.ubuntu.com/DocumentationTeam">
<!ENTITY ubuntu-doc-list "http://lists.ubuntu.com/mailman/listinfo/ubuntu-doc">
<!ENTITY ubuntu-shipit "http://shipit.ubuntu.com">
<!ENTITY ubuntu-launchpad "https://launchpad.ubuntu.com">
<!ENTITY ubuntu-rosetta "https://launchpad.ubuntu.com/rosetta">
<!ENTITY ubuntu-planet "http://planet.ubuntu.com">
<!ENTITY ubuntu-philosophy "http://www.ubuntu.com/ubuntu/philosophy">
<!ENTITY ubuntu-participate "http://www.ubuntu.com/community/participate/">
<!ENTITY ubuntu-marketplace "http://www.ubuntu.com/support/marketplace">
<!ENTITY ubuntu-hwdb "http://hwdb.ubuntu.com">
<!-- UBUNTU WIKI RESOURCES --><!ENTITY wiki-UserDocumentation "https://help.ubuntu.com/community/UserDocumentation">
<!ENTITY restricted-formats "https://help.ubuntu.com/community/RestrictedFormats">
<!ENTITY wiki-RestrictedFormats "https://help.ubuntu.com/community/RestrictedFormats">
<!ENTITY wiki-XChatHowto "https://help.ubuntu.com/community/XChatHowto">
<!ENTITY wiki-RootSudo "https://help.ubuntu.com/community/RootSudo">
<!ENTITY wiki-HowToGetHelp "https://help.ubuntu.com/community/HowToGetHelp">
<!ENTITY transcode "https://help.ubuntu.com/community/DVDRippingandEncoding">
<!ENTITY wiki-Wine "https://help.ubuntu.com/community/Wine">
<!ENTITY wiki-Cedega "https://help.ubuntu.com/community/Cedega">
<!ENTITY wiki-Nano "https://help.ubuntu.com/community/NanoHowto">
<!ENTITY wiki-locoteams "https://wiki.ubuntu.com/LoCoTeamList">
<!ENTITY wiki-BasicCommands "https://help.ubuntu.com/community/BasicCommands">
<!ENTITY wiki-filepermissions "https://help.ubuntu.com/community/FilePermissions">
<!-- KUBUNTU URL RESOURCES --><!ENTITY kubuntu-web "http://www.kubuntu.org">
<!ENTITY kubuntu-main "http://www.kubuntu.org">
<!ENTITY kubuntu-download "http://releases.ubuntu.com/kubuntu/">
<!ENTITY kubuntu-packages "http://packages.ubuntu.com/edgy/">
<!ENTITY kubuntu-cdpackages-nodefault "http://people.ubuntu.com/~cjwatson/seeds/kubuntu-edgy/ship">
<!ENTITY kubuntu-lists "http://lists.ubuntu.com/archives/kubuntu-users/">
<!ENTITY kubuntu-lists-users "http://lists.ubuntu.com/mailman/listinfo/kubuntu-users/">
<!ENTITY kubuntu-lists-devel "http://lists.ubuntu.com/mailman/listinfo/kubuntu-devel/">
<!ENTITY kubuntu-mirrors "http://distrowatch.com/kubuntu">
<!ENTITY kubuntu-forums "http://kubuntuforums.net">
<!ENTITY kubuntu-wiki "https://wiki.kubuntu.org">
<!ENTITY kubuntu-documentation-site "http://www.kubuntu.org/documentation.php">
<!ENTITY kubuntu-wiki-UserDocumentation "https://help.ubuntu.com/community/UserDocumentation">
<!ENTITY kubuntu-support "http://www.kubuntu.org/support.php">
<!-- XUBUNTU URL RESOURCES --><!ENTITY xubuntu-web "http://www.xubuntu.org">
<!ENTITY xubuntu-main "http://www.xubuntu.org">
<!ENTITY xubuntu-web-help "http://www.xubuntu.org/help">
<!-- DEBIAN RESOURCES --><!ENTITY debian-apt "http://www.debian.org/doc/user-manuals#apt-howto">
<!-- EXTERNAL URL RESOURCES --><!ENTITY linmodem "http://www.linmodems.org/">
<!ENTITY gnome "http://www.gnome.org/">
<!ENTITY linuxorg "http://www.linux.org/">
<!ENTITY ooo "http://www.openoffice.org/">
<!ENTITY kde "http://www.kde.org/">
<!ENTITY lugww "http://lugww.counter.li.org/">
<!ENTITY ubuntu-watch "http://distrowatch.com/ubuntu/">
<!ENTITY realplayer-download "http://www.real.com/linux/">
<!ENTITY nvu-download "http://www.nvu.com/download.html">
<!ENTITY sunjava-download "http://java.sun.com/j2se/1.5.0/download.jsp">
<!ENTITY xorg "http://www.x.org">
<!ENTITY dyndns "http://www.dyndns.org">
<!ENTITY shoutcast "http://www.shoutcast.com/">
<!ENTITY freedomtoaster "http://www.freedomtoaster.org/">
<!ENTITY xfce "http://www.xfce.org/">
<!-- ubuntu-screenshots TODO --><!ENTITY kubuntu-screenshots "http://shots.osdir.com/">
<!ENTITY mozilla "http://www.mozilla.org/">
<!ENTITY mozilla-firefox "http://www.mozilla.org/products/firefox/">
<!ENTITY gnu "http://www.gnu.org/">
<!ENTITY gnu-philosophy "http://www.gnu.org/philosophy/">
<!ENTITY win4lin "http://www.win4lin.com">
<!ENTITY codeweavers "http://www.codeweavers.com">
<!ENTITY kernel "http://www.kernel.org">
<!ENTITY google "http://www.google.com">
<!ENTITY kdelook " http://www.kde-look.org">
<!ENTITY lulu-store "http://www.lulu.com/ubuntu-doc">
<!-- this entity controls the url for addons--><!ENTITY java-download "http://java.sun.com/j2se/1.5.0/download.jsp">
<!ENTITY skype-deb "skype_1.2.0.17-1_i386.deb">
<!ENTITY skype-download "http://www.skype.com/go/getskype-linux-deb">
<!ENTITY scanmodem-gz "scanModem.gz">
<!ENTITY scanmodem-url "http://linmodems.technion.ac.il/packages/scanModem.gz">
<!ENTITY ext2fs-url "http://www.fs-driver.org/index.html">
<!ENTITY mvb-tar "mvb_1.6.tgz">
<!ENTITY mvb-url "http://www.xscd.com/pub/mvb/&mvb-tar;">
<!-- TLDP --><!ENTITY ldp-pre-install-check "http://tldp.org/HOWTO/Pre-Installation-Checklist/">
<!-- LANGUAGES (sorted by two letter code)--><!ENTITY Afar "aa">
<!ENTITY Abkhazian "ab">
<!ENTITY Afrikaans "af">
<!ENTITY Amharic "af">
<!ENTITY Arabic "ar">
<!ENTITY Assamese "as">
<!ENTITY Aymara "ay">
<!ENTITY Azerbaijani "az">
<!ENTITY Bashkir "ba">
<!ENTITY Byelorussian "be">
<!ENTITY Bulgarian "bg">
<!ENTITY Bihari "bh">
<!ENTITY Bislama "bi">
<!ENTITY Bangla "bn">
<!ENTITY Bengali "bn">
<!ENTITY Tibetan "bo">
<!ENTITY Breton "br">
<!ENTITY Catalan "ca">
<!ENTITY Corsican "co">
<!ENTITY Czech "cs">
<!ENTITY Welsh "cy">
<!ENTITY Danish "da">
<!ENTITY German "de">
<!ENTITY Bhutani "dz">
<!ENTITY Greek "el">
<!-- <!ENTITY EnglishAmerican 'en'> --><!ENTITY EnglishAmerican "C">
<!ENTITY Esperanto "eo">
<!ENTITY Spanish "es">
<!ENTITY Estonian "et">
<!ENTITY Basque "eu">
<!ENTITY Persian "fa">
<!ENTITY Finnish "fi">
<!ENTITY Fiji "fj">
<!ENTITY Faeroese "fo">
<!ENTITY French "fr">
<!ENTITY Frisian "fy">
<!ENTITY Irish "ga">
<!ENTITY Gaelic "gd">
<!ENTITY ScotsGaelic "gd">
<!ENTITY Galician "gl">
<!ENTITY Guarani "gn">
<!ENTITY Gujarati "gu">
<!ENTITY Hausa "ha">
<!ENTITY Hindi "hi">
<!ENTITY Croatian "hr">
<!ENTITY Hungarian "hu">
<!ENTITY Armenian "hy">
<!ENTITY Interlingua "ia">
<!ENTITY Interlingue "ie">
<!ENTITY Inupiak "ik">
<!ENTITY Indonesian "in">
<!ENTITY Icelandic "is">
<!ENTITY Italian "it">
<!ENTITY Hebrew "iw">
<!ENTITY Japanese "ja">
<!ENTITY Yiddish "ji">
<!ENTITY Javanese "jw">
<!ENTITY Georgian "ka">
<!ENTITY Kazakh "kk">
<!ENTITY Greenlandic "kl">
<!ENTITY Cambodian "km">
<!ENTITY Kannada "kn">
<!ENTITY Korean "ko">
<!ENTITY Kashmiri "ks">
<!ENTITY Kurdish "ku">
<!ENTITY Kirghiz "ky">
<!ENTITY Latin "la">
<!ENTITY Lingala "ln">
<!ENTITY Laothian "lo">
<!ENTITY Lithuanian "lt">
<!ENTITY Latvian "lv">
<!ENTITY Lettish "lv">
<!ENTITY Malagasy "mg">
<!ENTITY Maori "mi">
<!ENTITY Macedonian "mk">
<!ENTITY Malayalam "ml">
<!ENTITY Mongolian "mn">
<!ENTITY Moldavian "mo">
<!ENTITY Marathi "mr">
<!ENTITY Malay "ms">
<!ENTITY Maltese "mt">
<!ENTITY Burmese "my">
<!ENTITY Nauru "na">
<!ENTITY Nepali "ne">
<!ENTITY Dutch "nl">
<!ENTITY Norwegian "no">
<!ENTITY Occitan "oc">
<!ENTITY Afan "om">
<!ENTITY Oromo "om">
<!ENTITY Oriya "or">
<!ENTITY Punjabi "pa">
<!ENTITY Polish "pl">
<!ENTITY Pushto "ps">
<!ENTITY Pashto "ps">
<!ENTITY Portuguese "pt">
<!ENTITY Quechua "qu">
<!ENTITY Rhaeto-Romance "rm">
<!ENTITY Kirundi "rn">
<!ENTITY Romanian "ro">
<!ENTITY Russian "ru">
<!ENTITY Kinyarwanda "rw">
<!ENTITY Sanskrit "sa">
<!ENTITY Sindhi "sd">
<!ENTITY Sangro "sg">
<!ENTITY Serbo-Croatian "sh">
<!ENTITY Singhalese "si">
<!ENTITY Slovak "sk">
<!ENTITY Slovenian "sl">
<!ENTITY Samoan "sm">
<!ENTITY Shona "sn">
<!ENTITY Somali "so">
<!ENTITY Albanian "sq">
<!ENTITY Serbian "sr">
<!ENTITY Siswati "ss">
<!ENTITY Sesotho "st">
<!ENTITY Sudanese "su">
<!ENTITY Swedish "sv">
<!ENTITY Swahili "sw">
<!ENTITY Tamil "ta">
<!ENTITY Tegulu "te">
<!ENTITY Tajik "tg">
<!ENTITY Thai "th">
<!ENTITY Tigrinya "ti">
<!ENTITY Turkmen "tk">
<!ENTITY Tagalog "tl">
<!ENTITY Setswana "tn">
<!ENTITY Tonga "to">
<!ENTITY Turkish "tr">
<!ENTITY Tsonga "ts">
<!ENTITY Tatar "tt">
<!ENTITY Twi "tw">
<!ENTITY Ukrainian "uk">
<!ENTITY Urdu "ur">
<!ENTITY Uzbek "uz">
<!ENTITY Vietnamese "vi">
<!ENTITY Volapuk "vo">
<!ENTITY Wolof "wo">
<!ENTITY Xhosa "xh">
<!ENTITY Yoruba "yo">
<!ENTITY Chinese "zh">
<!ENTITY Zulu "zu">
<!ENTITY % genericent SYSTEM "../../libs/generic.ent">
<!ENTITY sg-title "Server Guide">
<!ENTITY secguide-title "Security Guide">
<!ENTITY installguide-rev "0.1">
<!ENTITY % cdo-C SYSTEM "../../../libs/cdo-C.ent">
<!-- COMMON DOC OBJECTS --><!ENTITY copyright SYSTEM "../common/C/copyright.xml">
<!ENTITY conventions SYSTEM "../common/C/conventions.xml">
<!ENTITY feedback SYSTEM "../common/C/feedback.xml">
<!ENTITY publisher SYSTEM "../common/C/publisher.xml">
<!ENTITY disclaimer SYSTEM "../common/C/disclaimer.xml">
<!ENTITY inline-ubuntu-icon SYSTEM "../common/C/inlinemediaobject-ubuntu-icon.xml">
<!ENTITY inline-ubuntu-icon-header SYSTEM "../common/C/inlinemediaobject-ubuntu-icon-header.xml">
<!ENTITY relative-ubuntu-icon SYSTEM "../common/C/mediaobject-relative-ubuntu-icon.xml">
<!ENTITY ubuntu-icon SYSTEM "../common/C/mediaobject-ubuntu-icon.xml">
<!ENTITY gpl SYSTEM "../common/C/gpl.xml">
<!ENTITY fdl SYSTEM "../common/C/fdl.xml">
<!ENTITY cc-by-sa SYSTEM "../common/C/ccbysa.xml">
<!ENTITY licenses SYSTEM "../common/C/licenses.xml">
<!ENTITY legalnotice SYSTEM "../common/C/legalnotice.xml">
<!ENTITY klegalnotice SYSTEM "../kubuntu/libs/legalnotice.xml">
<!ENTITY % gnome-menus-C SYSTEM "../../../ubuntu/libs/gnome-menus-C.ent">
<!-- MENUS --><!-- Please keep entries alphabetical, it makes them much easier to find & use --><!ENTITY about-me "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>About-me</guimenuitem></menuchoice>">
<!ENTITY accessories "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem></menuchoice>">
<!ENTITY acro-read "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>Acrobat Reader</guimenuitem></menuchoice>">
<!ENTITY administration "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem></menuchoice>">
<!ENTITY aisleriot "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Games</guimenuitem><guimenuitem>AisleRiot Solitaire</guimenuitem></menuchoice>">
<!ENTITY amule "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>aMule</guimenuitem></menuchoice>">
<!ENTITY archive-man "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Archive Manager</guimenuitem></menuchoice>">
<!ENTITY assistive-technology-preferences "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Assistive Technology Support</guimenuitem></menuchoice>">
<!ENTITY audacity "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Sound &amp; Video</guisubmenu><guimenuitem>Audacity</guimenuitem></menuchoice>">
<!ENTITY azureus "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Azureus</guimenuitem></menuchoice>">
<!ENTITY baobab "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Disk Usage Analyzer</guimenuitem></menuchoice>">
<!ENTITY bittorrent "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Bittorrent</guimenuitem></menuchoice>">
<!ENTITY blender3d "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>Blender 3d modeller</guimenuitem></menuchoice>">
<!ENTITY bluefish "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Programming</guimenuitem><guimenuitem>Bluefish Editor</guimenuitem></menuchoice>">
<!ENTITY boot "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Boot</guimenuitem></menuchoice>">
<!ENTITY bum "<menuchoice><guimenu>System</guimenu><guisubmenu>Administration</guisubmenu><guimenuitem>Boot-up Manager</guimenuitem></menuchoice>">
<!ENTITY calculator "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Calculator</guimenuitem></menuchoice>">
<!ENTITY character-map "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Character Map</guimenuitem></menuchoice>">
<!ENTITY compizconfig "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>CompizConfig Settings Manager</guimenuitem></menuchoice>">
<!ENTITY computer "<menuchoice><guimenu>Places</guimenu><guimenuitem>Computer</guimenuitem></menuchoice>">
<!ENTITY cowbell "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Sound &amp; Video</guisubmenu><guimenuitem>Cowbell Music Organizer</guimenuitem>	</menuchoice>">
<!ENTITY chromium "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Chromium</guisubmenu></menuchoice>">
<!ENTITY desktop-background "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Desktop Background</guimenuitem></menuchoice>">
<!ENTITY desktop-effects "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Appearance</guimenuitem><guimenuitem>Desktop Effects</guimenuitem></menuchoice>">
<!ENTITY desktop-preferences "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem></menuchoice>">
<!ENTITY devhelp "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Programming</guisubmenu><guimenuitem>Devhelp</guimenuitem></menuchoice>">
<!ENTITY device-manager "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Device Manager</guimenuitem></menuchoice>">
<!ENTITY dictionary "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Dictionary</guimenuitem></menuchoice>">
<!ENTITY disks "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Disks</guimenuitem></menuchoice>">
<!ENTITY downloader-x "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Downloader for X</guimenuitem></menuchoice>">
<!ENTITY eclipse-ide "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Programming</guimenuitem><guimenuitem>Eclipse IDE</guimenuitem></menuchoice>">
<!ENTITY ekiga "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Internet</guimenuitem><guimenuitem>Ekiga Softphone</guimenuitem></menuchoice>">
<!ENTITY efax-gtk "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Office</guisubmenu><guimenuitem>Efax-gtk</guimenuitem></menuchoice>">
<!ENTITY etherape "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Etherape</guimenuitem></menuchoice>">
<!ENTITY evolution-mail "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Evolution Mail</guimenuitem></menuchoice>">
<!ENTITY file-management "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>File Management</guimenuitem></menuchoice>">
<!ENTITY firefox "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Internet</guisubmenu><guimenuitem>Firefox Web Browser</guimenuitem></menuchoice>">
<!ENTITY firestarter-firewall-tool "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Firestarter</guimenuitem></menuchoice>">
<!ENTITY five-or-more "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Games</guimenuitem><guimenuitem>Five or More</guimenuitem></menuchoice>">
<!ENTITY font "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Font</guimenuitem></menuchoice>">
<!ENTITY f-spot "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>F-Spot Photo Manager</guimenuitem></menuchoice>">
<!ENTITY frozen-bubble "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Frozen Bubble</guisubmenu></menuchoice> to play <application>Frozen Bubble</application>">
<!ENTITY gambas "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Programming</guimenuitem><guimenuitem>Gambas</guimenuitem></menuchoice>">
<!ENTITY games "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Games</guimenuitem></menuchoice>">
<!ENTITY gdesklets "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Accessories</guisubmenu><guimenuitem>gDesklets</guimenuitem></menuchoice>">
<!ENTITY gftp "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>gFTP</guimenuitem></menuchoice>">
<!ENTITY gimp "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>GIMP Image Editor</guimenuitem></menuchoice>">
<!ENTITY gnome-app-install "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Add/Remove...</guimenuitem></menuchoice>">
<!ENTITY gnome-config-editor "<screen><command>gconf-editor</command></screen>">
<!ENTITY gparted "<menuchoice><guimenu>System</guimenu><guisubmenu>Administration </guisubmenu><guimenuitem>Gnome Partition Editor</guimenuitem></menuchoice>">
<!ENTITY graphics "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem></menuchoice>">
<!ENTITY gthumb "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>gThumb Image Viewer</guimenuitem></menuchoice>">
<!ENTITY gtkpod "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Sound &amp; Video</guisubmenu><guimenuitem>gtkpod</guimenuitem></menuchoice>">
<!ENTITY gnucash "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>GnuCash Finance Management</guimenuitem></menuchoice>">
<!ENTITY home-folder "<menuchoice><guimenu>Places</guimenu><guimenuitem>Home Folder</guimenuitem></menuchoice>">
<!ENTITY homebank "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>HomeBank</guimenuitem></menuchoice>">
<!ENTITY hubackup "<menuchoice><guimenu>System</guimenu><guisubmenu>Administration</guisubmenu><guimenuitem>Home User Backup</guimenuitem></menuchoice>">
<!ENTITY hurestore "<menuchoice><guimenu>System</guimenu><guisubmenu>Administration</guisubmenu><guimenuitem>Home User Restore</guimenuitem></menuchoice>">
<!ENTITY inkscape "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>Inkscape SVG Vector Illustrator</guimenuitem></menuchoice>">
<!ENTITY internet "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem></menuchoice>">
<!ENTITY kdevelop "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Programming</guisubmenu><guimenuitem>KDevelop</guimenuitem></menuchoice>">
<!ENTITY keyboard "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Keyboard</guimenuitem></menuchoice>">
<!ENTITY keyboard-shortcuts "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Keyboard Shortcuts</guimenuitem></menuchoice>">
<!ENTITY liferea "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Liferea Feed Reader</guimenuitem></menuchoice>">
<!ENTITY limewire "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>LimeWire</guimenuitem></menuchoice>">
<!ENTITY login-screen-setup "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Login Window</guimenuitem></menuchoice>">
<!ENTITY logout "<menuchoice><guimenu>System</guimenu><guimenuitem>Log Out</guimenuitem></menuchoice>">
<!ENTITY mahjongg "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Games</guimenuitem><guimenuitem>Mahjongg</guimenuitem></menuchoice>">
<!ENTITY menu-editor "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Accessories</guisubmenu><guimenuitem>Applications Menu Editor</guimenuitem></menuchoice>">
<!ENTITY menus-and-toolbars "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Menus &amp; Toolbars</guimenuitem></menuchoice>">
<!ENTITY monodevelop "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Programming</guimenuitem><guimenuitem>MonoDevelop</guimenuitem></menuchoice>">
<!ENTITY monodoc "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Programming</guimenuitem><guimenuitem>MonoDoc</guimenuitem></menuchoice>">
<!ENTITY mouse "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Mouse</guimenuitem></menuchoice>">
<!ENTITY multimedia-systems-selector "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Multimedia Systems Selector</guimenuitem></menuchoice>">
<!ENTITY ndisgtk "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Windows Wireless Drivers</guimenuitem></menuchoice>">
<!ENTITY network-proxy "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Network Proxy</guimenuitem></menuchoice>">
<!ENTITY network-tools "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Network Tools</guimenuitem></menuchoice>">
<!ENTITY networking "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Network</guimenuitem></menuchoice>">
<!ENTITY network-servers "<menuchoice><guimenu>Places</guimenu><guimenuitem>Network</guimenuitem></menuchoice>">
<!ENTITY neverball "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Neverball</guisubmenu></menuchoice>">
<!ENTITY neverputt "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Neverputt</guisubmenu></menuchoice>">
<!ENTITY nexuiz "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Nexuiz</guisubmenu></menuchoice>">
<!ENTITY open-office "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem></menuchoice>">
<!ENTITY openoffice-base "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>OpenOffice.org Database</guimenuitem></menuchoice>">
<!ENTITY openoffice-draw "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>OpenOffice.org Draw</guimenuitem></menuchoice>">
<!ENTITY openoffice-presentation "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>OpenOffice.org Presentation</guimenuitem></menuchoice>">
<!ENTITY openoffice-spreadsheet "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>OpenOffice.org Spreadsheet</guimenuitem></menuchoice>">
<!ENTITY openoffice-writer "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>OpenOffice.org Word Processor</guimenuitem></menuchoice>">
<!ENTITY palmos-devices "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>PalmOS Devices</guimenuitem></menuchoice>">
<!ENTITY pan "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Pan Newsreader</guimenuitem></menuchoice>">
<!ENTITY photoprint "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>PhotoPrint</guimenuitem></menuchoice>">
<!ENTITY pidgin "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Pidgin Internet Messenger</guimenuitem></menuchoice>">
<!ENTITY power-management "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Power Management</guimenuitem></menuchoice>">
<!ENTITY ppracer "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Planet Penguin Racer</guisubmenu></menuchoice>">
<!ENTITY preferences "<menuchoice><guimenu>System</guimenu><guisubmenu>Preferences</guisubmenu></menuchoice>">
<!ENTITY preferred-applications "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Preferred Applications</guimenuitem></menuchoice>">
<!ENTITY printing "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Printing</guimenuitem></menuchoice>">
<!ENTITY qtparted "<menuchoice><guimenu>Applications</guimenu><guimenuitem>System Tools</guimenuitem><guimenuitem>QTParted</guimenuitem></menuchoice>">
<!ENTITY quit "<menuchoice><guimenu>System</guimenu><guimenuitem>Quit...</guimenuitem></menuchoice>">
<!ENTITY remote-desktop "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Remote Desktop</guimenuitem></menuchoice>">
<!ENTITY removable-drives-and-media "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Removable Drives and Media</guimenuitem></menuchoice>">
<!ENTITY realplayer "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>RealPlayer [version #]</guimenuitem></menuchoice>">
<!ENTITY restricted-manager "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Restricted Drivers Manager</guimenuitem></menuchoice>">
<!ENTITY rhythmbox "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>Rhythmbox Music Player</guimenuitem></menuchoice>">
<!ENTITY route-planner "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>aMule</guimenuitem></menuchoice>">
<!ENTITY scorched3d "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guimenuitem>Scorched 3D</guimenuitem></menuchoice>">
<!ENTITY screen-resolution "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Screen Resolution</guimenuitem></menuchoice>">
<!ENTITY screensaver "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Screensaver</guimenuitem></menuchoice>">
<!ENTITY scribus "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>Scribus</guimenuitem></menuchoice>">
<!ENTITY serpentine "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>Serpentine Audio CD Creator</guimenuitem></menuchoice>">
<!ENTITY services "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Services</guimenuitem></menuchoice>">
<!ENTITY sessions "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Sessions</guimenuitem></menuchoice>">
<!ENTITY shared-folders "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Shared Folders</guimenuitem></menuchoice>">
<!ENTITY skype "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Skype</guimenuitem></menuchoice>">
<!ENTITY software-properties "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Software Sources</guimenuitem></menuchoice>">
<!ENTITY sound "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Sound</guimenuitem></menuchoice>">
<!ENTITY soundandvideo "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem></menuchoice>">
<!ENTITY soundjuicer "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>Sound Juicer CD Extractor</guimenuitem></menuchoice>">
<!ENTITY supertux "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>SuperTux</guisubmenu></menuchoice>">
<!ENTITY synaptic "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Synaptic Package Manager</guimenuitem></menuchoice>">
<!ENTITY system-monitor "<menuchoice><guimenu>System</guimenu><guisubmenu>Administration</guisubmenu><guimenuitem>System Monitor</guimenuitem></menuchoice>">
<!ENTITY systemtools "<menuchoice><guimenu>Applications</guimenu><guimenuitem>System Tools</guimenuitem></menuchoice>">
<!ENTITY terminal "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Terminal</guimenuitem></menuchoice>">
<!ENTITY text-editor "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Text Editor</guimenuitem></menuchoice>">
<!ENTITY theme "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Theme</guimenuitem></menuchoice>">
<!ENTITY thunderbird "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Thunderbird Mail Client</guimenuitem></menuchoice>">
<!ENTITY time-date "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Time and Date</guimenuitem></menuchoice>">
<!ENTITY totem "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>Movie Player</guimenuitem></menuchoice>">
<!ENTITY touchpad "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Touchpad</guimenuitem></menuchoice>">
<!ENTITY tremulous "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Tremulous</guisubmenu></menuchoice>">
<!ENTITY ubuntu-update-manager "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Ubuntu Update Manager</guimenuitem></menuchoice>">
<!ENTITY update-manager "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Update Manager</guimenuitem></menuchoice>">
<!ENTITY users "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Users and Groups</guimenuitem></menuchoice>">
<!ENTITY users-groups "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Users and Groups</guimenuitem></menuchoice>">
<!ENTITY windows "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Windows</guimenuitem></menuchoice>">
<!ENTITY wireshark "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Wireshark</guimenuitem></menuchoice>">
<!ENTITY xchat-gnome "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Xchat-GNOME IRC Chat</guimenuitem></menuchoice>">
<!ENTITY xine "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>xine</guimenuitem></menuchoice>">
<!ENTITY xmms "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>XMMS</guimenuitem></menuchoice>">
<!ENTITY xsane "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>XSane Image Scanner</guimenuitem></menuchoice>">
<!ENTITY % xinclude SYSTEM "../../../libs/xinclude.mod">
<!ELEMENT xi:include (xi:fallback)?>
<!ATTLIST xi:include xmlns:xi CDATA #FIXED "http://www.w3.org/2001/XInclude">
<!ATTLIST xi:include href CDATA #REQUIRED>
<!ATTLIST xi:include parse (xml | text) "xml">
<!ATTLIST xi:include xpointer CDATA #IMPLIED>
<!ATTLIST xi:include encoding CDATA #IMPLIED>
<!ATTLIST xi:include accept CDATA #IMPLIED>
<!ATTLIST xi:include accept-charset CDATA #IMPLIED>
<!ATTLIST xi:include accept-language CDATA #IMPLIED>
<!ELEMENT xi:fallback ANY>
<!ATTLIST xi:fallback xmlns:xi CDATA #FIXED "http://www.w3.org/2001/XInclude">
<!ENTITY % local.preface.class "| xi:include">
<!ENTITY % local.part.class "| xi:include">
<!ENTITY % local.chapter.class "| xi:include">
<!ENTITY % local.divcomponent.mix "| xi:include">
<!ENTITY % local.para.char.mix "| xi:include">
<!ENTITY % local.info.class "| xi:include">
<!ENTITY % local.common.attrib "xmlns:xi            CDATA       #FIXED       'http://www.w3.org/2001/XInclude'">
<!ENTITY language "&EnglishAmerican;">
]>
<chapter id="networking" status="complete">
	<title>Rede</title>
  <para>Uma rede consiste em dois ou mais dispositivos, tais como computadores, impressoras e equipamento relacionado ligados por cablagem ou sem fios com a finalidade de partilhar e distribuir informação entre os dispositivos ligados.</para>
  <para>Esta secção do Guia do Servidor Ubuntu fornece informação geral e específica sobre redes, incluindo uma apresentação de conceitos de redes e uma discussão detalhada dos protocolos de rede e aplicações de servidor mais populares.</para>
	<sect1 id="network-configuration" status="complete">
		<title>Configuração de Rede</title>
          <para>O Ubuntu vem com alguns utilitários em ambiente gráfico para configuração de dispositivos de rede.  Este documento está orientado para administradores de servidores, e focar-se-á na gestão da rede a partir da linha de comandos.</para>
      <sect2 id="ethernet" status="complete">
        <title>Ethernet</title> 
          <para>A maioria da configuração dos dispositivos ethernet está centralizada num único ficheiro, <filename>/etc/network/interfaces</filename>. Se não tiver dispositivos ethernet, apenas a interface loopback aparecerá neste ficheiro, de forma semelhante a esta: <screen># Este ficheiro descreve os interfaces de rede disponíveis no seu sistema
# e como os activar. Para mais informação veja o manual de interfaces(5).

# A interface de rede loopback
auto lo
iface lo inet loopback
address 127.0.0.1
netmask 255.0.0.0</screen> Se tiver apenas um dispositivo ethernet, eth0, que obtém a sua configuração de um servidor DHCP, e que deva ser activado automaticamente no arranque do sistema, são necessárias apenas duas linhas adicionais: <screen>auto eth0
iface eth0 inet dhcp</screen> A primeira linha especifica que que o dispositivo eth0 deve  ser automaticamente activado no arranque. A segunda linha significa que a interface (<quote>iface</quote>) eth0 deve ter um endereço IPv4 (substitua <quote>inet</quote> por <quote>inet6</quote> para um dispositivo IPv6) e que deve obter a sua configuração automaticamente a partir de DHCP. Assumindo que a sua rede e o servidor DHCP estão correctamente configurados, esta máquina não deve necessitar de configuração adicional para funcionar. O servidor DHCP fornecerá a porta de ligação (gateway) por omissão (implementado através do comando <application>route</application>), o endereço IP do dispositivo (implementado através do comando <application>ifconfig</application>, e os servidores de DNS utilizados na rede (implementado no ficheiro <filename>/etc/resolv.conf</filename>).</para>
		<para>Para configurar o seu dispositivo ethernet com um endereço IP fixo e uma configuração personalizada, algumas informações serão necessárias. Suponha que pretende atribuir o endereço IP 192.168.0.2 ao dispositivo eth1, com a máscara de rede habitual 255.255.255.0. A sua porta de ligação por omissão é 192.168.0.1 .  Deverá introduzir o seguinte no ficheiro <filename>/etc/network/interfaces</filename>: <screen>iface eth1 inet static
	address 192.168.0.2
	netmask 255.255.255.0
	gateway 192.168.0.1</screen> Neste caso necessita especificar os servidores de DNS manualmente em <filename>/etc/resolv.conf</filename>, que deverá ficar semelhante a isto: <screen>search mydomain.com
nameserver 192.168.0.1
nameserver 4.2.2.2</screen> A directiva <emphasis role="italics">search</emphasis> acrescenta mydomain.com às pesquisas de nomes de computadores ao tentar resolver nomes na sua rede. Por exemplo, se o domínio da sua rede for mydomain.com e você tentar efectuar um ping para o computador <quote>mybox</quote>, a pesquisa de DNS será modificada para <quote>mybox.mydomain.com</quote> para resolução de nomes. As directivas <emphasis role="italics">nameserver</emphasis> especificam os servidores de DNS a utilizar para converter os nomes dos computadores para endereços IP. Se você utilizar os seus próprios servidores de nomes, coloque-os aqui. Caso contrário, pergunte ao seu Fornecedor de Serviços de Internet quais os servidores de DNS primário e secundário a utilizar, e coloque-os no <filename>/etc/resolv.conf</filename> como indicado acima.</para>
		<para>Muitas mais configurações são possíveis, incluindo interfaces de marcação telefónica PPP, redes IPv6, dispositivos VPN, etc.. Consulte <application>man 5 interfaces</application> para saber mais informações e opções suportadas. Lembre-se que o ficheiro <filename>/etc/network/interfaces</filename> é utilizado pelos scripts <application>ifup</application>/<application>ifdown</application> como a configuração de mais alto nível que pode ser utilizada noutras distribuições de Linux, e que os tradicionais utilitários de baixo nível, tais como <application>ifconfig</application>, <application>route</application>, e <application>dhclient</application> ainda estão disponíveis para configurações ad hoc.</para>
      </sect2>
      <sect2 id="managing-dns-entries" status="complete">
          <title>Gerindo Entradas de DNS</title>
            <para>Esta secção explica como configurar o servidor de nomes a utilizar aquando da conversão de endereços IP para nomes de máquinas e vice versa. Não explica como configurar um sistema como servidor de nomes.</para>
            <para>Para gerir entradas de DNS, pode adicionar, editar ou remover nomes de DNS do ficheiro <filename>/etc/resolv.conf</filename>. Um ficheiro de exemplo <ulink url="../sample/resolv.conf">sample file</ulink> é dado abaixo:</para>
<programlisting>
search com
nameserver 204.11.126.131
nameserver 64.125.134.133
nameserver 64.125.134.132
nameserver 208.185.179.218
</programlisting>
            
            <para>A palavra <application>search</application> indica a cadeia de carácteres a juntar no final de um nome de computador incompleto. Aqui, mencioná-mo-lo como <application>com</application>. Assim, quando executamos o comando: <command>ping ubuntu</command>, ele será interpretado como <command>ping ubuntu.com</command>.</para> 

            <para>A palavra <application>nameserver</application> indica o endereço IP do servidor de nomes. Este será utilizado para determinar um endereço IP ou um nome de computador. Este ficheiro pode ter entradas para vários servidores de nomes. Os servidores de nomes serão utilizadores pela pesquisa de rede pela mesma ordem.</para>

            <warning>
            <para>
            If the DNS server names are retrieved dynamically from DHCP
            or PPPoE (retrieved from your ISP), do not add nameserver
            entries in this file. It will be updated automatically.
           </para>
            </warning>

            <warning>
            <para>As alteraões que fizer no <filename>/etc/resolv.conf</filename> serão apagadas quando reiniciar o sistema. Se deseja tornar estas alterações permanentes deve instalar o pacote <application>resolvconf</application> e actualizar a informaçao de DNS no ficheiro <filename>/etc/resolvconf/resolv.conf.d/base</filename> fornecido por este pacote.</para>
            </warning>
        </sect2>
        <sect2 id="managing-hosts" status="complete">
          <title>Gerindo Computadores</title>
            <para>Para gerir servidores, pode adicionar, editar, ou remover servidores do ficheiro <filename>/etc/hosts</filename>. Este ficheiro contém endereços IP e os correspondentes nomes associados. Quando o seu sistema tenta traduzir o nome de uma máquina para um endereço IP ou determinar o nome de uma máquina para um endereço IP, vai verificar o ficheiro <filename>/etc/hosts</filename> antes de recorrer aos servidores de nomes. Se o endereço IP está listado no ficheiro <filename>/etc/hosts</filename>, os servidores de nomes não são utilizados. Este comportamento pode ser alterado por edição do ficheiro <filename> /etc/nsswitch.conf</filename>.</para>

            <para>Se a sua rede contém computadores cujos endereços IP não estão listados em DNS, é recomendado que os adicione ao ficheiro <filename>/etc/hosts</filename>.</para>
        </sect2>
    </sect1>
	<sect1 id="tcpip" status="complete">
		<title>TCP/IP</title>
          <para>O <emphasis role="italics">Transmission Control Protocol</emphasis> e o <emphasis role="italics">Internet Protocol</emphasis> (TCP/IP) é um conjunto padrão de protocolos desenvolvido nos finais dos anos 70 pelo Defense Advanced Research Projects Agency (DARPA) como forma de comunicação entre diferentes tipos de computadores e redes de computadores. O TCP/IP é a força impulsionadora da Internet, e como tal este é o conjunto de protocolos mais populares da Terra.</para>
      <sect2 id="tcpip-introduction" status="complete">
        <title>Introdução ao TCP/IP</title> 
          <para>Os dois componentes do protocolo TCP/IP lidam com diferentes aspectos das redes de computadores. O <emphasis>Internet Protocol</emphasis>, o "IP" do TCP/IP é um protocolo independente da conexão que lida apenas com o encaminhamento de pacotes na rede utilizando o <emphasis role="italics">IP datagram</emphasis> como a unidade básica de informação na rede. O datagrama IP consiste num cabeçalho seguido de uma mensagem. O <emphasis>Transmission Control Protocol</emphasis> é o "TCP" do TCP/IP e permite aos computadores da rede estabelecer ligações que podem ser utilizadas para intercâmbio de séries de dados. O TCP também garante que os dados entre ligações são entregues e chegam a um computador da rede pela mesma ordem em que foram enviados de outro computador da rede.</para>
          </sect2>
        <sect2 id="tcpip-configuration" status="complete">
          <title>Configuração de TCP/IP</title>
            <para>A configuração do protocolo TCP/IP consiste em vários elementos que devem ser ajustados editando os ficheiros apropriados, ou aplicando soluções tais como o servidor Dynamic Host Configuration Protocol (DHCP) que por sua vez pode ser configurado para fornecer as configurações de TCP/IP correctas ao cliente, automaticamente. Os dados desta configuração devem ser ajustados correctamente por forma a facilitar o correcto funcionamento na rede do seu sistema Ubuntu.</para>
            <para>Os elementos da configuração comum do TCP/IP e as suas finalidades são as seguintes <itemizedlist>
               <listitem>
                  <para><emphasis role="bold">Endereço IP</emphasis> O endereço IP é um identificador único apresentado como quatro números decimais limitados entre zero (0) e duzentos e cinquenta e cinco (255), separados por pontos (.), cada um dos quatro números reprensenta oito (8) bits do endereço, para um comprimento total do endereço de trinta e dois (32) bits. Este formato é chamado <emphasis>dotted quad notation</emphasis>.</para>
               </listitem>
               <listitem>
                  <para><emphasis role="bold">Netmask</emphasis> A Máscara de Sub-rede, (ou simplesmente <emphasis>netmask</emphasis> é uma máscara de bits, ou um conjuntos de marcas que separam as partes do endereço IP significativas para a rede, das significativas para a <emphasis>sub-rede</emphasis>. Por exemplo, numa rede classe C, a máscara de rede padrão é 255.255.255.0 o que mascára os três primeiros bytes do endereço IP e permite que o último byte se mantenha disponível para indicar os computadores na sub-rede.</para>
               </listitem>
               <listitem>
                  <para><emphasis role="bold">Endereço de Rede</emphasis> O Endereço de Rede representa os bytes correspondentes a porção relativa à rede de um endereço IP. Por exemplo, a máquina 12.128.1.2 numa rede da Classe A que utilize o 12.0.0.0 como endereço de rede, utiliza o doze (12) para representar o primeiro byte do endereço IP, (parte relativa à rede) e zeros (0) em todos os três bytes restantes para representar potenciais endereços de máquinas. Máquinas numa rede utilizando os endereços IP privados como o 192.168.1.100, muito comuns, utilizariam por sua vez um Endereço de Rede 192.168.1.0, que especifica os primeiros três bytes de uma rede da Classe C 192.168.1 e zero (0) para todos os possíveis endereços de máquinas na rede.</para>
               </listitem>
               <listitem>
                  <para><emphasis role="bold">Endereço de Difusão</emphasis> O Endereço de difusão <emphasis role="italics">Broadcast Address</emphasis> é um endereço que permite o envio de dados da rede para todos os computadores de uma sub-rede simultaneamente, em vez de especificar um computador em particular. O endereço de difusão padrão para redes IP é 255.255.255.255, mas este endereço de difusão não pode ser utilizado para enviar uma mensagem para todos os computadores na Internet porque os <emphasis role="italics">routers</emphasis> o bloqueiam. Por exemplo, para o popular IP de redes privadas Classe C 192.168.1.0, o endereço de difusão deve ser configurado como 192.168.1.255. Mensagens de Difusão <emphasis role="italics">Broadcast Messages</emphasis> são habitualmente produzidas por protocolos de rede tais como o Address Resolution Protocol (ARP) e o Routing Information Protocol (RIP).</para>
               </listitem>
               <listitem>
                  <para><emphasis role="bold">Porta de Ligação</emphasis> A Porta de Ligação <emphasis role="italics">Gateway</emphasis>, é o endereço IP pelo qual uma rede em particular ou um computador na rede pode ser alcançado. Se um computador da rede deseja comunicar com outro, e esse outro não está localizado na mesma rede, então uma <emphasis>porta de ligação</emphasis> tem que ser utilizada. Em muitos casos, o Endereço da Porta de Ligação será o de um <emphasis role="italics">router</emphasis> da mesma rede, que por sua vez fará a passagem do tráfego para outras redes ou computadores, tais como Servidores de Internet. O valor do endereço da Porta de Ligação tem que ser correcto, caso contrário o seu sistema não poderá comunicar com outros computadores fora da mesma rede.</para>
               </listitem>
               <listitem>
                  <para><emphasis role="bold">Endereço dos Servidores de Nomes</emphasis> Os Endereços de Servidores de Nomes <emphasis role="italics">Nameserver Addresses</emphasis> representam os endereços IP dos sistemas dos Serviços de Nomes de Domínios <emphasis role="bold">Domain Name Service</emphasis> (DNS) que convertem (resolvem) o nome dos computadores em endereços IP. Existem três níveis de Endereços de Servidores de Nomes que podem ser especificados por ordem de precedência: O Servidor de Nomes <emphasis>Primário</emphasis>, o Servidor de Nomes <emphasis>Secundário</emphasis> e o Servidor de Nomes <emphasis>Terciário</emphasis>. Para que o seu sistema tenha capacidade de converter os nomes dos computadores nos respectivos endereços IP, tem que especificar Endereços de Servidores de Nomes válidos, para os quais tenha permissões para utilizar na configuração TCP/IP do seu sistema. Em muitos casos estes endereços podem ser, e são, fornecidos pelo seu fornecedor de serviços de rede, mas existem muitos servidores de nomes de acesso público e gratuito, tais como os servidores de nível 3 (Verizon) com endereços IP desde 4.2.2.1 até 4.2.2.6 .</para>
                     <tip>
                        <para>O endereço IP, máscara de rede <emphasis role="italics">Netmask</emphasis>, endereço da rede <emphasis role="italics">Network Address</emphasis>, endereço de difusão <emphasis role="italics">Broadcast Address</emphasis>e o endereço da porta de ligação <emphasis role="italics">Gateway Address</emphasis> são geralmente especificados através de directivas apropriadas no ficheiro <filename>/etc/network/interfaces</filename> . Os Endereços dos Servidores de Nomes <emphasis role="italics">Nameserver Addresses</emphasis> são geralmente especificados através das directivas <emphasis>nameserver</emphasis> no ficheiro <filename>/etc/resolv.conf</filename> . Para mais informação, consulte a página do manual do sistema para <filename>interfaces</filename> ou <filename>resolv.conf</filename> respectivamente, introduzindo os seguintes comandos na linha de comandos:</para>
                     </tip>
                    <para>Aceda à página do manual de sistema para <filename>interfaces</filename> com o seguinte comando:</para>
                    <para>
<screen>
<command>man interfaces</command>
</screen>
                    </para>
                    <para>Aceda à página do manual de sistema para <filename>resolv.conf</filename> com o seguinte comando:</para>
                    <para>
<screen><command>man resolv.conf</command></screen>
                    </para>
               </listitem>
            </itemizedlist></para>
        </sect2>
        <sect2 id="ip-routing" status="complete">
          <title>Encaminhamento IP</title>
            <para>O encaminhamento de IP <emphasis role="italics">IP Routing</emphasis> é a forma de especificar e descobrir caminhos numa rede TPC/IP pelos quais os dados da rede podem ser enviados. O encaminhamento utiliza um conjunto de <emphasis>tabelas de encaminhamento</emphasis> <emphasis role="italics">routing tables</emphasis> para dirigir o envio de pacotes de dados da rede desde a sua origem até ao seu destino, frequentemente através de muitos nós de rede intermediários conhecidos como <emphasis>routers</emphasis>. O Encaminhamento de IP é a principal forma de descobrir caminhos na Internet. Existem duas formas principais de Encaminhamento de IP: <emphasis>Encaminhamento Estático</emphasis> <emphasis role="italics">Static Routing</emphasis> e <emphasis>Encaminhamento Dinâmico</emphasis>  <emphasis role="italics">Dynamic Routing</emphasis>.</para>
            <para>
            Static routing involves manually adding IP routes to the system's routing table, and this is usually
            done by manipulating the routing table with the <application>route</application> command. Static routing enjoys
            many advantages over dynamic routing, such as simplicity of implementation on smaller networks, 
            predictability (the routing table is always computed in advance, and thus the route is precisely the 
            same each time it is used), and low overhead on other routers and network links due to the lack of a
            dynamic routing protocol.  However, static routing does present some disadvantages as well.  For example,
            static routing is limited to small networks and does not scale well.  Static routing also fails completely
            to adapt to network outages and failures along the route due to the fixed nature of the route. 
            </para>
            <para>O Encaminhamento Dinâmico depende de redes grandes, com múltiplas rotas IP possíveis desde a origem até ao destino, e utiliza protocolos de encaminhamento especiais, tais como o Protocolo de Informação de Rotas <emphasis role="italics">Router Information Protocol</emphasis> (RIP), que maneja os ajustes automáticos das tabelas de encaminhamento que tornam o encaminhamento dinâmico possível. O encaminhamento dinâmico tem várias vantajens sobre o encaminhamento estático, tais como uma maior escalabilidade e a capacidade para se adaptar a falhas e quebras ao longo dos caminhos da rede. Adicionalmente, são necessárias menos configurações manuais das tabelas de encaminhamento, dado que os <emphasis role="italics">routers</emphasis> aprendem uns com os outros acerca da sua existência e dos caminhos (rotas) possíveis. Isto também elimina a possibilidade de introduzir erros nas tabelas de encaminhamento por erro humano. No entanto o encaminhamento dinâmico não é perfeito, e apresenta desvantagens como sejam, maior complexidade e sobrecarga adicional nas comunicações dos <emphasis role="italics">routers</emphasis>, o que não beneficia os utilizadores finais, e ainda consome largura de banda.</para>
        </sect2>
        <sect2 id="tcp-and-udp" status="complete">
          <title>TCP e UDP</title>
            <para>O TCP é um protocolo baseado na ligação, e oferece correcção de erros e a garantia de entrega de dados através daquilo que é conhecido como <emphasis>controlo de fluxo<emphasis> <emphasis role="italics">flow control</emphasis>. O controlo de fluxo determina quando é necessário parar o envio de dados, e reenviar dados já enviados devido a problemas, como por exemplo <emphasis>colisões</emphasis>, isto assegura a completa e correcta entrega dos dados. O TCP é tipicamente utilizado para troca de informações importantes como sejam as transacções de bases de dados.</emphasis></emphasis></para>
            <para>O Protocolo de Datagrama do Utilizador <emphasis role="italics">User Datagram Protocol</emphasis> (UDP), por outro lado, é um protocolo <emphasis>independente da ligação</emphasis> <emphasis>connectionless</emphasis> que raramente lida com a transmissão de dados importantes, dado que não possui controlo de fluxo ou qualquer outro método que assegure uma entrega fiável dos dados. O UDP é habitualmente utilizado em aplicações como a transmissão de áudio e vídeo, visto ser consideravelmente mais rápido que o TCP, exactamente por não ter a correcção de erros e o controlo de fluxo, e em que a perda de alguns pacotes não é catrastófica.</para>
        </sect2>
        <sect2 id="icmp" status="complete">
          <title>ICMP</title>
            <para>O Protocolo de Controlo de Mensagens da Internet <emphasis role="italics">Internet Control Messaging Protocol</emphasis> (ICMP) é uma extensão do Internet Protocol (IP) tal como definido no Request For Comments (RFC) #792 e suporta pacotes de rede que contenham informação de controlo, de erros e de mensagens. O ICMP é utilizado por aplicações de rede como o utilitário <application>ping</application>, que pode determinar a disponibilidade de um computador ou dispositivo de rede. Exemplos de algumas mensagens de erro devolvidas pelo ICMP que são úteis  para computadores da rede ou dispositivos como os <emphasis role="italics">routers</emphasis>, incluem <emphasis>Destination Unreachable</emphasis> and <emphasis>Time Exceeded</emphasis>.</para>
        </sect2>
        <sect2 id="daemons" status="complete">
          <title>Serviços</title>
            <para>Serviços <emphasis role="italics">Daemons</emphasis> são aplicações especiais do sistema que funcionam de forma contínua na rectaguarda e que aguardam pedidos para as funções que fornecem vindos das outras aplicações. Muitos serviços são centrados na rede; isto é, um grande número de serviços executados na rectaguarda de um sistema Ubuntu pode fornecer funcionalidades relacionadas com a rede. Alguns exemplos desses serviços de rede incluem o <emphasis>Hyper Text Transport Protocol Daemon</emphasis> (httpd), que fornece a funcionalidade de um servidor web; o <emphasis>Secure SHell Daemon</emphasis> (sshd), que fornece acesso remoto seguro e a capacidade de transferência de ficheiros; e o <emphasis>Internet Message Access Protocol Daemon</emphasis> (imapd), que fornece serviços de correio electrónico.</para>
        </sect2>
    </sect1>
	<sect1 id="firewall-configuration" status="review">
		<title>Configuração da <emphasis role="italics">Firewall</emphasis></title>
          <para>O kernel (núcleo) do Linux inclui o sub-sistema <emphasis>Netfilter</emphasis> que é utilizado para manipular ou decidir o destino do tráfego de encaminhado para ou de passagem pelo servidor. Todas as modernas soluções de <emphasis role="italics">firewall</emphasis> utilizam este sistema para filtragem de pacotes.</para>
        <sect2 id="firewall-introduction" status="review">
          <title>Introdução à <emphasis role="italics">Firewall</emphasis></title>
            <para>O sistema de filtragem de pacotes do kernel seria de pouca utilidade sem um interface de utilizador para o gerir. Esta é a finalidade das tabelas de ip <emphasis role="italics">iptables</emphasis>. Quando um pacote chega ao servidor, será encaminhado para o sub-sistema Netfilter, para aceitação, manipulação ou rejeição baseado nas regras que lhe são fornecidas à área do utilizador através das <emphasis role="italics">iptables</emphasis>. Assim, as <emphasis role="italics">iptables</emphasis> são tudo o que é necessário para gerir a sua <emphasis role="italics">firewall</emphasis> se estiver familiarizado com elas, mas existem muitos interfaces disponíveis para simplificar a tarefa.</para>
        </sect2>
        <sect2 id="ip-masquerading" status="review">
          <title>Mascaramento de IP</title>
            <para>A finalidade do Mascaramento de IP <emphasis role="italics">IP Masquerading</emphasis> é permitir que máquinas com um endereço IP privado e não encaminhável na sua rede, acedam à Internet através da máquina que está a fazer o mascaramento. O tráfego da sua rede privada destinado à Internet tem que ser manipulado para que as respostas possam ser encaminhadas de volta à máquina que efectuou o pedido. Para fazer isto o kernel deve alterar o endereço IP de <emphasis>origem</emphasis> de cada pacote para que a resposta possa ser encaminhada de volta a si, em vez de ser encaminhada para o endereço IP privado que originou o pedido, o que é impossível através da Internet. O Linux utiliza o <emphasis>Registo do Caminho de Ligação</emphasis> <emphasis role="italics">Connection Tracking</emphasis> (conntrack) para manter o registo das ligações e a que máquinas pertencem e reencaminha os pacotes de acordo com essa informação. O tráfego que sai da sua rede privada é assim "mascarado" como tendo sido originado na máquina Ubuntu que funcione como porta de ligação. Este processo é referido na documentação da Microsoft como Partilha de Ligação à Internet.</para>
			<para>Isso pode ser conseguido com uma única regra de iptables, que pode diferir ligeiramente na sua configuração de rede: <screen>sudo iptables -t nat -A POSTROUTING -s 192.168.0.0/16 -o ppp0 -j MASQUERADE</screen> O comando anterior assume que o espaço do seu endereço privado é 192.168.0.0/16 e que o seu interface com a internet é o ppp0. A sintaxe explica-se da seguinte forma: <itemizedlist>
				  <listitem><para>-t nat -- a regra deve ser adicionada na tabela de nat</para></listitem>
				  <listitem><para>-A POSTROUTING -- a regra deve ser adicionada (-A) à cadeia de POSTROUTING</para></listitem>
				  <listitem><para>-s 192.168.0.0/16 -- a regra aplica-se a tráfego originário do grupo de endereços indicado</para></listitem>
				  <listitem><para>-o ppp0 -- a regra aplica-se a tráfego definido para ser encaminhado através do dispositivo de rede especificado</para></listitem>
				  <listitem><para>-j MASQUERADE -- O tráfego coberto por esta regra será "encaminhado - jump" (-j) para o alvo MASCARADO  para ser manipulado conforme acima descrito</para></listitem>
			  </itemizedlist></para>
			<para>Cada entrada da tabela de filtragem (a tabela por omissão, e onde a maioria ou mesmo toda a filtragem de pacotes ocorre) tem uma <emphasis>política</emphasis> de ACCEPT por defeito, mas se está a criar uma firewall em adição a um equipamento de gateway, poderá ter alterado esta política para DROP ou REJECT, o que em qualquer dos casos exigirá que o seu tráfego mascarado seja autorizado através do comando FORWARD para que a regra funcione: <screen>sudo iptables -A FORWARD -s 192.168.0.0/16 -o ppp0 -j ACCEPT
sudo iptables -A FORWARD -d 192.168.0.0/16 -m state --state ESTABLISHED,RELATED -i ppp0 -j ACCEPT</screen> Este comando permitirá o estabelecimento das ligações a partir da sua rede local para a internet e que todo o tráfego relacionado regresse à máquina que o iniciou.</para>
        </sect2>
        <sect2 id="firewall-tools" status="review">
          <title>Ferramentas</title>
            <para>Existem muitas ferramentas disponíveis que o ajudam a construir uma firewall completa sem ter um conhecimento aprofundado do iptables. Para quem prefere uma interface gráfica, a aplicação <application>Firestarter</application> é bastante popular e fácil de usar, e  a <application>fwbuilder</application> é muito poderosa e possui um aspecto bastante semelhante a aplicações comerciais como por exemplo a Checkpoint Firewall-1. Se prefere uma ferramenta de linha de comandos assente em ficheiros de configuração de texto puro, a <application>Shorewall</application> é uma solução muito poderosa que o vai ajudar a configurar uma firewall avançada para qualquer rede. Se a sua rede é relativamente simples, ou se não possui uma rede,  a <application>ipkungfu</application>  deverá oferecer-lhe uma firewall pronta a funcionar "out-of-the-box" sem necessidade de configuração, e permitirá a criação de uma firewall mais avançada através da edição de ficheiros de configuração simples mas bem documentados. Outra aplicação interessante é a <application>fireflier</application>, desenhada para ser uma aplicação de firewall para o desktop. É constituída por um servidor (fireflier-server)  e uma escolha de clientes de interface gráfico (GTK ou QT), comportando-se como as populares aplicações de firewall interactivas para windows.</para>
        </sect2>
        <sect2 id="firewall-logs" status="review">
          <title>Registos</title>
            <para>Os registos da Firewall são essenciais para o reconhecimento de ataques, compreender os problemas de funcionamento das regras criadas, ou mesmo detectar actividade não habitual na sua rede. Deverá incluir regras de registo na sua firewall para que estes sejam criados, e estas deverão ser colocadas antes de qualquer regra de terminação (uma regra com um alvo que decide o destino do pacote como por exemplo ACCEPT, DROP ou REJECT). Por exemplo:<screen>sudo iptables -A INPUT -m state --state NEW -p tcp --dport 80 -j LOG --log-prefix "NEW_HTTP_CONN: "</screen>
Um pedido na porta 80 solicitado a partir da máquina local, gerará um registo no dmesg com este aspecto:</para>
			<para>
			  <programlisting>[4304885.870000] NEW_HTTP_CONN: IN=lo OUT= MAC=00:00:00:00:00:00:00:00:00:00:00:00:08:00 SRC=127.0.0.1 DST=127.0.0.1 LEN=60 TOS=0x00 PREC=0x00 TTL=64 ID=58288 DF PROTO=TCP SPT=53981 DPT=80 WINDOW=32767 RES=0x00 SYN URGP=0</programlisting>
			</para>
			<para>Este registo aparecerá também no <filename>/var/log/messages</filename>, <filename>/var/log/syslog</filename>, e <filename>/var/log/kern.log</filename>. Este comportamento pode ser modificado editando o <filename>/etc/syslog.conf</filename> apropriadamente ou instalando e configurando o <application>ulogd</application> e usando-o em vez do LOG. O serviço <application>ulogd</application> é um servidor que escuta ordens de criação de registo originadas no kernel, especificamente de firewalls, e pode criar o registo em qualquer ficheiro, ou mesmo numa base de dados application&gt;PostgreSQL</para>
        </sect2>
    </sect1>
	<sect1 id="openssh-server" status="complete">
		<title>Servidor OpenSSH</title>
      <sect2 id="openssh-introduction">
        <title>Introdução</title> 
           <para>
            This section of the Ubuntu Server Guide introduces a powerful collection of tools
            for the remote control of networked computers and transfer of data between networked 
            computers, called <emphasis>OpenSSH</emphasis>. You will also learn
            about some of the configuration settings possible with the OpenSSH server application and
            how to change them on your Ubuntu system. 
          </para>
          <para>OpenSSH é uma versão livre do protocolo Secure Shell (SSH) e da família de ferramentas para controlar remotamente um computador ou transferir ficheiros entre computadores. Ferramentas tradicionais para executar essas funções, tais como <application>telnet</application> ou <application>rcp</application>, são inseguras e transmitem as palavras passe dos utilizadores em texto simples quando utilizadas. O OpenSSH fornece um serviço para o servidor e ferramentas cliente para facilitar um controlo remoto seguro, codificado e operações de transferência de ficheiros, substituindo efectivamente as ferramentas padrão.</para>
          <para>O componente <application>sshd</application> do servidor OpenSSH, aguarda continuamente ligações de qualquer das ferramentas dos clientes. Quando um pedido de ligação ocorre, o <application>sshd</application> configura a ligação correcta dependendo do tipo de ferramenta do cliente que se está a ligar. Por exemplo, se o computador remoto se está a ligar com a aplicação cliente <application>ssh</application>, o processo do servidor OpenSSH inicia uma ligação de controlo remoto após a autenticação. Se o utilizador remoto usa uma aplicação <application>scp</application> o processo do servidor OpenSSH inicia uma cópia segura dos ficheiros entre o servidor e o cliente após a autenticação. O OpenSSH pode utilizar vários métodos de autenticação, incluindo palavras passe simples, chaves públicas e senhas <application>Kerberos</application>.</para>
          </sect2>
        <sect2 id="openssh-installation">
        <title>Instalação</title>
        <para>A instalação das aplicações cliente e servidor do OpenSSH  é simples. Para instalar a aplicação cliente OpenSSH no seu sistema Ubuntu, utilize este comando num terminal:</para>
           <para>
<screen>
<command>sudo apt-get install openssh-client</command>
</screen>
           </para>
        <para>Para instalar a aplicação servidor OpenSSH, e ficheiros de suporte associados, utilize este comando num terminal:</para>
           <para>
<screen>
<command>sudo apt-get install openssh-server</command>
</screen>
           </para>
        </sect2>
        <sect2 id="openssh-configuration">
          <title>Configuração</title>
            <para>Pode alterar o comportamento predefinido da aplicação servidor OpenSSH, <application>sshd</application>, editando o ficheiro <filename>/etc/ssh/sshd_config</filename>. Para informações sobre as directivas de configuração usadas neste ficheiro, pode consultar a página de manual apropriada com o seguinte comando, executado num terminal:</para>
               <para>
<screen>
<command>man sshd_config</command>
</screen>
               </para>
            <para>Existem muitas directivas no ficheiro de configuração  do <application>sshd</application> controlando coisas como as configurações das comunicações e os modos de autenticação. De seguida apresentam-se exemplos de directivas de configuração que podem ser alteradas ao editar o ficheiro <filename>/etc/ssh/ssh_config</filename>.</para>
            <tip>
               <para>Antes de editar o ficheiro de configuração, deverá fazer uma cópia do original e protegê-lo contra escrita por forma a ter sempre as configurações originais como referência ou para o reutilizar se necessário.</para>
               <para>Copie o ficheiro <filename>/etc/ssh/sshd_config</filename> e proteja-o contra escrita com os seguintes comandos, executados num terminal:</para>
	    </tip>
               <para>
<screen>
<command>sudo cp /etc/ssh/sshd_config /etc/ssh/sshd_config.original</command>
<command>sudo chmod a-w /etc/ssh/sshd_config.original</command>
</screen>
               </para> 
            <para>A seguir apresentam-se exemplos de directivas que pode alterar:</para>
           <itemizedlist>
               <listitem>
               <para>Para ajustar o OpenSSH para aceitar pedidos (escutar) o protocolo TCP na porta 2222, em vez da porta por omissão TPC porta 22, altere a directiva Port como se segue:</para>
               <para>Port 2222</para>
               </listitem>
	<listitem>
            <para>Para fazer com que o <application>sshd</application> permita credenciais de login baseadas em chaves públicas, adicione simplesmente a linha seguinte:</para>
               <para>PubkeyAuthentication yes</para>
            <para>no ficheiro <filename>/etc/ssh/sshd_config</filename>, ou se a linha já estiver presente assegure-se de que não está comentada.</para>
            </listitem>
            <listitem>
             <para>Para fazer com que o seu servidor OpenSSH mostre o conteúdo do ficheiro <filename>/etc/issue.net</filename> como uma mensagem de pré-login, adicione simplesmente ou modifique a seguinte linha:</para>
               <para>Banner /etc/issue.net</para>
               <para>no ficheiro <filename>/etc/ssh/sshd_config</filename>.</para>
             </listitem>
             </itemizedlist>
	    <para>Após a marcação de alterações no ficheiro <filename>/etc/ssh/sshd_config</filename>, grave o ficheiro e reinicie a aplicação servidor <application>sshd</application> para tornar efectivas as alterações utilizando o comando seguinte num terminal:</para>
               <para>
<screen>
<command>sudo /etc/init.d/ssh restart</command>
</screen>
               </para>
		<warning>
                           <para>Muitas outras directivas de configuração para o <application>sshd</application> estão disponíveis para alterar o comportamento do servidor de forma a satisfazer as suas necessidades pessoais. Tenha em atenção que, se o seu único método de acesso ao servidor for via <application>ssh</application>, e se ocorrer um erro na configuração do <application>sshd</application> ao alterar o ficheiro <filename>/etc/ssh/sshd_config</filename>, poderá ficar bloqueado do lado de fora após reiniciar o servidor, ou que a aplicação de servidor <application>sshd</application> se recuse a iniciar em virtude de uma directiva de configuração incorrecta. Assim, tenha especial atenção quando edita este ficheiro remotamente.</para>
                        </warning>
        </sect2>
   <sect2 id="openssh-references" status="complete">
      <title>Referências</title>
      <para>
      <ulink url="http://www.openssh.org/">Sítio web do OpenSSH</ulink>
      </para>
      <para>
      <ulink url="https://wiki.ubuntu.com/AdvancedOpenSSH">Página wiki do OpenSSH avançado</ulink>
      </para>
   </sect2>
     </sect1>
	<sect1 id="ftp-server" status="complete">
        <title>Servidor FTP</title> 
            <para>File Transfer Protocol (FTP) is a TCP protocol for uploading and downloading
                files between computers. FTP works on a client/server model. The server component is
                called an <emphasis>FTP daemon</emphasis>. It continuously listens for FTP requests
                from remote clients. When a request is received, it manages the login and sets up
                the connection. For the duration of the session it executes any of commands sent by
                the FTP client.</para>
            <para>O acesso a um servidor FTP pode ser conseguido de duas formas:</para>
            <itemizedlist spacing="compact">
                <listitem>
                    <para>Anónimo</para>
                </listitem>
                <listitem>
                    <para>Autenticado</para>
                </listitem>
            </itemizedlist>
            <para>Em modo anónimo, clientes remotos podem aceder ao servidor FTP utilizando a conta de utilizador por omissão chamada "anonymous" ou "ftp" e enviando um endereço de correio electrónico como palavra passe. Em modo autenticado o utilizador necessita de uma conta de utilizador e uma palavra passe. O acesso do utilizador aos directórios e ficheiros de um servidor FTP depende das permissões definidas para a conta de utilizador utilizada para aceder ao servidor. Como regra geral, o gestor FTP esconde o directório raiz do servidor FTP e muda-o para o directório "Home". Isto esconde de sessões remotas o resto do sistema de ficheiros.</para>
            <sect2 id="vsftpd-ftp-server-installation" status="complete">
                <title>vstpd - Instalação do Servidor FTP</title>
                    <para>vsftpd é um serviço disponível no Ubuntu. É fácil de instalar, configurar e manter. Para instalar o <application>vsftpd</application> pode executar o seguinte comando: <screen> <command>sudo apt-get install vsftpd</command> </screen></para>

                </sect2>
            <sect2 id="vsftpd-ftp-server-configuration" status="complete">
                <title>vsftpd - Configuração do Servidor FTP</title>
                <para>Pode editar o ficheiro de configuração do vsftpd <filename>/etc/vsftpd.conf</filename> para alterar os valores padrão.  Por omissão apenas o acesso FTP anónimo é permitido. Se pretender desactivar esta opção, deve alterar a linha: <programlisting>
anonymous_enable=YES
</programlisting> para <programlisting>
anonymous_enable=NO
</programlisting> . Por omissão, os utilizadores locais do sistema não podem iniciar sessão no servidor FTP. Para alterar esta configuração deve retirar o comentário à linha: <programlisting>
#local_enable=YES
</programlisting> . Por omissão, os utilizadores locais têm permissão para transferir ficheiros do servidor FTP (download). Não têm  permissão para transferir ficheiros para o servidor FTP (upload). Para alterar esta configuração, deve retirar o comentário da linha: <programlisting>
#write_enable=YES
</programlisting> . Similarmente, por omissão, os utilizadores anónimos não têm permissão para transferir ficheiros para o servidor FTP. Para alterar esta configuração, deve retirar o comentário da linha: <programlisting>
#anon_upload_enable=YES
</programlisting> . O ficheiro de configuração é constítuido por muitos parâmetros. A informação acerca de cada parâmetro está disponível no próprio ficheiro de configuração. Em alternativa, pode consultar a página do manual, <command>man 5 vsftpd.conf</command> para detalhes de cada parâmetro.</para>
                <para>Uma vez configurado o <application>vsftpd</application> pode-se dar início ao servidor. O seguinte comando pode ser utilizado para correr o servidor <application>vsftpd</application>: <screen> <command>sudo /etc/init.d/vsftpd start</command> </screen></para>
				<note><para>Note-se que os valores por omissão no ficheiro de configuração são definidos como estão por razões de segurança. Cada uma das alterações anteriores torna o sistema um pouco menos seguro, pelo que só devem ser feitas se necessário.</para></note>
                </sect2>
    </sect1>
	<sect1 id="network-file-system" status="complete">
		<title>Sistema de Ficheiros de Rede - Network File System (NFS)</title>
          <para>O NFS permite a um sistema partilhar directórios e ficheiros com outras pessoas através de uma rede. Utilizando o NFS, utilizadores e programas podem aceder  a ficheiros num sistema remoto quase como se fossem ficheiros locais.</para>

          <para>Alguns dos benefícios mais notáveis que o NFS providencia são:</para>

          <itemizedlist>
          <listitem>
      <para>Estações de trabalho locais utilizam menos espaço em disco porque os dados frequentemente utilizados podem ser guardados num máquina única e permanecer, mesmo assim, acessíveis a outros através da rede.</para>
          </listitem>
          <listitem>
      <para>Não existe necessidade de os utilizadores terem directórios pessoais em cada máquina da rede. Os directórios pessoais podem ser configurados no servidor NFS e disponibilizados através da rede.</para>
          </listitem>
          <listitem>

      <para>Storage devices such as floppy disks, CD-ROM drives, and USB
thumb drives can be used by other machines on the network. This may
reduce the number of removable media drives throughout the
network.</para>
          </listitem>
          </itemizedlist>

      <sect2 id="nfs-installation" status="complete">
        <title>Instalação</title>
      
          <para>Num terminal insira o seguinte comando para instalar o servidor NFS:</para>
          <para>
<screen>
<command>sudo apt-get install nfs-kernel-server</command>
</screen>
          </para>
      </sect2>
      <sect2 id="nfs-configuration" status="complete">
        <title>Configuração</title>
          <para>Pode configurar os directórios a ser exportados adicionando-os ao ficheiro <filename>/etc/exports</filename>. Por exemplo:</para>
          <para>
<screen>
/ubuntu *(ro,sync,no_root_squash)
/home *(rw,sync,no_root_squash)
</screen>
          </para>

          <para>Pode substituir * com um dos formatos de nome de máquina. Faça a declaração do nome de máquina tão especifica quanto possível para que sistemas não desejados não possam aceder à montagem NFS.</para>

          <para>Para iniciar o servidor NFS, pode correr o seguinte comando num terminal:</para>
          <para>
<screen>
<command>sudo /etc/init.d/nfs-kernel-server start</command>
</screen>
          </para>
      </sect2>
      <sect2 id="nfs-client-configuration" status="complete">
        <title>Configuração do Cliente NFS</title>
          <para>Utilize o comando <application>mount</application> para montar um directório NFS partilhado por outra máquina, digitando uma linha de comando similar à seguinte num terminal:</para>
          <para>
<screen>
<command>sudo mount example.hostname.com:/ubuntu /local/ubuntu</command>
</screen>
</para>
      <warning>
      <para>O directório a utilizar como ponto de montagem <filename>/local/ubuntu</filename> tem que existir. Não devem existir ficheiros ou sub-directórios no directório <filename>/local/ubuntu</filename> .</para>
      </warning>

      <para>Uma forma alternativa de montar uma partilha NFS de outra máquina é adicionar uma linha ao ficheiro <filename>/etc/fstab</filename>. A linha deve declarar o nome do servidor NFS, o directório exportado por esse servidor, e o directório da máquina local  onde essa partilha deve ser montada.</para>

      <para>A sintaxe geral da linha no ficheiro <filename>/etc/fstab</filename> é a que se segue:</para>
      
      <para>
<programlisting>
nome_de_maquina.exemplo.com:/ubuntu /local/ubuntu nfs rsize=8192,wsize=8192,timeo=14,intr
</programlisting>
      </para>
      </sect2>
      <sect2 id="nfs-references" status="complete">
        <title>Referências</title>
				<para><ulink url="http://nfs.sourceforge.net/">Perguntas frequentes sobre NFS em Linux</ulink></para>
      </sect2>
    </sect1>
	<sect1 id="dhcp" status="complete">
		<title>Protocolo de Configuração Dinâmica da Máquina <emphasis role="italics">Dynamic Host Configuration Protocol</emphasis> (DHCP)</title>
            <para>O Protocolo de Configuração Dinâmica da Máquina <emphasis role="italics">Dynamic Host Configuration Protocol</emphasis> (DHCP) é um serviço de rede que permite que as máquinas recebam as configurações de rede a partir de um servidor, em vez de ser necessário configurar cada uma individualmente. Os computadores configurados como clientes do DHCP não têm controlo sobre as configurações que recebem desse servidor, e a configuração é transparente para o utilizador do computador.</para>
            <para>As configurações mais comuns fornecidas por um servidor DHCP a clientes DHCP incluem:</para>
            <itemizedlist spacing="compact">
                <listitem>
                    <para>Endereço-IP e Máscara de Rede</para>
                </listitem>
                <listitem>
                    <para>DNS</para>
                </listitem>
                <listitem>
                    <para>WINS</para>
                </listitem>
            </itemizedlist>
            <para>Contudo, um servidor DHCP pode também disponibilizar propriedades como:</para>
            <itemizedlist spacing="compact">
                <listitem>
                    <para>Nome do Anfitrião</para>
                </listitem>
                <listitem>
                    <para>Nome de Domínio</para>
                </listitem>
                <listitem>
                    <para>Porta de Ligação por Omissão <emphasis role="italics">Default Gateway</emphasis></para>
                </listitem>
                <listitem>
                    <para>Servidor horário</para>
                </listitem>
                <listitem>
                    <para>Servidor de Impressão</para>
                </listitem>
            </itemizedlist>
            <para>A vantagem de usar o DHCP é a de automatizar alterações na rede, por exemplo a alteração do nome do servidor de domínios (DNS), só necessita de ser realizada no servidor de DHCP, e todas as máquinas da rede serão reconfiguradas automaticamente da próxima vez que os seus clientes DHCP sondarem por informações. Adicionalmente é mais fácil adicionar computadores à rede, já que não é necessário verificar a disponibilidade de um endereço IP. Da mesma forma conflitos na atribuição de endereços IP são também reduzidos.</para>
            <para>Um servidor de DHCP pode fornecer configurações usando dois métodos:</para>
            <variablelist>
                <varlistentry>
                    <term>Endereço MAC</term>
                    <listitem>
                        <para>Este método implica usar o DHCP para identificar endereços únicos de hardware de cada dispositivo de rede ligado na rede, e indicar continuamente uma configuração única e constante cada vez que um cliente DHCP realiza uma solicitação ao servidor DHCP usando esse dispositivo de rede.</para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>Gama de endereços <emphasis role="italics">Address Pool</emphasis></term>
                    <listitem>
                        <para>Este método implica definir uma gama (pool) de endereços IP a partir da qual os clientes DHCP são fornecidos, com propriedades e configurações dinâmicas, e numa lógica de servir primeiro o primeiro a chegar (first come first serve). Quando um cliente DHCP abandona a rede por um determinado período de tempo, a configuração expira, e o endereço é devolvido à gama dos disponíveis para ser utilizado por outro cliente DHCP.</para>
                    </listitem>
                </varlistentry>
            </variablelist>
            <para>O Ubuntu é fornecido com o servidor e o cliente DHCP. O servidor é o <application>dhcpd</application> (dynamic host configuration protocol daemon). O cliente fornecido com o Ubuntu é o <application>dhclient</application> e deve ser instalado em todas as máquinas que requeiram uma configuração automática. Ambos os programas são fáceis de instalar e configurar, e são iniciados automáticamente no arranque do sistema.</para>
      <sect2 id="dhcp-installation" status="complete">
        <title>Instalação</title>
          <para>Num terminal, digite o seguinte comando para instalar o <application>dhcpd</application>:</para>
          <para>
<screen>
<command>sudo apt-get install dhcp3-server</command>
</screen>
          </para>
          <para>Deverá provavelmente precisar de mudar a configuração base editando /etc/dhcp3/dhcpd.conf para melhor se ajustar as suas necessidades e configuração particular.</para>
          <para>You also need to edit /etc/default/dhcp3-server to specify the interfaces dhcpd
should listen to. By default it listens to eth0.</para>
          <para>NOTE: dhcpd's messages are being sent to syslog. Look there for
diagnostics messages.</para>
      </sect2>
      <sect2 id="dhcp-configuration" status="complete">
        <title>Configuração</title>
            <para>A mensagem de erro com que a instalação termina pode ser um pouco confusa, mas os passos seguintes vão ajudá-lo a configurar o serviço:</para>
            <para>De forma mais comum, o que pretende fazer é designar um endereço IP aleatório. Isto pode ser feito com configurações como as seguintes:</para>
            <screen>
# Exemplo de  /etc/dhcpd.conf
# (adicione comentários aqui) 
default-lease-time 600;
max-lease-time 7200;
option subnet-mask 255.255.255.0;
option broadcast-address 192.168.1.255;
option routers 192.168.1.254;
option domain-name-servers 192.168.1.1, 192.168.1.2;
option domain-name "mydomain.org";

subnet 192.168.1.0 netmask 255.255.255.0 {
range 192.168.1.10 192.168.1.100;
range 192.168.1.150 192.168.1.200;
} </screen>
            <para>Isto resulta num servidor DHCP atribuindo um endereço IP da gama 192.168.1.10-192.168.1.100 ou 192.168.1.150-192.168.1.200 . Esse endereço será atribuído por um período de 600 segundos, se o cliente não especificar outro intervalo de tempo. Caso contrário, o tempo máximo (permitido) de atribuição será de 7200 segundos. O servidor também "aconselhará" o cliente a utilizar a máscara de rede 255.255.255.0 , 192.168.1.255 como endereço de difusão, 192.168.1.254 como router/gateway e 192.168.1.1 e 192.168.1.2 clomo os seus servidores de DNS.</para>
            <para>Se necessitar de especificar um servidor WINS para os seus clientes Windows, vai ter de incluir a opção netbios-name-servers, por exemplo:</para>
            <screen>
option netbios-name-servers 192.168.1.1; </screen>
            <para>As configurações dhcpd foram retiradas do DHCP mini-HOWTO, que pode ser encontrado em <ulink url="http://www.tldp.org/HOWTO/DHCP/index.html">here</ulink>.</para>
      </sect2>
      <sect2 id="dhcp-references" status="complete">
        <title>Referências</title>
          <para>
            <ulink url="http://www.dhcp-handbook.com/dhcp_faq.html">Perguntas frequentes sobre o DHCP</ulink>
          </para>
      </sect2>
    </sect1>
	<sect1 id="dns" status="complete">
		<title>Serviço de Nomes de Domínios <emphasis role="italics">Domain Name Service</emphasis> DNS</title>
            <para>Domain Name Service (DNS) is an Internet service that maps IP addresses and fully
                qualified domain names (FQDN) to one another. In this way, DNS alleviates the need to
                remember IP addresses. Computers that run DNS are called
                <emphasis>name
                servers</emphasis>. Ubuntu ships with <application>BIND</application> (Berkley
                Internet Naming Daemon), the most common program used for maintaining a name
                server on Linux.</para>
            <!-- things to do: IPv6-->
      <sect2 id="dns-installation" status="complete">
        <title>Instalação</title>
          <para>Na linha de comandos, digite o comando seguinte para instalar o <application>dns</application>:</para>
          <para>
<screen>
<command>sudo apt-get install bind9</command>
</screen>
          </para>
      </sect2>
      <sect2 id="dns-configuration" status="complete">
        <title>Configuração</title>
          <para>Os ficheiros de configuração DNS são guardados no directório <filename>/etc/bind</filename>. O ficheiro de configuração principal é o <filename>/etc/bind/named.conf</filename>. O conteúdo do ficheiro de configuração por omissão é mostrado de seguida:</para>

          <para>
<programlisting>
// This is the primary configuration file for the BIND DNS server named.
//
// Please read /usr/share/doc/bind9/README.Debian.gz for information on the 
// structure of BIND configuration files in Debian, *BEFORE* you customize 
// this configuration file.
//
// If you are just adding zones, please do that in /etc/bind/named.conf.local

include "/etc/bind/named.conf.options";

// prime the server with knowledge of the root servers
zone "." {
	type hint;
	file "/etc/bind/db.root";
};

// be authoritative for the localhost forward and reverse zones, and for
// broadcast zones as per RFC 1912

zone "localhost" {
	type master;
	file "/etc/bind/db.local";
};

zone "127.in-addr.arpa" {
	type master;
	file "/etc/bind/db.127";
};

zone "0.in-addr.arpa" {
	type master;
	file "/etc/bind/db.0";
};

zone "255.in-addr.arpa" {
	type master;
	file "/etc/bind/db.255";
};

// zone "com" { type delegation-only; };
// zone "net" { type delegation-only; };

// From the release notes:
//  Because many of our users are uncomfortable receiving undelegated answers
//  from root or top level domains, other than a few for whom that behaviour
//  has been trusted and expected for quite some length of time, we have now
//  introduced the "root-delegations-only" feature which applies delegation-only
//  logic to all top level domains, and to the root domain.  An exception list
//  should be specified, including "MUSEUM" and "DE", and any other top level
//  domains from whom undelegated responses are expected and trusted.
// root-delegation-only exclude { "DE"; "MUSEUM"; };

include "/etc/bind/named.conf.local";
</programlisting>
          </para>

          <para>A linha <application>include</application> especifica o ficheiro que contém as opções de DNS. A linha <application>directory</application> no ficheiro de opções indica ao DNS onde procurar os ficheiros. Todos os ficheiros que o BIND usa serão relativos a este directório.</para>

          <para>
          The file named <filename>/etc/bind/db.root</filename> 
          describes the root name servers in the world. The servers
          change over time, so the
          <filename>/etc/bind/db.root</filename> file must be maintained
          now and then.
          </para>

          <para>A secção <application>zone</application> define um servidor mestre, e está colocada num ficheiro mencionado com a etiqueta file. Cada ficheiro de zona contém três registos de recurso (RRs): um SOA RR, um NS RR e um  PTR RR. O SOA é o diminutivo de Start of Authority - Início de Autoridade. O "@" é uma anotação especial indicando a origem. NS é o RR de Servidor de Nome. O PTR é o apontador do nome de domínio. Para iniciar o servidor DNS, digite o seguinte comando num terminal ou linha de comandos:</para>
           <para>
<screen>
<command>sudo /etc/init.d/bind9 start</command>
</screen>
           </para>
          <para>Pode recorrer à documentação mencionada na secção de referências para detalhes.</para>
      </sect2>
      <sect2 id="dns-references" status="complete">
        <title>Referências</title>
          <para>
            <ulink url="http://www.tldp.org/HOWTO/DNS-HOWTO.html">DNS Como Fazer (HOWTO)</ulink>
          </para>
      </sect2>
    </sect1>
	<sect1 id="cups" status="complete">
		<title>Servidor de Impressão - CUPS</title>
          <para>
            The primary mechanism for Ubuntu printing and print services is the 
			<emphasis role="bold">Common UNIX Printing System</emphasis> (CUPS). 
			This printing system is a freely available, portable printing layer 
			which has become the new standard for printing in most Linux 
			distributions.
          </para>
          <para>O CUPS gere os trabalhos de impressão e filas de espera e oferece capacidade de impressão em rede usando o standard Internet Printing Protocol (IPP), oferecendo simultaneamente suporte para uma enorme diversidade de impressoras, desde agulhas a laser, e muitas outras. O CUPS suporta ainda o PostScript Printer Description (PPD) e a auto detecção de impressoras de rede, e possui um ambiente de configuração e administração muito simples e assente em tecnologia web.</para>
      <sect2 id="cups-installation" status="complete">
        <title>Instalação</title>
          <para>
            To install CUPS on your Ubuntu computer, simply use <application>sudo</application> with the <application>apt-get</application> command and give the packages to install as the first parameter. A complete CUPS install has many package dependencies, but they may all be specified on the same command line.  Enter the following at a terminal prompt to install CUPS:
          </para>
          <para>
<screen>
<command>sudo apt-get install cupsys cupsys-client</command>
</screen>
          </para>
          <para>Após autenticação com a sua palavra passe (com privilégios de administrador), os pacotes devem ser descarregados e instalados sem erros. Ao concluir a instalação, o servidor CUPS será iniciado automaticamente. Para resolução de problemas pode aceder aos erros do servidor CUPS através do ficheiro de registo de eventos <filename>/var/log/cups/error_log</filename>. Se o registo de erros não apresentar informação suficiente para ajudar a resolver os problemas que encontrou, o detalhe dos registos do CUPS pode ser aumentado alterando a directiva <emphasis role="bold">LogLevel</emphasis> no ficheiro de configuração, mencionado acima, de "info" para "debug" ou até "debug2" que registará todos os eventos. Se efectuar esta alteração, lembre-se de repor a directiva original ap+os resolver o problema, para impedir que o ficheiro de registo atinga um tamanho excessivo.</para>
      </sect2>
      <sect2 id="cups-configuration" status="complete">
        <title>Configuração</title>
          <para>O comportamento do Common UNIX Printing System é configurado através de directivas incluídas no ficheiro <filename>/etc/cups/cupsd.conf</filename>. O ficheiro de configuração do CUPS utiliza a mesma sintaxe que o ficheiro de configuração primário do servidor HTTP Apache, por isso, os utilizadores familiarizados com a edição desse ficheiro devem sentir-se à vontade ao editar o ficheiro de configuração do CUPS. Alguns exemplos de configurações que pode pretender alterar inicialmente são mostrados aqui.</para>
          <tip>
               <para>Antes de editar o ficheiro de configuração, deve fazer uma cópia do ficheiro original e protegê-la contra a escrita, desta forma vai ter as configurações originais como referência, e para reutilizar se necessário.</para>
               <para>Copie o ficheiro <filename>/etc/cups/cupsd.conf</filename> e proteja-o contra a escrita introduzindo os seguintes comandos num terminal:</para>
               </tip>
               <para>
<screen>
<command>sudo cp /etc/cups/cupsd.conf /etc/cups/cupsd.conf.original</command>
<command>sudo chmod a-w /etc/cups/cupsd.conf.original</command>
</screen>
               </para>
          <itemizedlist>
                <listitem>
                <para><emphasis role="bold">ServerAdmin</emphasis>: Para configurar o endereço de correio electrónico do administrador do servidor CUPS, edite simplesmente o ficheiro <filename>/etc/cups/cupsd.conf</filename> com o seu editor de texto favorito, e modifique a linha <emphasis role="italics">ServerAdmin</emphasis> colocando aí o respectivo endereço. Por exemplo, se você for o administrador do servidor CUPS e o seu endereço de correio electrónico for 'bjoy@somebigco.com', deve alterar a linha ServerAdmin para o seguinte:</para>
                <para>
<screen>
ServerAdmin bjoy@somebigco.com
</screen>
                </para>
                </listitem>
          </itemizedlist>
                <para>Para mais exemplos de directivas de configuração do ficheiro de configuração do servidor CUPS, consulte a página de manual de sistema associada digitando o seguinte comando num terminal:</para>
               <para>
<screen>
<command>man cupsd.conf</command>
</screen>
               </para>
                               <note>
                <para>Sempre que faça alterações ao ficheiro de configuração <filename>/etc/cups/cupsd.conf</filename>, precisa de reiniciar o servidor CUPS executando o comando seguinte num terminal:</para>
                </note>
                <para>
<screen>
<command>sudo /etc/init.d/cupsys restart</command>
</screen>
                </para>
	<para>Algumas configurações extra do servidor CUPS são feitas no ficheiro <filename>/etc/cups/cups.d/ports.conf</filename>:</para>
          <itemizedlist>
                <listitem>
                <para><emphasis role="bold">Listen</emphasis>: Por omissão no Ubuntu, o servidor CUPS apenas escuta o interface loopback no endereço IP <emphasis>127.0.0.1</emphasis>. Para instruir o servidor CUPS para escutar o endereço do endereço IP do interface de rede real, deve especificar o nome do computador ou o endereço IP, ou ainda opcionalmente, um par Endereço IP/Porta através da directiva Listen. Por exemplo, se o seu servidor CUPS estiver instalado numa rede local no endereço IP <emphasis role="italics">192.168.10.250</emphasis> e quer torná-lo acessível a outros sistemas nesta sub-rede, deve editar o ficheiro <filename>/etc/cups/cups.d/ports.conf</filename> e adicionar uma directiva Listen da seguinte forma:</para>
                <para>
<screen>
Listen 127.0.0.1:631 # escuta no interface loopback
Listen /var/run/cups/cups.sock # socket Listen actual
Listen 192.168.10.250:631 # Escutar o interface de rede local, na Porta, 631 (IPP)
</screen>
                </para>
                <para>No exemplo acima, pode comentar ou remover a referência ao endereço de Loopback (127.0.0.1) se não pretender que o <application>cupsd </application> espere ligações nessa interface, mas espere ligações somente nas interfaces Ethernet da Rede de Área Local (LAN). Para activar a recepção de ligações em todas as interfaces de rede às quais um determinado nome de máquina está associado, incluindo o Loopback, pode criar uma entrada Listen para o nome de máquina <emphasis>socrates</emphasis> como a seguinte:</para>
                <para>
<screen>
Listen socrates:631 # Vigiar em todas as interfaces para o nome de máquina 'socrates'
</screen>
                </para> 
				<para>ou omitindo a directiva Listen e usando <emphasis>Port</emphasis> em seu lugar, como em:</para>
<para>
<screen>
Port 631 # Vigiar a porta 631 em todas as interfaces
</screen>
</para>
                </listitem>
	</itemizedlist>

      </sect2>
      <sect2 id="cups-references" status="complete">
        <title>Referências</title>
        <para>
        <ulink url="http://www.cups.org/">Página Web do CUPS</ulink>
        </para>
        </sect2>
    </sect1>
	<sect1 id="httpd" status="complete">
		<title>HTTPD - Servidor Web Apache2</title>
      <para>Apache is the most commonly used Web Server on Linux systems. Web Servers are used
          to serve Web Pages requested by client computers. Clients typically request and view
          Web Pages using Web Browser applications such as <application>Firefox</application>,
              <application>Opera</application>, or <application>Mozilla</application>.</para>
      <para>Users enter a Uniform Resource Locator (URL) to point to a Web server by means of
          its Fully Qualified Domain Name (FQDN) and a path to the required resource. For example, to view the home page of
          the <ulink url="http://www.ubuntu.com">Ubuntu Web site</ulink> a user will enter only the FQDN. To request specific information about 
              <ulink url="http://www.ubuntu.com/support/paid">paid
              support</ulink>, a user will enter the FQDN followed by a path.</para>
      <para>O protocolo mais utilizado para transferir páginas Web é o Protocolo de Transferência de Hiper Texto <emphasis role="italics">Hyper Text Transfer Protocol</emphasis> (HTTP). Protocolos tais como o Protocolo de Transferência de Hiper Texto sobre Camadas de Ligação Segura <emphasis role="italics">Hyper Text Transfer Protocol over Secure Sockets Layer</emphasis> (HTTPS), ou o Protocolo de transferência de Ficheiros <emphasis role="italics">File Transfer Protocol</emphasis> (FTP), que é um protocolo utilizado para enviar e receber ficheiros entre computadores, são também suportados.</para>
      <para>Os servidores de Web Apache são frequentemente utilizados conjuntamente com o motor de base de dados <application>MySQL</application>, a linguagem HyperText Preprocessor (<application>PHP</application>), e outras linguagens populares como <application>Python</application> e <application>Perl</application>. Esta configuração é designada por LAMP (Linux, Apache, MySQL and Perl/Python/PHP) e constitui uma plataforma poderosa e robusta para o desenvolvimento e distribuição de aplicações baseadas na Web.</para>
<sect2 id="http-installation" status="complete">
  <title>Instalação</title>
                  <para>O servidor web Apache2 está disponível no Ubuntu Linux. Para instalar o Apache2:</para>
          <procedure><step>
                	  <para>Num terminal escreva o seguinte comando: <screen>
<command>sudo apt-get install apache2</command>
</screen></para>
			</step>
	    </procedure>
      </sect2>
      <sect2 id="http-configuration" status="complete">
        <title>Configuração</title>
          <para>O Apache é configurado adicionando <emphasis>directivas</emphasis> em ficheiros de configuração de texto simples. O ficheiro de configuração principal é o <filename>apache2.conf</filename>. Adicionalmente, outros ficheiros de configuração podem ser adicionados utilizando a directiva <emphasis>Include</emphasis>, podendo ser utilizados carácteres de escape para adicionar muitos ficheiros de configuração. Qualquer directiva pode ser colocada em qualquer destes ficheiros de configuração. Alterações nos ficheiros de configuração principais só são reconhecidas pelo Apache2 quando ele for iniciado ou reiniciado.</para>

          <para>O servidor lê também um ficheiro contendo tipos de documentos mime; este ficheiro é definido pela directiva <emphasis>TypesConfig</emphasis>, e tem o nome <filename>mime.types</filename> por omissão.</para>

          <para>O ficheiro de configuração do Apache2, por omissão, é o <filename>/etc/apache2/apache2.conf</filename> . Este ficheiro pode ser editado para configurar o servidor Apache2. Podem ser configurados o número da porta, a pasta de documentos de raiz, módulos, ficheiros de registo, máquinas virtuais, etc..</para>
        <sect3 id="http-basic-settings" status="complete">
          <title>Configurações Básicas</title>
            <para>Esta secção explica os parâmetros de configuração essenciais do servidor Apache2. Utilize <ulink url="http://httpd.apache.org/docs/2.0/">Documentação Apache2 </ulink> para mais detalhes.</para>

             <itemizedlist>

             <listitem><para>O Apache2 é acompanhado de uma configuração padrão de um servidor virtual, (utilizando a directiva <emphasis>VirtualHost</emphasis>), que pode ser modificada, ou utilizada tal como está se tiver apenas um site, ou ainda utilizada como modelo para criar servidores adicionais se tiver vários sites. Se for o único, o servidor pré-configurado será o seu sítio padrão, ou seja o sítio web que os utilizadores verão se o URL que escreverem não corresponder a nenuma das directivas <emphasis>ServerName</emphasis>. Para alterar a o servidor virtual padrão edite o ficheiro <filename>/etc/apache2/sites-available/default</filename>. Se pretender configurar um novo servidor virtual ou um novo site copie este ficheiro para o directório com um nome igual ao que escolher. Por exemplo,  <command>sudo cp /etc/apache2/sites-available/default /etc/apache2/sites-available/mynewsite</command> Edite o novo ficheiro para configurar o novo sítio utilizando algumas das directivas referidas abaixo.</para></listitem>

             <listitem><para>A directiva <emphasis>ServerAdmin</emphasis> especifica o endereço de correio electrónico a ser apresentado como sendo o do administrador do servidor. O valor por omissão é webmaster@localhost. Este deve ser alterado para um endereço de correio electrónico você receba (se você for o administrador do servidor). Se o seu site web tiver um problema, o Apache2 apresentará uma mensagem de erro contendo este endereço de correio electrónico para que o erro possa ser reportado. Encontra esta directiva no ficheiro de configuração dos seus sites <filename>/etc/apache2/sites-available</filename>.</para></listitem>

             <listitem><para>A directiva <emphasis>Listen</emphasis> especifica a porta, e opcionalmente o endereço IP que o Apache2 escutará e onde receberá os pedidos. Se o IP não for especificado, o Apache2 escutará todos os endereços atribuídos à máquina onde estiver a correr. O valor por omissão para a directiva Listen é 80. Alterá-la para 127.0.0.1:80 provocará que o Apache2 escutará apenas o interface 'loopback' portanto não será acessível a partir da Internet, para (por exemplo) 81 para alterar a porta que será escutada, ou deixe a ditectiva tal como está para um funcionamento normal. Esta directiva pode ser encontrada e alterada no ficheiro <filename>/etc/apache2/ports.conf</filename>.</para></listitem>

			 <listitem><para>A directiva <emphasis>ServerName</emphasis> é opcional e especifíca o FQDN o seu sítio deve responder. O servidor virtual por omissão não tem definida a directiva ServerName, por isso responderá a todos os pedidos que não correspondam à directiva ServerName de outro servidor virtual. Se apenas adquiriu o nome de domínio ubunturocks.com e pretende alojá-lo no seu servidor Ubuntu, o valor da directiva ServerName no ficheiro de configuração do seu servidor virtual deverá ser ubunturocks.com . Adicione esta directiva ao ficheiro de servidores virtuais criado antes (<filename>/etc/apache2/sites-available/mynewsite</filename>). <tip><para>Também pode alterar o seu site para responder como www.ubunturocks.com, dado que muitos utilizadores assumem a utilização do prefixo www. Utilize para isto a directiva <emphasis>ServerAlias</emphasis>. Também pode utilizar carácteres de substituição na directiva ServerAlias. Por exemplo, <command>ServerAlias *.ubunturocks.com</command> fará com que o seu sítio responda a qualquer pedido de um domínio terminado em .ubunturocks.com .</para></tip></para></listitem>

			 <listitem><para>A directiva <emphasis>DocumentRoot</emphasis> especifíca onde é que o Apache deve procurar os ficheiros que constituem o seu sítio web. O valor por omissão é /var/www . Não existe nenhum sítio configurado nesta pasta, mas se descomentar a directiva <emphasis>RedirectMatch</emphasis> do ficheiro <filename>/etc/apache2/apache2.conf</filename> os pedidos serão redireccionados para /var/www/apache2-default onde existe um sítio pré-definido pelo Apache2. Altere este valor no seu ficheiro de servidores virtuais, e lembre-se de criar o directório se necessário!</para></listitem>
            </itemizedlist>

			<tip><para>O directório /etc/apache2/sites-available <emphasis role="bold"> not</emphasis> processado pelo Apache2. A ligação simbólica <emphasis role="bold">symbolic link</emphasis> /etc/apache2/sites-enabled aponta para sítios "disponíveis". Utilize o utilitário a2ensite (Apache2 Enable Site) para criar estas ligações simbólicas, desta forma: <command>sudo a2ensite omeunovositio</command> em que o ficheiro de configuração do seu sítio é <filename> /etc/apache2/sites-available/omeunovositio</filename>. De forma semelhante o utilitário a2dissite deve ser utilizado para desabilitar estes sítios.</para></tip>

        </sect3>
        <sect3 id="default-settings" status="complete">
          <title>Configurações Pré-definidas</title>
            <para>Esta secção explica as configurações pré-definidas do servidor Apache2. Por exemplo, se adicionar um servidor virtual, os parâmetros que configurar serão utilizados por esse servidor virtual. Caso uma determinada directiva não esteja configurada para o servidor virtual, serão utilizados os parâmetros pré-definidos do Apache2.</para>

            <itemizedlist>
            <listitem>
            <para>A directiva <emphasis>DirectoryIndex</emphasis> é a página por omissão apresentada pelo servidor quando um utilizador solicitar o conteúdo de um directório, colocando uma barra (/) após o nome do directório.</para>

             <para>Por exemplo, quando um utilizador solicita a página http://www.exemplo.pt/este_directorio/, ele/a obterá a página DirectoryIndex se esta existir, a listagem dos ficheiros do directório, gerada pelo servidor, se a página não existir, ou a página Permissão Negada <empasis role="italics">Permission Denied</empasis> caso as anteriores hipóteses não sejam verdadeiras. O servidor tentará encontrar um dos ficheiros existentes na directiva DirectoryIndex e devolverá o primeiro que encontrar. Se não encontrar nenhum desses ficheiros e se a directiva Options Indexes apontar para esse directório, o servidor gerará e devolverá uma lista, em formato HTML, das sub-directórios e ficheiros existentes no directório. O valor por omissão, existente no ficheiro <filename>/etc/apache2/apache2.conf</filename> é " index.html index.cgi index.pl index.php index.xhtml". Assim, se o Apache2 encontrar um ficheiro no directório pedido que corresponda a um destes nomes, o primeiro deles será apresentado.</para>
            </listitem>

            <listitem>
            <para>A directiva <emphasis>ErrorDocument</emphasis> permite-lhe especificar um ficheiro que o Apache utilizará para erros específicos. Por exemplo, se um utilizador solicitar um recurso que não exista ocorrerá um erro 404, e na configuração pré-definida do Apache2, o ficheiro <filename>/usr/share/apache2/error/HTTP_NOT_FOUND.html.var </filename> será apresentado. Este ficheiro não está no servidor em DocumentRoot, mas existe uma directiva Alias no ficheiro <filename>/etc/apache2/apache2.conf</filename> que redirecciona os pedidos para o directório de erros /usr/share/apache2/error/ . Para ver a lista das directivas de erro ErrorDocument pré-definidas, utilize o comando: <command>grep ErrorDocument /etc/apache2/apache2.conf</command> .</para>
            </listitem>


            <listitem>
            <para>Por omissão, o servidor escreve as transferências executadas para o ficheiro de registos /var/log/apache2/access.log . Pode alterar isto para uma configuração baseada sítio a sítio na ficheiro de configuração dos seus sítios virtuais com a directiva <emphasis>CustomLog</emphasis>, ou omiti-la para aceitar o valor pré-definido, indicado no ficheiro <filename> /etc/apache2/apache2.conf</filename>. Também pode indicar o ficheiro no qual serão feitos os registos de erros, através da directiva <emphasis>ErrorLog</emphasis>, que por omissão é <filename>/var/log/apache2/error.log</filename>. Estes registos são mantidos separados dos das transferências para ajudar na resolução de problemas com o seu servidor Apache2. Também pode especificar o <emphasis>nível de registo</emphasis> <emphasis role="italics">LogLevel</emphasis> (o valor pré-definido é aviso "warn") e o <emphasis>Formato de Registo</emphasis> <emphasis role="italics">LogFormat</emphasis> (veja o ficheiro <filename> /etc/apache2/apache2.conf</filename> para o valor pré-definido).</para>
            </listitem>

            <listitem>
            <para>Algumas opções são indicadas directório a directório em vez de serem para o servidor. Option é uma destas directivas. Um declaração Directory é incluída entre etiquetas de formato semelhante ao XML, desta forma: <screen><command>&lt;Directory /var/www/omeunovositio&gt;
				...
			&lt;/Directory&gt;</command></screen> A directiva Options dentro da declaração Directory aceita um ou mais dos seguintes valores (entre outros), separados por espaços:</para>
            <itemizedlist spacing="compact">
                <listitem>
                    <para><emphasis role="bold">ExecCGI</emphasis> - Permitir execução de scripts CGI. Os scripts CGI não são executados se esta opção não for escolhida. <tip><para>Grande parte dos ficheiros não devem ser executados como scripts CGI. Isso seria muito perigoso. Scripts CGI devem ser mantidos num directório separado e fora do directório de raiz <emphasis role="italics">DocumentRoot</emphasis>, e apenas esse directório deve ter a opção ExecCGI definida. Isto é o predefinido, e a localização por omissão dos scripts CGI é /usr/lib/cgi-bin.</para></tip></para>
                </listitem>
                <listitem>
                    <para><emphasis role="bold">Includes</emphasis> - Permite inclusões no servidor, isto é, permite que um ficheiro HTML incluir <emphasis role="italics">include</emphasis> outros ficheiros. Esta opção não é frequente. Consulte <ulink url="http://httpd.apache.org/docs/2.0/howto/ssi.html">Apache2 SSI - Como fazer</ulink> para obter mais informação.</para>
                </listitem>
                <listitem>
                    <para><emphasis role="bold">IncludesNOEXEC</emphasis> - Permite a inclusão de ficheiros do servidor, mas desabilita os comandos #exec e #include nos programas GCI.</para>
                </listitem>
                <listitem>
                    <para><emphasis role="bold">Indexes</emphasis> - Apresenta uma lista formatada do conteúdo do directório, se um dos ficheiros indicados na directiva DirectoryIndex (como por exemplo o index.html) não existir no directório pedido. <caution><para>Por razões de segurança, esta opção não deve ser utilizada, e não deve ser certamente utilizada no Directório de Raiz. Habilite esta opção cuidadosamente, directório a directório e apenas se tiver a certeza que os utilizadores vejam o conteúdo completo do directório.</para></caution></para>
                </listitem>
                <listitem>
                    <para><emphasis role="bold">Multiview</emphasis> - Suporta a apresentação múltipla de conteúdos "negociados"; esta opção está desabilitada por omissão por motivos de segurança. Consulte ulink url="http://httpd.apache.org/docs/2.0/mod/mod_negotiation.html#multiviews"&gt;A documentação do Apache2 sobre esta opção</para>
                </listitem>
                <listitem>
                    <para><emphasis role="bold">SymLinksIfOwnerMatch</emphasis> - Apenas segue as ligações sinmbólicas se o ficheiro ou directório indicado pela ligação pertencer ao proprietário da ligação.</para>
                </listitem>
            </itemizedlist>

            </listitem>
            </itemizedlist>
        </sect3>
        <sect3 id="virtual-hosts-settings" status="complete">

          <title>Configuração de Sítios Virtuais <emphasis role="italics">Virtual Hosts</emphasis></title>
            <para>A opcção Servidores Virtuais permite correr vários servidores em diferentes endereços IP, diferentes nomes de Sítios Web, ou diferentes portas na mesma máquina. Por exemplo, pode ter os sítio web http://www.exemplo.pt e http://www.outroexemplo.pt no mesmo servidor web utilizando servidores virtuais. Esta opção corresponde à directiva &lt;VirtualHost&gt; para o servidor virtual por omissão e para os servidores virtuais baseados em endereços IP. Corresponde à directiva &lt;NameVirtualHost&gt; para servidores virtuais baseados no nome.</para>

			<para>As directivas configuradas para um determina servidor virtual, aplicam-se apenas a ele. Se uma determinada directiva for configurada para o servidor global, e não for definida para o servidor virtual, é utilizada a configuração pré-definida para essa directiva. Por exemplo, pode definir um endereço de correio electrónico para o servidor principal, e não definir um endereço específico para cada servidor virtual.</para>
 
 			<para>Ajuste a directiva DocumentRoot para o directório que contém o documento de raiz do sítio web (por exemplo index.html). O valor por omissão de DocumentRoot é <filename>/var/www</filename>.</para>

			<para>
			The ServerAdmin directive within the VirtualHost stanza is the email address used in the 
			footer of error pages if you choose to show a footer with an email address on the error pages.
			</para>

        </sect3>
        <sect3 id="server-settings" status="complete">
          <title>Configurações do Servidor</title>
            <para>Esta secção explica como efectuar as configurações básicas do servidor.</para>
                    <para><emphasis role="bold">LockFile</emphasis> - A directiva LockFile indica qual o caminho para o ficheiro de bloqueios que o servidor utiliza quando compilado seja com USE_FCNTL_SERIALIZED_ACCEPT ou USE_FLOCK_SERIALIZED_ACCEPT. Deve ser guardado num disco local. Deve ser deixado no valor por omissão a não ser que o directório de registos esteja localizado numa partilha NFS. Neste caso, o valor por omissão deve ser alterado para um directório no disco local que tenha permissões de leitura apenas para o root.</para>

					<para><emphasis role="bold">PidFile</emphasis> - A directiva PidFile indica qual o ficheiro em que o servidor deve gravar os seus identificadores de processos <emphasis role="italics">Process ID</emphasis> (pid). Este ficheiro deve ter acesso de leitura apenas pelo root. Na maioria dos casos deve ser deixado com o valor por omissão.</para>

<para><emphasis role="bold">User</emphasis> - A directiva User indica a identificação de utilizador utilizada pelo servidor para responder aos pedidos. Esta configuração determina o acesso ao servidor. Quaisquer ficheiros inacessíveis a este utilizador serão também inacessíveis aos visitantes do sítio web. O valor por omissão para User é www-data.</para>
            <warning>
            <para>A não ser que saiba exactamente o que está a fazer, não coloque na directiva User root. Utilizar o root como User criará grandes falhas de segurança no seu servidor Web.</para>
            </warning>
 <para>A directiva Group é semelhante à directiva User. Group indica qual o grupo para o qual o servidor responderá aos pedidos. O grupo por omissão também é www-data.</para>

        </sect3>
        <sect3 id="apache-modules" status="complete">
          <title>Módulos Apache</title>
              <para>O Apache é um servidor modular. Isto implica que apenas as funcionalidades mais básicas estão incluídas no núcleo do servidor. Funções adicionais estão disponíveis sob a forma de módulos que podem ser carregados para o Apache. Por omissão, um conjunto base de módulos é incluído no servidor na altura da compilação. Se o servidor estiver configurado para utilizar módulos de carregamento dinâmico, então os módulos podem ser compilados separadamente e adicionados em qualquer altura utilizando a directiva LoadModule. Caso contrário, o Apache tem de ser recompilado para adicionar ou remover módulos. O Ubuntu compila o Apache2 para permitir o carregamento dinâmico de módulos. As directivas de configuração podem ser incluídas condicionalmente para a presença de um módulo em particular colocando-o na secção &lt;IfModule&gt; . Pode instalar módulos adicionais para o Apache2 e incluí-los no seu servidor Web. Pode instalar módulos para o apache utilizando o comando <application>apt-get</application> . Por exemplo, para instalar o módulo do Apache2 para autenticação com o MYSQL, pode utilizar o seguinte comando num terminal:</para>
                
                <para>
<screen>
<command>sudo apt-get install libapache2-mod-auth-mysql</command>
</screen>
                </para>
                <para>Uma vez instalado o módulo, ele estará disponível no directório <filename>/etc/apache2/mods-available</filename>. Pode utilizar o comando <application>a2enmod</application> para habilitar um módulo. Para desabilitá-lo utilize o comando <application>a2dismod</application>. Uma vez habilitado um módulo este estará disponível no directório <filename>/etc/apache2/mods-enabled</filename>.</para>
        </sect3>
      </sect2>
      <sect2 id="https-configuration" status="complete">
        <title>Configuração HTTPS</title>
          <para>O módulo <application>mod_ssl</application> adiciona uma importante funcionalidade ao servidor Apache2 - a capacidade de codificar comunicações. Assim, quando o seu navegador comunicar utilizando codificação SSL, o prefixo https:// é utilizado no início do Uniform Resource Locator (URL) na barra de endereços.</para>

          <para>O módulo <application>mod_ssl</application> está disponível no pacote <application>apache2-common</application>. Se instalou este pacote, pode executar o seguinte comando num terminal para habilitar o módulo <application>mod_ssl</application>.</para>

          <para>
<screen>
<command>sudo a2enmod ssl</command>
</screen>
          </para>
        <sect3 id="certificates-and-security" status="complete">
          <title>Certificados e Segurança</title>
            <para>Para configurar o seu servidor seguro, utilize a encriptação pública de chaves para criar um par chave pública e chave privada. Na maioria dos casos, você envao p seu pedido de certificado (incluindo a sua chave pública), comprova a identidade da sua empresa, e um pagamento para uma Autoridade de Certificação (AC) <emphasis role="italics">Certificate Authority (CA)</emphasis> . A AC verifica o pedido de certificado e a sua identidade, e seguidamente envia um certificado para o seu servidor seguro.</para>
             <para>Alternativamente, você pode criar o seu próprio certificado auto-autenticado. Note, no entanto, que o certificados auto-autenticados não devem ser utilizados na maioria dos ambientes de trabalho. Os certificados auto-autenticados não são automaticamente aceites pelos navegadores dos utilizadores, sendo solicitado a esses solicitado a esses utilizadores que aceitem o certificado e criem a ligação segura.</para>

             <para>Uma vez que tenha criado um certificado auto-autenticado ou um certificado assinado por uma AC, necessita instalá-la no seu servidor seguro.</para>
        </sect3>
        <sect3 id="types-of-certificates" status="complete">
          <title>Tipos de Certificados</title>
            <para>Você necessita uma chave e um certificado para o funcionamento do seu servidor seguro, o que significa que pode gerar um certificado auto-autenticado ou adquirir um certificado autenticado por uma Autoridade de Certificação. O certificado adquirido fornece duas importantes capacidades ao seu servidor.</para>

            <itemizedlist>
            <listitem>
            <para>Os navegadores (habitualmente) reconhecem o certificado e permitem o estabelecimento de uma ligação segura sem perguntar ao utilizador.</para>
            </listitem>
            <listitem>
            <para>Quando uma Autoridade de Certificação emite um certificado assinado, está garantida a identidade da organização que fornece as páginas web ao navegador.</para>
            </listitem>
            </itemizedlist>

            <para>A maioria dos navegadores Web que suportam SSL têm uma lista de ACs cujos certificados são automaticamente aceites. Se um navegador encontra um certificado cuja AC não está na lista, o navegador pergunda ao utilizador se aceita ou não a ligação.</para>
            <para>Pode gerar um certificado auto assinado para o seu servidor seguro, mas tenha conciência de que esse certificado não oferece as mesmas funcionalidades que o certificado assinado por uma AC. Um certificado auto assinado não é automaticamente reconhecido pela maioria dos navegadores e não garante a identidade da organização que fornece o sítio web. Um certificado assinado por uma AC oferece estas duas importantes funcionalidades para um servidor seguro. O processo de obtenção de um certificado de uma AC é bastante simples. Numa rápida visão é como se segue:</para>

            <orderedlist>
            <listitem>
               <para>Criar um par chave privada e chave pública de codificação.</para>
            </listitem>
            <listitem>
                 <para>Criar um pedido de certificado baseado numa chave pública. O pedido de certificado contém informação acerca do seu servidor e da empresa que o hospeda.</para>
            </listitem>
            <listitem>
                 <para>Envie o pedido de certificado junto com documentos comprovando a sua identidade para a Autoridade de Certificação. Não podemos dizer-lhe qual autoridade  de certificação a escolher.  A sua decisão pode ser baseada em experiências anteriores, experiências de amigos ou colegas ou até em factores económicos.</para>

                    <para>Uma vez se tenha decidido sobre uma AC, necessita seguir as instruções que eles  lhe tenham fornecido sobre a obtenção do certificado.</para>
            </listitem>
            <listitem>
               <para>Quando a AC se considerar que você ou a sua empresa são quem afirmam ser, enviar-lhe-ão o certificado digital.</para>
            </listitem>
            <listitem>
               <para>Instale esse certificado no seu servidor seguro, e comece a utilizar transacções seguras.</para>
            </listitem>
            </orderedlist>

            <para>Quer obtenha um certificado de uma AC quer gere o seu próprio certificado, o primeiro passo é gerar uma chave.</para>
        </sect3>
        <sect3 id="generating-a-csr" status="complete">
          <title>Geração de Pedido de Assinatura de Certificado (CSR)</title>
            <para>Para gerar o Pedido de Assinatura de Certificado (CSR), deve criar a sua própria chave. Pode executar o seguinte comando num terminal para criar a chave:</para>

            <para>
<screen>
<command>openssl genrsa -des3 -out server.key 1024</command>
</screen>
            </para>
<programlisting>
Generating RSA private key, 1024 bit long modulus
.....................++++++
.................++++++
unable to write 'random state'
e is 65537 (0x10001)
Enter pass phrase for server.key:
</programlisting>

        <para>Pode agora digitar a sua palavra passe. Para melhor segurança, ela deve conter pelo menos oito carácteres. O comprimento mínimo quando se especifica -des3 é quatro carácteres. Deve conter algarismos e/ou pontuação e não ser uma palavra de dicionário. Lembre-se ainda que a sua palavra passe é sensível a carácteres maiúsculos ou minúsculos.</para>

        <para>Volte a inserir a palavra passe para verificação. Uma vez que a tenha reinserido correctamente, a chave do servidor é gerada e guardada no ficheiro <filename>server.key</filename>.</para>

        <warning>
        <para>Pode ainda correr o seu servidor web seguro sem palavra passe. Isso é conveniente porque assim não vai precisar de inserir a palavra passe sempre que inicie o seu servidor web seguro. No entanto  isso é altamente inseguro e uma chave comprometida significa também o comprometimento do servidor.</para>
        </warning>

        <para>Em qualquer dos casos, pode optar por correr o seu servidor web seguro sem a palavra passe deixando de fora a opção -des3 aquando da fase de geração ou utilizando o seguinte comando num terminal:</para>

        <para>
<screen>
<command>openssl rsa -in server.key -out server.key.insecure</command>
</screen>
        </para>
        <para>Uma vez que tenha executado o comando anterior, a chave insegura vai ser guardada no ficheiro <filename>server.key.insecure</filename>. Pode usar este ficheiro para gerar o CSR sem palavra passe.</para>

        <para>Para criar o CSR, execute o seguinte comando no terminal:</para>

        <para>
<screen>
<command>openssl req -new -key server.key -out server.csr</command>
</screen>
        </para>

        <para>Ele vai pedir-lhe que insira a frase passe. Se inserir a frase correcta , vai pedir-lhe que indique o nome da empresa (Company Name), o endereço do servidor Web (Site Name), correio electrónico (Email ld), etc.. Após o fornecimento de todos estes dados, o seu CSR será gerado e guardado no ficheiro <filename>server.csr</filename>. Pode submeter este ficheiro CSR a um AC para processamento. O CAN utilizará este CSR e emitirá o certificado. Por outro lado, pode criar um certificado auto assinado utilizando este CSR.</para>

        </sect3>
        <sect3 id="creating-a-self-signed-certificate" status="complete">
          <title>Criar um Certificado Auto Assinado</title>
            <para>Para criar um certificado auto assinado, execute o seguinte comando num terminal:</para>

            <para>
<screen>
<command>openssl x509 -req -days 365 -in server.csr -signkey server.key -out server.crt</command>
</screen>
            </para>

            <para>O comando anterior vai solicitar-lhe a frase passe. Uma vez introduzida a frase correcta, o seu certificado será gerado e guardado no ficheiro <filename>server.crt</filename>.</para>
        <warning>
        <para>Se o seu servidor seguro se destina a ser usado num ambiente de produção, provavelmente vai necessitar de um certificado AC assinado. Não é recomendado o uso de certificados auto assinados.</para>
        </warning>
        </sect3>
        <sect3 id="installing-the-certificate" status="complete">
          <title>Instalação do Certificado</title>

            <para>Pode instalar o ficheiro chave <filename>server.key</filename> e o ficheiro de certificado <filename>server.crt</filename> ou ainda o ficheiro certificado enviado pelo seu AC executando os seguintes comandos no terminal:</para>
            <para>
<screen>
<command>sudo cp server.crt /etc/ssl/certs</command>
<command>sudo cp server.key /etc/ssl/private</command>
</screen>
            </para>
            <para>Deverá adicionar as quatro linhas seguintes ao ficheiro <filename>/etc/apache2/sites-available/default</filename> ou ao ficheiro de configuração da sua máquina virtual segura. Deve colocar as linhas na secção <emphasis>VirtualHost</emphasis>. Devem ser colocadas depois da linha <emphasis>DocumentRoot</emphasis>:</para>
<programlisting>
SSLEngine on

SSLOptions +FakeBasicAuth +ExportCertData +CompatEnvVars +StrictRequire

SSLCertificateFile /etc/ssl/certs/server.crt
SSLCertificateKeyFile /etc/ssl/private/server.key
</programlisting>
          
            <para>HTTPS deverá escutar no número de porto 443. Deverá adicionar a linha seguinte ao ficheiro <filename>/etc/apache2/ports.conf</filename>:</para>
<programlisting>
Listen 443
</programlisting>

        </sect3>
        <sect3 id="accessing-the-server" status="complete">
          <title>Aceder ao Servidor</title>
            <para>Uma vez instalado o certificado, deverá reiniciar o seu servidor web. Para o reiniciar pode executar o comando seguinte num terminal:</para>
            <para>
<screen><command>sudo /etc/init.d/apache2 restart</command> </screen>
            </para>
        <note><para>Deve relembrar e inserir a frase passe de cada vez que inicia o seu servidor web seguro.</para></note>

            <para>A frase passe ser-lhe-á pedida. Uma vez que tenha introduzido a frase correcta, o servidor web seguro será iniciado. Para aceder às páginas do servidor seguro digite  https://nome_seu_servidor/url/ na barra de endereços  do seu navegador.</para>

        </sect3>
      </sect2>
      <sect2 id="http-references" status="complete">
        <title>Referências</title>
          <para>
          <ulink url="http://httpd.apache.org/docs/2.0/">Documentação Apache2</ulink>
          </para>
          <para>
          <ulink url="http://www.modssl.org/docs/">Documentação Mod SSL</ulink>
          </para>
      </sect2>
    </sect1>

	<sect1 id="php5" status="complete">
		<title>PHP5 - Scripting Language</title>
      <para>PHP é uma linguagem de script para desenvolvimento Web. Os scripts PHP podem ser embebidos em HTML. Esta secção explica como instalar e configurar o PHP5 no sistema Ubuntu com o Apache2 e o MySQL</para>
      <para>Esta secção assume que tem instalado e configurado o servidor web Apache 2 e o servidor de bases de dados MySQL. Pode saber saber mais na secção Apache 2 e MySQL deste documento para saber como os instalar.</para>

<sect2 id="php5-installation" status="complete">
  <title>Instalação</title>
      <para>O PHP5 está disponível no Linux Ubuntu.</para>
      
      <procedure><step><para>Para instalar o PHP5 pode introduzir o seguinte comando na consola: <screen>
<command>sudo apt-get install php5-common php5 libapache2-mod-php5</command>
</screen></para>

      <para>Pode correr scripts PHP5 através da linha de comandos. Para isso, deve instalar o pacote <application>php5-cgi</application>. Para instalar o <application>php5-cgi</application>, pode introduzir o seguinte comando num terminal: <screen>
<command>sudo apt-get install php5-cgi</command>
</screen></para>
      <para>Para usar <application>MySQL</application> com o PHP5 deverá instalar o pacote <application>php5-mysql</application>. Para instalar o <application>php5-mysql</application> pode introduzir o seguinte comando na consola: <screen>
<command>sudo apt-get install php5-mysql</command>
</screen></para>
      <para>De forma semelhante, para usar <application>PostgreSQL</application> com o PHP5 deverá instalar o pacote <application>php5-pgsql</application>. Para instalar o <application>php5-pgsql</application> pode introduzir o seguinte comando na consola: <screen>
<command>sudo apt-get install php5-pgsql</command>
</screen></para>
			</step>
	    </procedure>
      </sect2>
      <sect2 id="php5-configuration" status="complete">
        <title>Configuração</title>
          <para>Uma vez instalado o PHP5, pode correr scripts PHP5 a partir do web browser. Se instalou o pacote <application>php5-cgi</application>, pode correr scripts PHP5 pela sua linha de comandos.</para>

          <para>
          By default, the Apache 2 Web server is configured to run PHP5
          scripts. In other words, the PHP5 module is enabled in Apache2
          Web server automatically when you install the module. Please
          verify if the files
          <filename>/etc/apache2/mods-enabled/php5.conf</filename> and
          <filename>/etc/apache2/mods-enabled/php5.load</filename>
          exist. If they do not exists, you can enable the module using
          <command>a2enmod</command> command.
          </para>

          <para>Uma vez instalado os pacotes referentes ao PHP5 e activado o modulo do PHP5 no Apache 2, deverá reinicar o Apache 2 Web Server para correr scripts PHP5. Pode executar o seguinte comando numa consola para reiniciar o seu servidor web : <screen><command>sudo /etc/init.d/apache2 restart</command> </screen></para>
      </sect2>
      <sect2 id="php5-testing" status="complete">
        <title>Testar</title>
          <para>Para verificar a sua instalação, você poderá executar o seguinte script PHP5 phpinfo:</para>
<programlisting>
&lt;?php
print_r (phpinfo());
?&gt;
</programlisting>
          <para>Pode guardar o conteúdo em um ficheiro <filename>phpinfo.php</filename> e colocá-lo na pasta <command>DocumentRoot</command> do servidor de Web Apache2. Quando apontar o seu navegador para <filename>http://hostname/phpinfo.php</filename>, ele deverá mostrar valores de vários parâmetros de configuração do PHP5.</para>
      </sect2>
    </sect1>
	
	<sect1 id="squid" status="complete">
		<title>Squid - Servidor Proxy</title>
          <para>O Squid é uma aplicação servidora de armazenamento web completa que fornece serviços de proxy e de armazenamento para Protocolo de Transporte de HiperTexto (HTTP), Protocolo de Transporte de Ficheiros (FTP), e outros protocolos de rede populares. O Squid pode implementar armazenamento e execução de proxy de pedidos de Camadas de Sockets Seguros (SSL)  e armazenamento de pesquisas a Servidor de Nomes de Domínio (DNS), e executar armazenamento transparente. O Squid suporta ainda uma ampla variedade de protocolos de armazenamento, como o Protocolo de Armazenamento da Internet, (ICP) o Protocolo de Armazenamento de HiperTexto, (HTCP) o Protocolo de Direccionamento de Tabelas de Armazenamento (CARP), e o Protocolo Coordenação de Armazenamento Web (WCCP).</para>
          <para>O servidor de armazenamento proxy Squi8d é uma excelente solução para várias necessidades de armazenamento e proxy do servidor, e cresce desde uma rede de um pequeno escritório até uma rede de nível empresarial, enquanto oferece mecanismos de acesso individualizado o monitorização de parâmetros críticos via Protocolo de Gestão de Redes Simples <emphasis role="italics">Simple Network Management Protocol</emphasis> (SNMP). Ao seleccionar um sistema para utilizar como servidor Squid dedicado, ou servidor de armazenamento temporário, assegure-se que esse sistema possui bastante memória RAM, dado que o Squid utiliza bastante para assegurar um desempenho melhorado.</para>
      <sect2 id="squid-installation" status="complete">
        <title>Instalação</title>
          <para>Num terminal, insira o seguinte comando para instalar o servidor Squid:</para>
          <para>
<screen>
<command>sudo apt-get install squid squid-common</command>
</screen>
          </para>
      </sect2>
      <sect2 id="squid-configuration" status="complete">
        <title>Configuração</title>
          <para>O Squid é configurado editando as directivas contidas no ficheiro de configuração <filename>/etc/squid/squid.conf</filename>. Os exemplos seguintes ilustram algumas das directivas que podem ser modificadas para alterar o comportamento do servidor Squid. Para uma configuração mais aprofundada do Squid, consulte a secção de referências.</para>
             <tip>
               <para>Antes de editar o ficheiro de configuração, deve fazer uma cópia do mesmo e protegê-lo contra escrita de forma a que possa usar as configurações originais como referência, ou reutilizar o ficheiro conforme necessário.</para>
               <para>Copie o ficheiro <filename>/etc/squid/squid.conf</filename> e proteja-o contra a escrita com os comandos seguintes utilizando o terminal:</para>
	     </tip>
               <para>
<screen>
<command>sudo cp /etc/squid/squid.conf /etc/squid/squid.conf.original</command>
<command>sudo chmod a-w /etc/squid/squid.conf.original</command>
</screen>
               </para> 
	        <para>
           <itemizedlist>
               <listitem>
                  <para>Para configurar o servidor Squid para escutar no porto TCP 8888 em vez do porto pré-definido 3128, altere a directiva http_port da seguinte forma:</para>
                  <para>http_port 8888</para>
               </listitem>
	            <listitem>
                  <para>Altere a directiva visible_hostname por forma a dar ao servidor Squid um nome de máquina específico. Este nome de máquina não precisa necessáriamente de ser o nome de máquina do computador. Neste exemplo  ele é configurado como <emphasis>weezie</emphasis></para>
                  <para>visible_hostname weezie</para>
               </listitem>
               <listitem>
                  <para>Mais uma vez, utilizando o controlo de acesso do Squid, pode configurar a utilização de serviços da Internet alvo de proxy pelo Squid por forma a que somente estejam acessiveis a utilizadores com determinados Endereços Internet (IP) . Por exemplo, vamos ilustrar o acesso apenas por utilizadores da subrede 192.168.42.0/24:</para>
                  <para>Adicione o seguinte no <emphasis role="bold">fim</emphasis> da secção ACL do seu ficheiro <filename>/etc/squid/squid.conf</filename>:</para>
                  <para>acl fortytwo_network src 192.168.42.0/24</para>
                  <para>Depois, adicione o seguinte no <emphasis role="bold">início</emphasis> da secção http_access do seu ficheiro <filename>/etc/squid/squid.conf</filename>:</para>
                  <para>http_access allow fortytwo_network</para>
               </listitem>
               <listitem>
                  <para>Utilizando as excelentes caracteristicas de controlo de acesso do Squid, pode configurar a utilização de serviços da Internet alvo de proxy pelo Squid  para que estejem acessiveis somente durante as horas de expediente. Por exemplo, vamos ilustrar o acesso dos empregados de um negócio que funciona das 9:00 as 17:00, de Segunda-feira a Sexta-feira, e que utiliza a subrede 10.1.42.0/42:</para>
                  <para>Adicione o seguinte no <emphasis role="bold">fim</emphasis> da secção ACL do seu ficheiro <filename>/etc/squid/squid.conf</filename>:</para>
                  <para>acl rede_trabalho src 10.1.42.0/24 acl horas_trabalho time M T W T F 9:00-17:00</para>
                  <para>Depois, adicione o seguinte no <emphasis role="bold">início</emphasis> da secção http_access do seu ficheiro <filename>/etc/squid/squid.conf</filename>:</para>
                  <para>http_access allow rede_trabalho horas_trabalho</para>
               </listitem>
          </itemizedlist>
          </para>
          <note>
	  <para>Após alterar o ficheiro <filename>/etc/squid/squid.conf</filename>, grave-o e reinicie o servidor <application>squid</application> para efectivar as alterações utilizando o seguinte comando num terminal:</para>
          </note>
          <para>
<screen>
<command>sudo /etc/init.d/squid restart</command>
</screen>
          </para>
      </sect2>
      <sect2 id="squid-references" status="complete">
      <title>Referências</title>
      <para>
      <ulink url="http://www.squid-cache.org/">Sítio web Squid</ulink>
      </para>
      </sect2>
    </sect1>
	<sect1 id="version-control-system" status="complete">
		<title>Sistema de Controlo de Versões</title>
          <para>O controlo de Versões é a arte de gerir alterações à informação. Tem sido desde há muito uma ferramenta crítica para programadores, que tipicamente gastam o seu tempo a executar pequenas alterações a software e depois desfazendo essas alterações no dia seguinte. No entanto a utilidade do software de controlo de versões extende-se bastante mais para além das fronteiras do mundo do desenvolvimento de software. Em qualquer lado onde encontre pessoas a utilizar computadores para gerir informação que muda frequentemente, existe espaço para o controlo de versões.</para>
<para>
          </para>
      <sect2 id="subversion" status="complete">
        <title>Subversion</title>
          <para>O Subversion é um sistema de controlo de versões 'open source'. Utilizando o Subversion pode gravar a história de ficheiros de código fonte e documentos. Eles gere ficheiros e directórios ao longo do tempo. Uma 'árvore' de ficheiros é colocada num repositório central. Este repositório é muito semelhante a um vulgar servidor de ficheiros, excepto que se lembra de todas as alterações efectuadas nos ficheiros e directórios.</para>
        <sect3 id="subversion-installation" status="complete">
          <title>Instalação</title>
            <para>Para aceder ao repositório do Subversion utilizando o protocolo HTTP deve instalar e configurar um servidor web com certificado digital. Está provado que o Apache2 funciona com o Subversion. Por favor consulte a sub-secção HTTP da secção Apache2 para o instalar e configurar. Consulte a sub-secção HTTPS da secção Apache2 para o instalar e configurar um certificado digital.</para>
						<para>Para instalar o Subversion, execute o seguinte comando num terminal:</para>
	    <para>
<screen>
<command>sudo apt-get install subversion libapache2-svn</command>
</screen>
	    </para>

        </sect3>
        <sect3 id="subversion-configuration" status="complete">
          <title>Configuração de Servidor</title>
            <para>Este passo assume que instalou os pacotes acima referidos no seu sistema. Esta secção explica como criar um repositório Subversion e aceder ao projecto.</para>
			<sect4 id="create-svn-repos" status="complete">
				<title>Criar um Repsitório Subversion</title>
<para>O repositório Subversion pode ser criado usando o comando seguinte num terminal:</para>

        <para>
<screen>
<command>svnadmin create /path/to/repos/project</command>
</screen>
        </para>
			</sect4>

        </sect3>
        <sect3 id="access-methods" status="complete">
          <title>Métodos de Acesso</title>
<para>Os repositórios Subversion podem ser acedidos (verificados) através de vários métodos -- num disco local, ou utilizando vários protocolos de rede. No entanto a localização de um repositório é sempre um URL. A tabela refere como diferentes esquemas URL indicam deferentes métodos de acesso.</para>
				<table><title>Métodos de Acesso</title>

					<tgroup cols="2">
						<colspec colname="1"/>
						<colspec colname="2"/>
						<thead>
							<row>
								<entry><para>Esquema</para></entry>
								<entry><para>Método de Acesso</para></entry>
							</row>
						</thead>
						<tbody>
							<row>
								<entry><para>file://</para></entry>
								<entry><para>acesso directo ao repositório (no disco local)</para></entry>
							</row>
							<row>
								<entry><para>http://</para></entry>
								<entry><para>Acesso via protocolo WebDAV a um servidor web Apache2 com Subversion</para></entry>
							</row>
							<row>
								<entry><para>https://</para></entry>
								<entry><para>O mesmo que http://, mas com codificação SSL</para></entry>
							</row>
							<row>
								<entry><para>svn://</para></entry>
								<entry><para>Acesso via protocolo personalizado a um servidor svnserve</para></entry>
							</row>
							<row>
								<entry><para>svn+ssh://</para></entry>
								<entry><para>O mesmo que svn://, mas através de túnel SSH</para></entry>
							</row>
						</tbody>
					</tgroup>
				</table>

				<para>Nesta secção, veremos como configurar o Subversion para todos estes métodos de acesso. Aqui, cobrimos o básico. Para mais detalhes em utilizações avançadas, consulte o <ulink url="http://svnbook.red-bean.com/">livro svn</ulink>.</para>
			<sect4 id="direct-repos-access" status="complete">
				<title>Acesso directo  ao repositório (file://)</title>
<para>Este é o mais simples de todos os métodos de acesso. Não requere nenhum processo do Subversion a funcionar no servidor. Este método é utilizado para aceder ao Subversion na mesma máquina. A sintaxe do comando, executado num terminal, é a seguinte:</para>

        <para>
<screen>
<command>svn co file:///caminho/para/repositorio/projecto</command>
</screen>
        </para>
  <para>ou</para>
	<para>
<screen>
<command>svn co file://nome_da_maquina/para/repositorio/projecto</command>
</screen>
        </para>
	<note>
		<para>Se não especificar o nome da máquina existem três barras (///) - duas para o protocolo (neste caso file) mais uma para o caminho. Se indicar o nome da máquina deve utilizar duas barras (//).</para>
	</note>
		<para>As permissões do repositório dependem das permissões do sistema de ficheiros. Se o utilizador tem permissão leitura/escrita, é possível efectuar as operações  sáida  e envio (<quote>checkout</quote> e <quote>commit</quote>) no repositório.</para>
			</sect4>
			<sect4 id="access-via-webdav" status="complete">
				<title>Acesso via protocolo WebDav (http://)</title>
<para>Para aceder ao repositório Subversion via protocolo WebDAV, deve configurar o seu servidor web Apache2. Terá de adicionar o seguinte no ficheiro <filename>/etc/apache2/apache2.conf</filename>:</para>

	<programlisting> &lt;Location /svn&gt;
  DAV svn
  SVNPath /caminho/para/repositorio
  AuthType Basic
  AuthName "O nome do seu repositório"
  AuthUserFile /etc/subversion/passwd
  &lt;LimitExcept GET PROPFIND OPTIONS REPORT&gt;
  Require valid-user
  &lt;/LimitExcept&gt;
  &lt;/Location&gt; </programlisting>
  <para>A seguir, deve criar o ficheiro <filename>/etc/subversion/passwd</filename>. Este ficheiro contém as informações de autenticação dos utilizadores. Para adicionar uma entrada, isto é, adicionar um utilizador, deve executar o seguinte comando num terminal:</para>
	<para>
<screen>
<command>htpasswd2 /etc/subversion/passwd nome_do_utilizador</command>
</screen>
        </para>
	<para>Este comando pedir-lhe-á para indicar uma palavra passe. Quando o fizer o utilizador será adicionado. Agora, para aceder ao repositório pode executar o seguinte comando:</para>
        <screen><command>svn co http://nome_do_servidor/svn</command></screen>
	<warning>
		<para>A palavra passe é transmitida como texto simples. Se estiver preocupado com a pesquisa indevida de palavras passe, aconselhamos a utilizalção de codificação SSL. Para detalhes consulte a secção seguinte:</para>
	</warning>
			</sect4>
			<sect4 id="access-via-webdav-with-ssl" status="complete">
				<title>Acesso via protocolo webDAV com codificação SSL (https://)</title>
					<para>Aceder ao repositório Subversion através do protocolo WebDAT com codificação SSL (https://) é semelhante ao http://, excepto que deve instalar e configurar um certificado difital no seu servidor web Apache2.</para>

					<para>Pode instalar um certificado digital emitido por uma companhia creditada como a Verisign. Alternativamente, pode instalar o seu próprio certificado auto assinado.</para>
					<para>Este passo assume que instalou e configurou um certificado digital no seu servidor web Apache2. Agora, para aceder ao repositório Subversion, consulte a secção acima! Os métodos de acesso são exactamente os mesmos, excepto o protocolo. Agora deve utilizar o https:// para aceder ao repositório Subversion.</para>

			</sect4>
			<sect4 id="access-via-custom-protocol" status="complete">
				<title>Acesso via protocolo personalizado (svn://)</title>
					<para>Uma vez criado o repositório Subversion, pode configurar o controlo de acessos. Edite o ficheiro <filename>/path/to/repos/project/conf/svnserve.conf</filename> para configurar o controlo de acessos. Por exemplo, para configurar a autenticação, pode retirar os comentários nas linhas seguintes do ficheiro de configuração:</para>
					<programlisting># [general]
# password-db = passwd</programlisting>

					<para>Depois de retirar os comentários nas linhas acima, pode gerir a lista de utilizadores no ficheiro passwd. Assim, edite o ficheiro <filename>passwd </filename> no mesmo directório e adicione um novo utilizador. A sintaxe é a seguinte:</para>
					<programlisting>username = password</programlisting>
					<para>Para mais detalhes, consulte o ficheiro por favor.</para>

					<para>Agora, para aceder ao Subversion via protocolo svn://, quer da mesma máquina ou de uma máquina diferente, pode executar o svnserver usando o comando svnserve. A sintaxe é a seguinte:</para>
					<programlisting>$ svnserve -d --foreground -r /caminho/para/repositorio
# -d -- modo serviço
# --foreground -- correr visível (útil para correcção de erros)
# -r -- raiz do directório a disponibilizar

Para mais detalhes sobre a utilização, por favor consulte:
$ svnserve --help</programlisting>

					<para>Uma vez executado este comando, o Subversion começa a escutar no porto pré-definido (3690). Para aceder ao repositório do projecto, deve executar o comando seguinte num terminal:</para>
					<para>
<screen>
<command>svn co svn://nome_da_maquina/projecto projecto --username nome_do_utilizador</command>
</screen>
                                        </para>
					<para>Dependendo da configuração, ele pede a palavra passe. Uma vez autenticado, ele verifica o código no repositório Subversion. Para sincronizar o repositório do projecto com a cópia local, pode executar num terminal o sub-comando <command>update</command>. A sintaxe é a seguinte:</para>
					<para>
<screen>
<command>cd project_dir ; svn update</command>
</screen>
                                        </para>
					<para>Para mais detalhes acerca de cada subcomando do Subversion, pode consultar o manual. Por exemplo, para aprender mais sobre o comando co (do inglês checkout, verificar), por favor execute o comando seguinte num terminal:</para>
                    <para><screen><command>svn co help</command></screen></para>

			</sect4>
			<sect4 id="access-via-custom-protocol-with-ssl" status="complete">
				<title>Acesso via protocolo personalizado com codificação SSL (svn+ssh://)</title>
					<para>A configuração e o processamento do servidor são os mesmos que o do método svn:// . Para mais detalhes consulte a secção acima. Este passo assume que seguiu os passos acima e iniciou o servidor Subversion utilizando o comando <application>svnserve</application>.</para>

					<para>Também é assumido que o servidor ssh está funcionar nessa máquina e que aceita ligações de entrada. Para confirmar, por favor tente entrar na máquina utilizando o ssh. Se conseguir entrar, está tudo bem. Se não conseguir, por favor verifique o servidor antes de continuar.</para>

					<para>O protocolo svn+ssh:// é utilizado para aceder ao repositório Subversion utilizando codificação SSL. Os dados transferidos são codificados utilizando este método. Para aceder ao repositório do projecto (para efectuar, por exemplo, uma verificação), deve utilizar a seguinte sintaxe no comando:</para>
                                        <para>
<screen>
<command>svn co svn+ssh://nome_da_maquina/var/svn/repos/projecto</command>
</screen>
                                        </para>

					<note><para>Tem que indicar o caminho completo (/path/to/repos/project) para aceder ao repositório do Subversion utilizando este método.</para></note>
					<para>Dependendo da configuração, ele pede uma palavra passe. Tem que digitar a palavra passe que utiliza para iniciar a sessão via ssh. Uma vez autenticado, ele verifica o código no repositório Subversion.</para>
			</sect4>
			</sect3>

      </sect2>
      <sect2 id="cvs-server" status="complete">
        <title>Servidor CVS</title> 
          <para>CVS é um sistema de controlo de versãoes. Pode utilizá-lo para registar o histórico dos ficheiros fonte.</para>
        <sect3 id="cvs-installation" status="complete">
          <title>Instalação</title>
            <para>Num terminal execute o seguinte comando para instalar o <application>cvs</application>: <screen>
<command>sudo apt-get install cvs</command>
</screen> Após instalar o <application>cvs</application>, deve instalar o <application>xinetd</application> para iniciar ou parar o servidor cvs. No terminal digite o seguinte comando para instalar a aplicação <application>xinetd</application>: <screen>
<command>sudo apt-get install xinetd</command>
</screen></para>
        </sect3>
        <sect3 id="cvs-configuration" status="complete">
          <title>Configuração</title>
            <para>
            Once you install cvs, the repository will be automatically
            initialized. By default, the repository resides under the
            <application>/var/lib/cvs</application> directory. You can
            change this path by running following command:

<screen>
<command>cvs -d /your/new/cvs/repo init</command>
</screen>

Once the initial repository is set up, you can configure
<application>xinetd</application> to start the CVS server. 
You can copy the following lines to the <filename>
/etc/xinetd/cvspserver</filename> file.

<programlisting>
service cvspserver
{
     port = 2401
     socket_type = stream
     protocol = tcp
     user = root
     wait = no
     type = UNLISTED
     server = /usr/bin/cvs
     server_args = -f --allow-root /var/lib/cvs pserver
     disable = no
}
</programlisting>

<note>
<para>Assegure-se que edita o repositório se alterou o directório do repositório pré-definido (<application>/var/lib/cvs</application>).</para>
</note>

Once you have configured <application>xinetd</application> you 
can start the cvs server by running following command:

<screen>
<command>sudo /etc/init.d/xinetd start</command>
</screen>
            </para>
            <para>Pode confirmar que o servidor CVS está em funcionamento executando o seguinte comando:</para>

            <para>
<screen>
<command>sudo netstat -tap | grep cvs</command>
</screen>
            </para>

            <para>Quando executa este comando, deverá ver a linha seguinte ou algo similar:</para>

<programlisting>
tcp 0 0 *:cvspserver *:* LISTEN 
</programlisting>

        <para>A partir daqui pode continuar a adicionar utilizadores, adicionar novos projectos, e a gerir o servidor CVS.</para>
        <warning>
<para>O CVS permite ao utilizador adicionar utilizadores independentemente da instalação do Sistema Operativo subjacente. Provavelmente a maneira mais fácil é a de usar Linux Users for CVS, embora tenha alguns problemas potenciais de segurança. Queira consultar o manual do CVS para mais detalhes.</para>
        </warning>

        </sect3>
        <sect3 id="cvs-add-projects" status="complete">
          <title>Adicionar Projectos</title>
            <para>
            This section explains how to add new project to the CVS 
			repository. Create the directory and add necessary document 
			and source files to the directory. Now, run the following 
			command to add this project to CVS repository:
<screen>
<command>cd your/project</command>
<command>cvs import -d :pserver:username@hostname.com:/var/lib/cvs -m "Importing my project to CVS repository" . new_project start</command>
</screen>

<tip>
<para>Pode usar a variável ambiente CVSROOT para guardar o directório de raiz do CVS. Uma vez exportada a variável de ambiente CVSROOT, pode evitar usar a opção -d no comando cvs acima.</para>
</tip>
The string <emphasis>new_project</emphasis> is a vendor
tag, and <emphasis>start</emphasis> is a release tag.
They serve no purpose in this context, but since CVS requires them, they
must be present.

<warning>
<para>Quando adiciona um novo projecto, o utilizador CVS que estiver a utilizar tem de ter permissões de escrita no repositório CVS (<application>/var/lib/cvs</application>). Por omissão, o grupo <application>src</application> tem permissão de escrita no repositório CVS. Assim, pode adicionar o utilizador a este grupo, podendo este então adicionar e gerir projectos no repositório CVS.</para>
</warning>
            </para>
        </sect3>
      </sect2>
      <sect2 id="version-control-ref" status="complete">
        <title>Referências</title> 
				<para><ulink url="http://subversion.tigris.org/">Página do Subversion</ulink></para>
				<para><ulink url="http://svnbook.red-bean.com/">Livro do Subversion</ulink></para>
				<para><ulink url="http://ximbiot.com/cvs/manual/cvs-1.11.21/cvs_toc.html">Manual do CVS</ulink></para>
      </sect2>
    </sect1>
	<sect1 id="databases" status="complete">
		<title>Bases de Dados</title>
          <para>O Ubuntu fornece dois servidores de Bases de Dados. Eles são: <itemizedlist spacing="compact">
                <listitem>
                    <para><application><trademark>MySQL</trademark></application></para>
                </listitem>
                <listitem>
                    <para><application>PostgreSQL</application></para>
                </listitem>
            </itemizedlist> Ambos disponíveis no repositório main. Esta secção explica como instalar e configurar estes servidores de bases de dados.</para>
      <sect2 id="mysql" status="complete">
        <title>MySQL</title>
          <para>O MySQL é um servidor robusto de base de dados SQL, rápido, multi-tarefa, multi-utilizador. É orientado para actividades críticas, de produção com grandes cargas, e também para ser embebido em software distribuído em massa.</para>

        <sect3 id="mysql-installation" status="complete">
          <title>Instalação</title>
            <para>Para instalar o MySQL, execute o comando seguinte a partir de um terminal:</para>

            <para>
<screen>
<command>sudo apt-get install mysql-server mysql-client</command>
</screen>
            </para>

            <para>Uma vez completada a instalação, o servidor MySQL deverá iniciar automaticamente. Pode executar o comando seguinte num terminal para verificar se o servidor MySQL está em execução:</para>

            <para>
<screen>
<command>sudo netstat -tap | grep mysql</command>
</screen>
            </para>

            <para>Quando executa este comando, deverá ver a linha seguinte ou algo similar:</para>

<programlisting>
tcp 0 0 localhost.localdomain:mysql *:* LISTEN -
</programlisting>
	<para>Se o servidor não estiver a executar correctamente, pode digitar o seguinte comando para o iniciar:</para>
            <para>
<screen>
<command>sudo /etc/init.d/mysql restart</command>
</screen>
        </para>

        </sect3>
        <sect3 id="mysql-configuration" status="complete">
          <title>Configuração</title>
            <para>Por omissão, a palavra passe do administrador não está definida. Uma vez instalado o MySQL, a primeira coisa que deve fazer é configurar a palavra passe do administrador. Para fazer isso, execute os seguintes comandos:</para>
            <para>
<screen>
<command>sudo mysqladmin -u root password novapalavrapassedorootsql</command>
</screen>
            </para>
            <para>
<screen>
<command>sudo mysqladmin -p -u root -h localhost senha novasenhasqlroot</command>
</screen>
            </para>

            <para>Pode editar o ficheiro <filename>/etc/mysql/my.cnf</filename> para configurar definições básicas -- ficheiro de registos, número de porto, etc. Consulte o ficheiro <filename>/etc/mysql/my.cnf</filename> para mais detalhes.</para>
        </sect3>
      </sect2>
      <sect2 id="postgresql" status="complete">
        <title>PostgreSQL</title> 
          <para>PostgreSQL é um sistema de base de dados, relacional e orientada para objectos, que tem as funcionalidades tradicionais dos sistemas comerciais e com melhorias que podem ser encontradas na próxima geração de sistemas DBMS.</para>
        <sect3 id="postgresql-installation" status="complete">
          <title>Instalação</title>
            <para>Para instalar PostgreSQL, execute o comando seguinte numa linha de comandos:</para>

            <para>
<screen>
<command>sudo apt-get install postgresql</command>
</screen>
            </para>

            <para>Uma vez completada a instalação, deverá configurar o servidor PostgreSQL de acordo com as suas necessidades,  embora a configuração por omissão seja viável.</para>
            
        </sect3>
        <sect3 id="postgresql-configuration" status="complete">
          <title>Configuração</title>
            <para>Por omissão, a ligação TCP/IP está desactivada. PostgreSQL suporta métodos múltiplos de autenticação. Por omissão, o método de autenticação IDENT é usado. Por favor consulte <ulink url="http://www.postgresql.org/docs/8.1/static/admin.html"> o guia do Administrador PostgreSQL</ulink>.</para>
            
            <para>A discussão seguinte assume que deseja activar ligações TCP/IP e usar o método MD5 para autenticação de clientes. Os ficheiros de configuração PostgreSQL são guardados no directório <filename>/etc/postgresql/&lt;versão&gt;/main</filename>. Por exemplo, se instalar o PostgreSQL 7.4, os ficheiros de configuração serão guardados no directório <filename>/etc/postgresql/7.4/main</filename>.</para>
            
            <tip>
            <para>Para configurar autenticação <application>ident</application>, adicione entradas ao ficheiro <filename>/etc/postgresql/7.4/main/pg_ident.conf</filename>.</para>
            </tip>

            <para>Para activar ligações TCP/IP, edite o ficheiro <filename>/etc/postgresql/7.4/main/postgresql.conf</filename></para>

            <para>Localize a linha <emphasis>#tcpip_socket = false</emphasis> e altere-a para <emphasis>tcpip_socket = true</emphasis>. Pode também editar outros parâmetros, se sabe exactamente aquilo que está a fazer! Para detalhes, consulte o ficheiro de configuração ou a documentação do PostgreSQL.</para>

            <para>Por omissão, as credenciais de utilizador não são definidas para autenticação de clientes <emphasis>MD5</emphasis>. Assim, é necessário em primeiro lugar configurar o servidor PostgreSQL para usar autenticação de clientes <emphasis>trust</emphasis>, ligar-se à base de dados, configurar a palavra passe, e reverter a configuração de volta para autenticação de clientes <emphasis>MD5</emphasis>. Para activar autenticação de clientes <emphasis>trust</emphasis>, edite o ficheiro <filename>/etc/postgresql/7.4/main/pg_hba.conf</filename></para>

            <para>Retire o comentário de todas as linhas existentes que usam autenticação de clientes <emphasis>ident</emphasis> e <emphasis>MD5</emphasis> e adicione a linha seguinte:</para>
<programlisting>
local all postgres trust sameuser
</programlisting>

            <para>Em seguida, execute o comando seguinte para iniciar o servidor PostgreSQL:</para>
            <para>
<screen>
<command>sudo /etc/init.d/postgresql start</command>
</screen>
            </para>
            <para>Uma vez que o servidor PostgreSQL tenha iniciado com sucesso, execute o comando seguinte num terminal para se ligar á base de dados modelo por defeito do PostgreSQL</para>

            <para>
<screen>
<command>psql -U postgres -d template1</command>
</screen>
            </para>
            <para>O comando acima liga-se ao <emphasis>template1</emphasis> da base de dados PostgreSQL como utilizador <emphasis>postgres</emphasis>. Uma vez que se ligue ao servidor PostgreSQL, vai estar numa linha de comando do SQL. Pode executar o seguinte comando SQL na linha de comando <application>psql</application> para configurar a palavra passe do utilizador <emphasis role="italics">postgres</emphasis>.</para>

            <para>
<screen>
<command>template1=# ALTER USER postgres with encrypted password 'a_sua_palavra_passe';</command>
</screen>
            </para>
            <para>Depois de configurar a senha, edite o ficheiro <filename>/etc/postgresql/7.4/main/pg_hba.conf</filename> para usar autenticação <emphasis>MD5</emphasis>:</para>
            <para>Comente (#) a linha recém adicionada <emphasis role="italics">trust</emphasis> e adicione a seguinte:</para>

<programlisting>
local all postgres md5 sameuser
</programlisting>
            <warning>
            <para>A configuração acima não deve ser entendida de forma alguma como completa. Consulte <ulink url="http://www.postgresql.org/docs/8.1/static/admin.html"> O Guia do Administrador PostgreSQL</ulink> para configurar mais parametros.</para>
            </warning>
        </sect3>
      </sect2>
    </sect1>
	<sect1 id="email-services" status="complete">
		<title>Serviços de Correio Electrónico</title>
          <para>O processo de obtenção de uma mensagem de coreeio electrónico de uma pessoa para outra através  de uma rede ou da internet envolve muitos sistemas a trabalhar em conjunto. Cada um destes sistemas tem de estar correctamente configurado para que o processo funcione. O remetente utiliza um <emphasis>Agente de Utilizador de Correio</emphasis> <emphasis role="italics">Mail User Agent</emphasis> (MUA), ou cliente de email, para enviar a mensagem através de um ou mais <emphasis>Agente de Transferência de Correio</emphasis> <emphasis role="italics">Mail Transfer Agent</emphasis> (MTA), o último dos quais a vai entregar a um <emphasis>Agente de Entrega de Correio</emphasis> <emphasis role="italics">Mail Delivery Agent</emphasis> (MDA) para entrega nas caixas de correio de destino, das quais será obtida pelos clientes de email dessas caixas, normalmente via um servidor POP3 ou IMAP.</para>
      <sect2 id="postfix" status="complete">
        <title>Postfix</title>
          <para>O <application>Postfix</application> é o Agente de Transporte de Correio (MTA) pré-definido no Ubuntu. Este tenta ser rápido e fácil de administrar e seguro. É compativel com o MTA <application>sendmail</application>. Esta secção explica como instalar e configurar o <application>postfix</application>. Também explica como configurá-lo como servidor SMTP utilizando uma ligação segura (para envio de email de forma segura).</para>
        <sect3 id="postfix-installation" status="complete">
          <title>Instalação</title>
            <para>Para instalar <application>postfix</application> com SMTP-AUTH e Transport Layer Security (TLS), execute o comando seguinte: <screen>
<command>sudo apt-get install postfix</command>
</screen> Pressione enter quando o processo de instalação lhe colocar questões, a configuração será feita com mais detalhe posteriormente.</para>
        </sect3>
        <sect3 id="postfix-configuration" status="complete">
          <title>Configuração Básica</title>
            <para>Para configurar o <application>postfix</application>, execute o seguinte comando: <screen>
<command>sudo dpkg-reconfigure postfix</command>
</screen> A interface do utilizador será mostrada. Em cada ecrã, seleccione os valores seguintes: <itemizedlist spacing="compact">
            <listitem><para>Ok</para></listitem>
            <listitem><para>Internet Site</para></listitem>
            <listitem><para>NONE</para></listitem>
            <listitem><para>mail.example.com</para></listitem>
            <listitem><para>mail.example.com, localhost.localdomain, localhost</para></listitem>
            <listitem><para>No</para></listitem>
            <listitem><para>127.0.0.0/8</para></listitem>
            <listitem><para>Yes</para></listitem>
            <listitem><para>0</para></listitem>
            <listitem><para>+</para></listitem>
            <listitem><para>all</para></listitem>
            </itemizedlist></para>
            <note>
            <para>Substitua mail.example.com com o nome do seu servidor de correio electrónico.</para>
            </note>
	 </sect3>
        <sect3 id="postfix-smtp-authentication" status="complete">
          <title>Autenticação SMTP</title>
            <para>Os passos seguintes são para configurar o <application>postfix</application> para utilizar o SASL para SMTP AUTH. Em vez de editar o ficheiro de configuração directamente, pode utilizar o comando <application>postconf</application> para configurar todos os parâmetros do <application>postfix</application>. Os parâmetros de configuração serão armazenados no ficheiro <filename>/etc/postfix/main.cf</filename>. Mais tarde, se desejar reconfigurar um parâmetro em particular, pode executar o comando ou alterá-lo manualmente o ficheiro.</para>
	<procedure>
		<step><para>Configure Postfix to do SMTP AUTH using SASL (saslauthd):
<screen>
postconf -e 'smtpd_sasl_local_domain ='
postconf -e 'smtpd_sasl_auth_enable = yes'
postconf -e 'smtpd_sasl_security_options = noanonymous'
postconf -e 'broken_sasl_auth_clients = yes'
postconf -e 'smtpd_recipient_restrictions = permit_sasl_authenticated,permit_mynetworks,reject_unauth_destination'
postconf -e 'inet_interfaces = all'
</screen>
Open the <filename>/etc/postfix/sasl/smtpd.conf</filename> file and add
the following lines to end of the file:
<screen>
pwcheck_method: saslauthd
mech_list: plain login
</screen>
		</para>
		</step>
		<step><para>Next, configure the digital certificate 
            for TLS. When asked questions, follow the instructions and answer appropriately.
<screen>
openssl genrsa -des3 -rand /etc/hosts -out smtpd.key 1024
chmod 600 smtpd.key
openssl req -new -key smtpd.key -out smtpd.csr
openssl x509 -req -days 3650 -in smtpd.csr -signkey smtpd.key -out smtpd.crt
openssl rsa -in smtpd.key -out smtpd.key.unencrypted
mv -f smtpd.key.unencrypted smtpd.key
openssl req -new -x509 -extensions v3_ca -keyout cakey.pem -out cacert.pem -days 3650
sudo mv smtpd.key /etc/ssl/private/
sudo mv smtpd.crt /etc/ssl/certs/
sudo mv cakey.pem /etc/ssl/private/
sudo mv cacert.pem /etc/ssl/certs/
</screen>
		</para>
		<note><para>Pode obter o certificado digital de uma autoridade certificada. Alternativamente, pode você mesmo gerar o certificado. Consulte <xref linkend="creating-a-self-signed-certificate"/> para mais detalhes.</para></note>
		</step>
		<step><para>Configurar Postfix para efectuar encriptação TSL para correio electrónico de entrada e de saída: <screen>
postconf -e 'smtpd_tls_auth_only = no'
postconf -e 'smtp_use_tls = yes'
postconf -e 'smtpd_use_tls = yes'
postconf -e 'smtp_tls_note_starttls_offer = yes'
postconf -e 'smtpd_tls_key_file = /etc/ssl/private/smtpd.key'
postconf -e 'smtpd_tls_cert_file = /etc/ssl/certs/smtpd.crt'
postconf -e 'smtpd_tls_CAfile = /etc/ssl/certs/cacert.pem'
postconf -e 'smtpd_tls_loglevel = 1'
postconf -e 'smtpd_tls_received_header = yes'
postconf -e 'smtpd_tls_session_cache_timeout = 3600s'
postconf -e 'tls_random_source = dev:/dev/urandom'
postconf -e 'myhostname = mail.example.com'
</screen></para>
		</step>
		</procedure>
            <note>
            <para>Após ter executado todos os comandos, o SMTP AUTH está configurado no <application>postfix</application>. O certificado auto-assinado é criado para TLS e configurado no <application>postfix</application>.</para>
            </note>
            <para>Agora, o ficheiro <filename>/etc/postfix/main.cf</filename> deverá ser semelhante a <ulink url="../sample/postfix_configuration">este</ulink>.</para>
		<para>A configuração inicial do postfix está completa. Execute o comando seguinte para iniciar o controlador postfix: <screen><command>sudo /etc/init.d/postfix start</command></screen> Agora o controlador <application>postfix</application> está instalado, configurado e é executado com sucesso. <application>Postfix</application> suporta SMTP AUTH como definido em <ulink url="ftp://ftp.isi.edu/in-notes/rfc2554.txt">RFC2554</ulink>. É baseado em <ulink url="ftp://ftp.isi.edu/in-notes/rfc2222.txt">SASL</ulink>. Contudo ainda é necessário configurar autenticação SASL antes de poder utilizar SMTP.</para>
	</sect3>
	<sect3 id="sasl">
	  <title>Configurar SASL</title>
            <para>
            The
            <application>libsasl2</application>,
            <application>sasl2-bin</application> and
            <application>libsasl2-modules</application> are necessary to
            enable SMTP AUTH using SASL. You can install these applications if
            you have not installed them already.
<screen>
<command>sudo apt-get install libsasl2 sasl2-bin</command>
</screen>
	    </para>
	    <para>São necessárias algumas alterações para funcionar devidamente. Porque o <application>Postfix</application> é executado <quote>chrooted</quote> em <filename>/var/spool/postfix</filename>, <application>SASL</application> necessita de ser configurado para correr no root falso (<filename>/var/run/saslauthd</filename> torna-se <filename>/var/spool/postfix/var/run/saslauthd</filename>): <screen>
<command>mkdir -p /var/spool/postfix/var/run/saslauthd</command>
<command>rm -rf /var/run/saslauthd</command>
</screen></para>
	    <para>Para activar <application>saslauthd</application>, edite o ficheiro <filename>/etc/default/saslauthd</filename>, e altere ou adicione a variável START. De forma a configurar <application>saslauthd</application> para correr em root falso, adicione as variáveis PWDIR, PIDFILE e PARAMS. Finalmente, configure a variável MECHANISMS conforme pretender. O ficheiro deverá parecer-se com: <programlisting>
# Isto necessita reconfigurado antes que o saslauthd funcione
# automaticamente
START=yes

PWDIR="/var/spool/postfix/var/run/saslauthd"
PARAMS="-m ${PWDIR}"
PIDFILE="${PWDIR}/saslauthd.pid"

# Necessita especificar o mecanismo de autenticação que deseja utilizar
# O pré-definido é o "pam" para suportar o PAM, mas também pode incluir
# "shadow" ou "sasldb", assim:
# MECHANISMS="pam shadow"

MECHANISMS="pam"
</programlisting></para>
<note>
<para>Se preferir, pode usar <emphasis role="strong">shadow</emphasis> em vez de <emphasis role="strong">pam</emphasis>.  Isto usará a transferência de senha MD5 hashed e é perfeitamente segura. O nome de utilizador e senha que precisam de autenticação serão os mesmos que os utilizadores do sistema onde executa o servidor.</para>
</note>
        <para>Em seguida, actualize o estado dpkg de <filename>/var/spool/portfix/var/run/saslauthd</filename>. O script de inicialização saslauthd usa esta definição para criar o directório em falta com as permissões e proprietário adequados. <screen>
<command>dpkg-statoverride --force --update --add root sasl 755 /var/spool/postfix/var/run/saslauthd</command>
</screen></para>
        </sect3>
        <sect3 id="postfix-testing" status="complete">
          <title>Testar</title>
            <para>A configuração de SMTP AUTH está completa. Agora está na hora de iniciar e testar a configuração. Pode executar o seguinte comando para iniciar o serviço SASL: <screen><command>sudo /etc/init.d/saslauthd start</command></screen> Para verificar se o SMTP-AUTH e o TLS trabalham correctamente, execute o comando seguinte: <screen><command>telnet mail.example.com 25</command></screen> Após ter estabelecido a ligação ao servidor de correio postfix, escreva: <screen>ehlo mail.example.com</screen> Se obtiver as linhas seguintes entre outras, então tudo estará a funcionar perfeitamente. Escreva <command>quit</command> para sair. <programlisting>
250-STARTTLS
250-AUTH LOGIN PLAIN
250-AUTH=LOGIN PLAIN
250 8BITMIME
</programlisting></para>
        </sect3>
      </sect2>
      <sect2 id="exim4" status="complete">
        <title>Exim4</title>
          <para>
            <application>Exim4</application> is another Message Transfer
            Agent (MTA) developed at the University of Cambridge for use
            on Unix systems connected to the internet. Exim can be
            installed in place of <application>sendmail</application>,
            although the configuration of
            <application>exim</application> is quite different to
            that of <application>sendmail</application>.
          </para>
        <sect3 id="exim4-installation" status="complete">
          <title>Instalação</title>
            <para>Para instalar o <application>exim4</application>, execute o seguinte comando: <screen>
<command>sudo apt-get install exim4 exim4-base exim4-config</command>
</screen></para>
        </sect3>
        <sect3 id="exim4-configuration" status="complete">
          <title>Configuração</title>
            <para>Para configurar o <application>exim4</application>, execute o comando seguinte: <screen>
<command>sudo dpkg-reconfigure exim4-config</command>
</screen> A interface de utilizador será apresentada. A interface do utilizador permite-lhe configurar muitos parâmetros. Por exemplo, no <application>exim4</application> os ficheiros de configuração são divididos entre ficheiros múltiplos. Se desejar ter esses ficheiros num só ficheiro pode configurar essa forma na interface de utilizador.</para>

            <para>
            All the parameters you configure in the user interface are
            stored in
            <filename>/etc/exim4/update-exim4.conf.conf</filename> file.
            If you wish to re-configure, either you re-run the
            configuration wizard or manually edit this file
            using your favourite editor. Once you configure, you can run
            the following command to generate the master configuration
            file:
<screen>
<command>sudo update-exim4.conf</command>
</screen>
            The master configuration file, is generated and
            it is stored in
            <filename>/var/lib/exim4/config.autogenerated</filename>. 
            
            <warning>
            <para>Em momento algum, deve editar o ficheiro de configuração principal, <filename>/var/lib/exim4/config.autogenerated</filename> manualmente. Este é actualizado automaticamente sempre que executar o comando <command>update-exim4.conf</command></para>
            </warning>
            You can run
            the following command to start
            <application>exim4</application> daemon.
<screen>
<command>sudo /etc/init.d/exim4 start</command>
</screen>
            <emphasis role="strong">TODO:</emphasis> This section should
            cover configuring SMTP AUTH with exim4. 
            </para>
        </sect3>
      </sect2>
      <sect2 id="dovecot-server" status="complete">
        <title>Servidor Dovecot</title> 
          <para><application>Dovecot</application> é um Agente de Entrega de Correio Electrónico, escrito principalmente com a preocupação da segurança em mente. Suporta os principais formatos de caixas de correio: mbox ou Maildir. Esta secção exemplifica como configurá-lo como servidor imap ou pop3.</para>
        <sect3 id="dovecot-installation" status="complete">
          <title>Instalação</title>
            <para>Para instalar <application>dovecot</application>, execute o comando seguinte numa linha de comandos: <screen>
<command>sudo apt-get install dovecot-common dovecot-imapd dovecot-pop3d</command>
</screen></para>
        </sect3>
        <sect3 id="dovecot-configuration" status="complete">
          <title>Configuração</title>
            <para>Para configurar <application>dovecot</application>, edite o ficheiro <filename>/etc/dovecot/dovecot.conf</filename>. Pode escolher o protocolo a utilizar. Nomeadamente, pop3, pop3s (pop3 seguro), imap e imaps (imap seguro). Uma descrição destes protocolos está para além dos objectivos deste guia. Para mais informação, consulte os artigos wikipedia em <ulink url="http://en.wikipedia.org/wiki/POP3">POP3</ulink> e <ulink url="http://en.wikipedia.org/wiki/Internet_Message_Access_Protocol">IMAP</ulink>.</para>

            <para>
            IMAPS and POP3S are more secure that the simple IMAP and
            POP3 because they use SSL encryption to connect. Once you
            have chosen the protocol, amend the following line in the file
            <filename>/etc/dovecot/dovecot.conf</filename>:
<programlisting>
protocols = pop3 pop3s imap imaps
</programlisting>

            It enables the protocols when <application>dovecot</application> is started. Next, add the following line in the pop3 section of the file <filename>/etc/dovecot/dovecot.conf</filename>:
<programlisting>
pop3_uidl_format = %08Xu%08Xv
</programlisting>

            Next, choose the mailbox you use. <application>Dovecot</application> supports
            <emphasis role="strong">maildir</emphasis> and <emphasis role="strong">mbox</emphasis> formats. These are the most
            commonly used mailbox formats. They both have their own
            benefits and they are discussed on <ulink url="http://dovecot.org/doc/configuration.txt">the dovecot website</ulink>.
            </para>
            <para>Uma vez escolhido o tipo de caixa de correio, edite o ficheiro <filename>/etc/dovecot/dovecot.conf</filename> e altere a linha seguinte: <programlisting>
default_mail_env = maildir:~/Maildir # (para o maildir)
or
default_mail_env = mbox:~/mail:INBOX=/var/spool/mail/%u # (para mbox)
</programlisting></para>
<note>
<para>
You should configure your Mail Transport Agent (MTA) to transfer the
incoming mail to this type of mailbox if it is different from the one
you have configured.
</para>
</note>
          <para>
          Once you have configured dovecot, start the <application>dovecot</application> daemon
          in order to test your setup:

          <screen><command>sudo /etc/init.d/dovecot start</command></screen>

          If you have enabled imap, or pop3, you can also try to log in
          with the commands <command>telnet localhost pop3</command> or
          <command>telnet localhost imap2</command>. If you see
          something like the following, the installation has been
          successful:
<programlisting>
bhuvan@rainbow:~$ telnet localhost pop3
Trying 127.0.0.1...
Connected to localhost.localdomain.
Escape character is '^]'.
+OK Dovecot ready.
</programlisting>
          </para>
        </sect3>
        <sect3 id="dovecot-ssl" status="complete">
          <title>Configuração SSL do Dovecot</title>
            <para>Para configurar o <application>dovecot</application> para utilizar SSL, pode editar o ficheiro <filename>/etc/dovecot/dovecot.conf</filename> e corrija as seguintes linhas: <programlisting>
ssl_cert_file = /etc/ssl/certs/dovecot.pem
ssl_key_file = /etc/ssl/private/dovecot.pem
ssl_disable = no
disable_plaintext_auth = no
</programlisting> Os ficheiros <emphasis role="strong">cert</emphasis> e <emphasis role="strong">key</emphasis> são gerados automaticamente pelo <application>dovecot</application> quando o instala. Por favor note que estas chaves não são assinadas e darão erros "bad signature" quando se ligar de um cliente. Para evitar isso, pode utilizar certificados comerciais, ou ainda melhor, pode utilizar os seus próprios certificados SSL.</para>
	</sect3>
	<sect3>
	  <title>Configuração da Firewall para um Servidor de Email</title>
          <para>Para aceder ao seu servidor de correio electrónico a partir de outro computador, deve configurar a sua firewall para permitir ligações ao servidor nos portos necessários. <itemizedlist>
            <listitem><para>IMAP - 143</para></listitem>
            <listitem><para>IMAPS - 993</para></listitem>
            <listitem><para>POP3 - 110</para></listitem>
            <listitem><para>POP3S - 995</para></listitem>
            </itemizedlist></para>
        </sect3>
      </sect2>
      <sect2 id="mailman" status="complete">
        <title>Mailman</title> 
          <para>Mailman é um programa de código fonte aberto para gerir discussões de correio electrónico e listas de notícias. Muitas listas de correio electrónico de software livre usam como software principal o Mailman (incluíndo <ulink url="http://lists.ubuntu.com">as listas de correio electrónico do Ubuntu</ulink>.) É poderoso e fácil de instalar e manter.</para>
        <sect3 id="mailman-installation" status="complete">
          <title>Instalação</title>
            <para>Mailman fornece um interface web para administradores e utilizadores. Por isso, requer apache com suporte mod_perl. Mailman usa um servidor de correio electrónico externo para enviar e receber correio electrónico. Funciona perfeitamente com os servidores de email seguintes:</para>
            <para>
            <itemizedlist spacing="compact">
                <listitem>
                    <para><application>Postfix</application></para>
                </listitem>
                <listitem>
                    <para><application>Exim</application></para>
                </listitem>
                <listitem>
                    <para><application>Sendmail</application></para>
                </listitem>
                <listitem>
                    <para><application>Qmail</application></para>
                </listitem>
            </itemizedlist>
            </para>

            <para>Veremos como instalar mailman, o servidor web apache e o servidor de email Exim. Se deseja instalar mailman com um servidor de email diferente, consulte a secção de referências.</para>
          <sect4 id="mailman-apache2">
            <title>Apache2</title>
              <para>Para instalar apache2 consulte <xref linkend="http-installation"/>.</para>
          </sect4>
          <sect4 id="mailman-exim4">
            <title>Exim4</title>
              <para>
              To install Exim4 you run the following commands at a terminal prompt:
<screen>
<command>sudo apt-get install exim4</command>
<command>sudo apt-get install exim4-base</command>
<command>sudo apt-get install exim4-config</command>
</screen>

Once exim4 is installed, the configuration files are stored in
the <filename>/etc/exim4</filename> directory. In Ubuntu, by default, the exim4 configuration files are
split across different files. You can change this behavior by changing
the following variable in the <filename>/etc/exim4/update-exim4.conf</filename> file:

              <itemizedlist spacing="compact">
              <listitem>
                <para><application>dc_use_split_config='true'</application></para>
              </listitem>
              </itemizedlist>
              </para>
          </sect4>
          <sect4 id="mailman-mailman">
            <title>Mailman</title>
              <para>Para instalar <application>Mailman</application>, execute o comando seguinte num terminal: <screen>
<command>sudo apt-get install mailman</command> 
</screen> Copia os ficheiros de instalação no directório <application>/var/lib/mailman</application>. Instala os scripts CGI no directório <application>/usr/lib/cgi-bin/mailman</application>. Cria o utilizador linux <emphasis>list</emphasis>. Cria o grupo linux <emphasis>list</emphasis>. Este utilizador será o proprietário do processo mailman.</para>
          </sect4>
        </sect3>
        <sect3 id="mailman-configuration" status="complete">
          <title>Configuração</title>
            <para>Esta secção assume que instalou com sucesso <application>mailman</application>, <application>apache2</application>, e <application>exim4</application>. Agora apenas precisa de os configurar.</para>
          <sect4 id="mailman-conf-apache2">
            <title>Apache2</title>
              <para>Uma vez instalado o apache2, pode adicionar as linhas seguintes no ficheiro <filename>/etc/apache2/apache2.conf</filename>: <programlisting>
Alias /images/mailman/ "/usr/share/images/mailman/"
Alias /pipermail/ "/var/lib/mailman/archives/public/"
</programlisting> O Mailman utiliza o apache2 para executar os seus scripts CGI. Os scripts CGI do mailman são instalados no directório <application>/usr/lib/cgi-bin/mailman</application>. Assim, o url do mailman será http://hostname/cgi-bin/mailman/. Pode fazer alterações ao ficheiro <filename>/etc/apache2/apache2.conf</filename> se desejar alterar este comportamento.</para>
          </sect4>

          <sect4 id="mailman-conf-exim4">
            <title>Exim4</title>
              <para>Uma vez instalado o Exim4, pode iniciar o servidor Exim utilizando o seguinte comando num terminal:<screen>
<command>sudo apt-get /etc/init.d/exim4 start</command>
</screen> Por forma a fazer o mailman utilizar o exim4, precisa de configurar o exim4. Como mencionado anteriormente, por omissão, o exim4 utiliza ficheiros de configuração múltiplos e de tipos diferentes. Para detalhes, consulte a página <ulink url="http://www.exim.org">Exim</ulink>. Para executar o mailman, devemos adicionar um novo ficheiro de configuração aos seguintes tipos de configuração: <itemizedlist spacing="compact">
              <listitem>
                <para>Principal</para>
              </listitem>
              <listitem>
                <para>Transporte</para>
              </listitem>
              <listitem>
                <para>Encaminhador (Router)</para>
              </listitem>
              </itemizedlist> O Exim gera o ficheiro de configuração principal ordenando todos estes mini-ficheiros de configuração. Assim, a ordem destes ficheiros de configuração é bastante importante.</para>
          </sect4>
          <sect4 id="mailman-conf-main">
            <title>Principal</title>
              <para>Todos os ficheiros de configuração pertencentes ao tipo main são guardados no directório <filename>/etc/exim4/conf.d/main/</filename>. Pode adicionar o conteúdo seguinte ao novo ficheiro, denominado <filename>04_exim4-config_mailman</filename>: <programlisting>
# inicio
# directório Home para a sua instalação do Mailman -- também referido 
# como prefixo do directório do Mailman 
# No Ubuntu deverá ser "/var/lib/mailman"
# Normalmente tem o mesmo significado que ~mailman MM_HOME=/var/lib/mailman
#
# Utilizador e Grupo para o Mailman, devem coincidir com a
# opção --with-mail-gid do script de configuração do Mailman.
# O valor é normalmente "mailman"
MM_UID=list
MM_GID=list
#
# Os domínios a listar estão numa - lista separada por vírgulas
# deve querer adiciona-los também ao local_domains também
domainlist mm_domains=hostname.com
#
# -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=

#
# Estes valores derivam daqueles acima e não devem necessitar
# de ser editados a não ser que tenha alterado a dua instalação mailman
#
# Caminho do script máscara do correio Mailman 
MM_WRAP=MM_HOME/mail/mailman
#
# Caminho do ficheiro da lista de configuração (utilizado como ficheiro
# necessário quando são verificadas moradas de listas)
MM_LISTCHK=MM_HOME/lists/${lc::$local_part}/config.pck
# fim
</programlisting></para>
          </sect4>
          <sect4 id="mailman-conf-transport">
            <title>Transporte</title>
              <para>Todos os ficheiros de configuração pertencentes ao tipo de transporte são guardados no directório <filename>/etc/exim4/conf.d/transport/</filename>. Pode adicionar o conteúdo seguinte a um novo ficheiro chamado <filename> 40_exim4-config_mailman</filename>: <programlisting>
  mailman_transport:
   driver = pipe
   command = MM_WRAP \
               '${if def:local_part_suffix \
                     {${sg{$local_part_suffix}{-(\\w+)(\\+.*)?}{\$1}}} \
                     {post}}' \
               $local_part
    current_directory = MM_HOME
    home_directory = MM_HOME
    user = MM_UID
    group = MM_GID
</programlisting></para>
          </sect4>
          <sect4 id="mailman-conf-router">
            <title>Encaminhador (Router)</title>
              <para>Todos os ficheiros de configuração pertencentes ao tipo encaminhador são guardados no directório <filename>/etc/exim4/conf.d/router/</filename>. Pode adicionar o conteúdo seguinte a ficheiro novo chamado <filename>101_exim4-config_mailman</filename>: <programlisting>
  mailman_router:
   driver = accept
   require_files = MM_HOME/lists/$local_part/config.pck
   local_part_suffix_optional
   local_part_suffix = -bounces : -bounces+* : \
                       -confirm+* : -join : -leave : \
                       -owner : -request : -admin
   transport = mailman_transport
</programlisting></para>
<warning>
<para>Os ficheiros de configuração principal e de transporte podem estar em qualquer ordem. Mas, a ordem dos ficheiros de configuração do encaminhador (router) deve ser a mesma. Este ficheiro em particular deve aparecer antes do ficheiro <application>200_exim4-config_primary</application>. Estes dois ficheiros de configuração contêem o mesmo tipo de informação. O primeiro ficheiro tem a precedência. Para mais detalhes, consulte as secções de referência por favor.</para>
</warning>
          </sect4>
          <sect4 id="mailman-conf-mailman">
            <title>Mailman</title>
              <para>
Once mailman is installed, you can run it using the following command:
<screen>
<command>sudo /etc/init.d/mailman start</command>
</screen>

Once mailman is installed, you should create the default mailing list.
Run the following command to create the mailing list:


<screen>
<command>sudo /usr/sbin/newlist mailman</command>
</screen>

<programlisting>
  Inroduza o endereço de correio electrónico da pessoa que gere a lista: bhuvan at ubuntu.com
  Palavra passe inicial do mailman:
  Para terminar a sua lista de correio electrónico, deve editar o seu ficheiro <filename>/etc/aliases</filename>
  (ou equivalente) adicionando as seguintes linhas, e posivelmente executar
  o programa `newaliases':

  ## mailman lista de correio
  mailman: "|/var/lib/mailman/mail/mailman post mailman"
  mailman-admin: "|/var/lib/mailman/mail/mailman admin mailman"
  mailman-bounces: "|/var/lib/mailman/mail/mailman bounces mailman"
  mailman-confirm: "|/var/lib/mailman/mail/mailman confirm mailman"
  mailman-join: "|/var/lib/mailman/mail/mailman join mailman"
  mailman-leave: "|/var/lib/mailman/mail/mailman leave mailman"
  mailman-owner: "|/var/lib/mailman/mail/mailman owner mailman"
  mailman-request: "|/var/lib/mailman/mail/mailman request mailman"
  mailman-subscribe: "|/var/lib/mailman/mail/mailman subscribe mailman"
  mailman-unsubscribe: "|/var/lib/mailman/mail/mailman unsubscribe mailman"

  Pressione enter para notificar o proprietário do mailman ...

  # 
</programlisting>

We have configured exim to recognize all emails from mailman. So, it is
not mandatory to make any new entries in
<filename>/etc/aliases</filename>.  If you have made any changes
to the configuration files, please ensure that you restart those
services before continuing to next section.
</para>
          </sect4>
        </sect3>
        <sect3 id="mailman-admin" status="complete">
          <title>Administração</title>
<para>
We assume you have a default installation. The
mailman cgi scripts are still in the
<application>/usr/lib/cgi-bin/mailman/</application> directory.  Mailman
provides a web based administration facility. To access this page, point
your browser to the following url: 

</para>
<para>http://hostname/cgi-bin/mailman/admin</para>

<para>
The default mailing list, <emphasis>mailman</emphasis>,
will appear in this screen. If you click the mailing list name, it
will ask for your authentication password.  If you enter the correct
password, you will be able to change administrative settings of this
mailing list.

You can create a new mailing list using the command line utility
(<command>/usr/sbin/newlist</command>).
Alternatively, you can create a new mailing list using the web interface. 
</para>
        </sect3>
        <sect3 id="mailman-users" status="complete">
          <title>Utilizadores</title>
<para>O Mailman providencia uma interface baseada na web para os utilizadores. Para aceder a esta página, aponte o seu navegador para o seguinte url:</para>

<para>http://nomedoanfitriao/cgi-bin/mailman/listinfo</para>

<para>A lista de correio electrónico pré-definida, <emphasis>mailman</emphasis>, aparecerá neste ecrã. Se clicar no nome da lista, ser-lhe-á apresentado um formulário de subscrição. Pode preencher o seu endereço de correio electrónicp, nome (opcional), e senha de subscrição. Ser-lhe-á enviado um convite via correio electrónico. Pode seguir as instruções dessa mensagem para subscrever a lista.</para>
        </sect3>
        <sect3 id="mailman-references" status="complete">
          <title>Referências</title>
<para>
<ulink url="http://www.list.org/mailman-install/index.html">GNU Mailman - Manual de Instalação</ulink>
</para>
<para>
<ulink url="http://www.exim.org/howto/mailman21.html">COMO FAZER - Utilizar o Exim 4 e o Mailman 2.1 em conjunto</ulink>
</para>
        </sect3>
      </sect2>
     </sect1>

	<sect1 id="NTP" status="complete">
		<title>Time Synchronisation with NTP</title>
	<para>
This page describes methods for keeping your computer's time accurate. This is useful for servers, but is not necessary (or desirable) for desktop machines. 
</para>
	<para>
NTP is a TCP/IP protocol for synchronising time over a network. Basically a client requests the current time from a server, and uses it to set its own clock.  
</para>
	<para>
Behind this simple description, there is a lot of complexity - there are tiers of NTP servers, with the tier one NTP servers connected to atomic clocks (often via GPS), and tier two and three servers spreading the load of actually handling requests across the internet. Also the client software is a lot more complex than you might think - it has to factor out communication delays, and adjust the time in a way that does not upset all the other processes that run on the server. But luckily all that complexity is hidden from you! 
</para>
	<para>O Ubuntu tem duas maneiras de definir automaticamente a data e hora: ntpdate e ntpd.</para>

<sect2 id="ntpdate" status="complete">
<title>ntpdate</title>
	<para>
Ubuntu comes with ntpdate as standard, and will run it once at boot time to set up your time according to Ubuntu's NTP server. However, a server's clock is likely to drift considerably between reboots, so it makes sense to correct the time ocassionally. The easiest way to do this is to get cron to run ntpdate every day. With your favourite editor, as root, create a file 
<code>/etc/cron.daily/ntpdate</code>
 containing: 
</para>
<screen>ntpdate ntp.ubuntu.com
</screen>
<para>
The file <code>/etc/cron.daily/ntpdate</code> must also be executable.
</para>
<screen>sudo chmod 755 /etc/cron.daily/ntpdate
</screen>
</sect2>
      <sect2 id="ntpd" status="complete">
<title>ntpd</title>
	<para>
ntpdate is a bit of a blunt instrument - it can only adjust the time once a day, in one big correction. The ntp daemon ntpd is far more subtle. It calculates the drift of your system clock and continuously adjusts it, so there are no large corrections that could lead to inconsistent logs for instance. The cost is a little processing power and memory, but for a modern server this is negligible. 
</para>
<para>Para instalar o ntpd:</para>
<screen>sudo apt-get install ntp-simple
</screen>
<para/>
</sect2>
<sect2 id="timeservers" status="complete">
<title>Changing Time Servers</title>
	<para>
In both cases above, your system will use Ubuntu's NTP server at 
<code>ntp.ubuntu.com</code>
 by default. This is OK, but you might want to use several servers to increase accuracy and resilience, and you may want to use time servers that are geographically closer to you. to do this for ntpdate, change the contents of 
<code>/etc/cron.daily/ntpdate</code>
 to: 
</para>
<screen>ntpdate ntp.ubuntu.com pool.ntp.org 
</screen>
	<para>
And for ntpd edit 
<code>/etc/ntp.conf</code>
 to include additional server lines: 
</para>
<screen>server ntp.ubuntu.com
server pool.ntp.org
</screen>
	<para>
You may notice 
<code>pool.ntp.org</code>
 in the examples above. This is a really good idea which uses round-robin DNS to return an NTP server from a pool, spreading the load between several different servers. Even better, they have pools for different regions - for instance, if you are in New Zealand, so you could use  
<code>nz.pool.ntp.org</code>
 instead of 
<code>pool.ntp.org</code>
. Look at 
<ulink url="http://www.pool.ntp.org/">http://www.pool.ntp.org/</ulink>
 for more details. 
</para>
	<para>
You can also Google for NTP servers in your region, and add these to your configuration. To test that a server works, just type 
<code>sudo ntpdate ntp.server.name</code>
 and see what happens. 
</para>
<para/>
</sect2>
	<sect2 id="relatedpages" status="complete">
<title>Related Pages</title>
	<itemizedlist>
	<listitem>
	<para>
<ulink url="http://ntp.isc.org/bin/view/Support/WebHome">Suporte NTP</ulink>
</para>
</listitem>
	<listitem>
	<para>
<ulink url="http://www.ntp.org/ntpfaq/NTP-a-faq.htm">A FAQ NTP e o HOWTO</ulink>
</para>
</listitem>
</itemizedlist>
<para/>
</sect2>
    </sect1>
	</chapter>
