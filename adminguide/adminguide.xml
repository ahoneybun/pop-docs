<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN" 
	"http://www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd" [
<!ENTITY % xinclude SYSTEM "../libs/xinclude.mod">
%xinclude;
<!ENTITY % globalent SYSTEM "../libs/global.ent">
%globalent;
]>
<book lang="en" id="adminguide">
    <title>&inline-ubuntu-icon; <phrase>Administration Guide</phrase>
    </title>
    <bookinfo>
        <title>The Ubuntu Administration Guide</title>
        <!-- Create a new <copyright> section here if you are a contributor -->
        <revhistory>
            <revision>
                <revnumber>&adminguide-rev;</revnumber>
                <date>14/01/2005</date>
                <authorinitials>SW</authorinitials>
                <revdescription>
                    <para>Initial outline</para>
                </revdescription>
            </revision>
        </revhistory> &copyright; &disclaimer; &legalnotice; &publisher;
            <authorgroup> &author-alexander-poslavsky; &author-sean-wheller; </authorgroup>
        <abstract>
            <para>Text</para>
        </abstract>
    </bookinfo>
    <preface id="pref-adminguide">
        <title>Preface</title> &conventions; &feedback; <sect1 id="using-book">
            <title>About this Book</title>
            <para>Text</para>
        </sect1>
        <sect1 id="sect-acknowledge">
            <title>Acknowledgments</title>
            <para>text</para>
        </sect1>
    </preface>
    <part id="prt-admin-intro">
        <title>Introduction</title>
        <partintro>
            <para>In this part of the book we provide an introduction to some of the most useful
                information resources administrators will need while administrating computers
                running Ubuntu. We also explain how to prepare for and perform an Ubuntu
                installation. For those running the Ubuntu Warty Warthog release we discuss the
                issues you should be aware of in order to perform an upgrade.</para>
        </partintro>
        <!-- About Ubuntu -->
        <chapter id="chp-admin-resources" status="help">
            <title>Information Resources</title>
            <para>text</para>
            <sect1 id="sct-admin-online" status="help">
                <title>Online</title>
                <para>text</para>
            </sect1>
            <sect1 id="sct-admin-documentation" status="help">
                <title>Documentation</title>
                <para>text</para>
            </sect1>
        </chapter>
        <chapter id="chp-admin-installation" status="help">
            <title>Installing</title>
            <sect1 id="sct-admin-inst-overview">
                <title>Overview</title>
                <para>text</para>
            </sect1>
            <sect1 id="sct-admin-inst-req" status="help">
                <title>Requirements</title>
                <para>tex</para>
            </sect1>
            <sect1 id="sct-admin-inst-boot-disks" status="writing">
                <title>Creating Boot Diskettes</title>
                <authorblurb>
                    <para>Alexander Poslavsky: outline</para>
                </authorblurb>
                <para>Goal: creating a bootdisk for emergency booting</para>
                <para>Tools: mkboot in the package debianutils</para>
                <para>Installation:</para>
                <screen>
			<userinput>
<command>sudo apt-get install debianutils</command>
			</userinput>
		</screen>
                <para>Creating boot disk:</para>
                <screen>
			<userinput>
<command>mkboot [-r rootpartition] [kernel]</command>
			</userinput>
		</screen>
                <para> mkboot can use several command-line options as well: </para>
                <variablelist>
                    <varlistentry>
                        <term>
                            <option>-r</option> rootpartition</term>
                        <listitem>
                            <para>Specifies the partition mkboot considers to be root.</para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>
                            <replaceable>kernel</replaceable>
                        </term>
                        <listitem>
                            <para>kernel that will be installed to the floppy</para>
                        </listitem>
                    </varlistentry>
                </variablelist>
                <note>
                    <para>mkboot has several command-line options as well.</para>
                </note>
                <para>links:</para>
                <para>
                    <ulink type="help" url="ghelp:mkboot">man-page</ulink>
                </para>
            </sect1>
            <sect1 id="sct-admin-inst-inst" status="help">
                <title>Installation</title>
                <sect2 id="sct-admin-inst-inst-prog" status="help">
                    <title>The Install Program</title>
                    <para>Text</para>
                </sect2>
                <sect2 id="sct-admin-inst-inst-partitions" status="help">
                    <title>Partitions</title>
                    <para>Text</para>
                </sect2>
                <sect2 id="sct-admin-inst-inst-filesys" status="help">
                    <title>File Systems</title>
                    <para>text</para>
                </sect2>
                <sect2 id="sct-admin-inst-inst-bootman" status="help">
                    <title>Boot Managers</title>
                    <para>Text</para>
                </sect2>
                <sect2 id="sct-admin-inst-inst-software" status="help">
                    <title>Installing Software</title>
                    <para>text</para>
                </sect2>
            </sect1>
            <sect1 id="sct-admin-inst-upgrade" status="help">
                <title>Upgrading</title>
                <para>text</para>
            </sect1>
            <sect1 id="sct-admin-inst-finishing" status="help">
                <title>Finishing Off</title>
                <para>text</para>
            </sect1>
        </chapter>
    </part>
    <part id="prt-admin-setup" status="help">
        <title>Setup</title>
        <partintro>
            <para>In this part of the book we cover the common configuration options administrators
                will want to do in order to setup the basic requirements for a server.</para>
        </partintro>
        <chapter id="chp-admin-setup-sysconfig" status="help">
            <title>System Configuration</title>
            <sect1 id="sct-admin-setup-admintools" status="help">
                <title>Administrative Tools</title>
                <para>text</para>
            </sect1>
            <sect1 id="sct-admin-setup-admininterf" status="help">
                <title>Administrative Interfaces</title>
                <para>text</para>
            </sect1>
            <sect1 id="sct-admin-setup-x" status="help">
                <title>X Windows System</title>
                <para>Text</para>
            </sect1>
            <sect1 id="sct-admin-setup-userman" status="help">
                <title>User Management</title>
                <para>text</para>
            </sect1>
            <sect1 id="sct-admin-setup-deviceman" status="help">
                <title>Device Management</title>
                <para>Text</para>
            </sect1>
            <sect1 id="sct-admin-setup-print" status="help">
                <title>Printing</title>
                <para>Text</para>
            </sect1>
        </chapter>
        <chapter id="chp-admin-setup-netconfig" status="help">
            <title>Network Configuration</title>
            <sect1 id="sct-admin-setup-lin-in-network" status="help">
                <title>Linux in the Network</title>
                <para>text</para>
            </sect1>
            <sect1 id="sct-admin-setup-ubuntu-srvman" status="help">
                <title>Ubuntu Server Management</title>
                <para>Text</para>
            </sect1>
            <sect1 id="sct-admin-setup-lan" status="help">
                <title>LAN</title>
                <para>Text</para>
            </sect1>
            <sect1 id="sct-admin-setup-broadband" status="help">
                <title>DSL and ISDN</title>
                <para>text</para>
            </sect1>
            <sect1 id="sct-admin-setup-ppp" status="help">
                <title>PPP</title>
                <para>Text</para>
            </sect1>
            <sect1 id="sct-admin-setup-modem" status="help">
                <title>Modem Setup</title>
                <para>text</para>
            </sect1>
            <sect1 id="sct-admin-setup-netprotocols" status="help">
                <title>Network Protocols</title>
                <para>Text</para>
            </sect1>
        </chapter>
        <chapter id="chp-admin-setup-security" status="help">
            <title>Security Configuration</title>
            <para>text</para>
            <sect1 id="sct-admin-setup-encrypt" status="help">
                <title>Encryption</title>
                <para>Text</para>
            </sect1>
            <sect1 id="sct-admin-setup-intrusion" status="help">
                <title>Intrusion Detection</title>
                <para>text</para>
            </sect1>
            <sect1 id="sct-admin-setup-proxy" status="help">
                <title>Proxies</title>
                <para>text</para>
            </sect1>
            <sect1 id="sct-admin-setup-firewall" status="help">
                <title>Firewalls</title>
                <para>text</para>
            </sect1>
            <sect1 id="sct-admin-setup-secure-shell" status="help">
                <title>Secure Shell</title>
                <para>text</para>
            </sect1>
            <sect1 id="sct-admin-setup-acl" status="help">
                <title>Access Control Lists (POSIX ACL)</title>
                <para>text</para>
            </sect1>
        </chapter>
        <chapter id="chp-admin-setup-backup" status="help">
            <title>Backups</title>
            <para>Text</para>
        </chapter>
    </part>
    <part id="prt-admin-sys" status="help">
        <title>System</title>
        <partintro>
            <para>In this part of the book we discuss Ubuntu on various hardware platforms and some
                of the special features provided by Ubuntu. We also discuss the Ubuntu boot concept.</para>
        </partintro>
        <chapter id="chp-admin-sys-ix86" status="help">
            <title>Ubuntu on iX86</title>
            <para>Text</para>
        </chapter>
        <chapter id="chp-admin-sys-amd64" status="help">
            <title>Ubuntu on AMD 64</title>
            <para>Text</para>
        </chapter>
        <chapter id="chp-admin-sys-powerpc" status="help">
            <title>Ubuntu on PowerPC</title>
            <para>text</para>
        </chapter>
        <chapter id="chp-admin-sys-dakernel" status="help">
            <title>The Linux kernel</title>
            <para>text</para>
        </chapter>
        <chapter id="chp-admin-sys-specials" status="help">
            <title>Special Ubuntu Features</title>
            <para>text</para>
        </chapter>
        <chapter id="chp-admin-sys-bootconcept" status="help">
            <title>Ubuntu Boot Concept</title>
            <para>text</para>
        </chapter>
    </part>
    <part id="prt-admin-serv" status="help">
        <title>Servers</title>
        <partintro>
            <para>In this part of the book we provide a short introduction to the server
                applications shipped with Ubuntu.</para>
        </partintro>
        <chapter id="chp-admin-serv-hetnet" status="writing">
            <title>Heterogeneous Networks</title>
            <authorblurb>
                <para>Sean Wheller: adding theorectical introduction</para>
            </authorblurb>
            <para>text</para>
        </chapter>
        <chapter id="chp-admin-serv-dns" status="writing">
            <title>Domain Name Service</title>
            <authorblurb>
                <para>Sean Wheller: adding theorectical introduction</para>
            </authorblurb>
            <para>DNS (Domain Name System) is an Internet service that maps IP addresses and fully
                qualified domain names (FQDN) to one another. In this way DNS alleviates the need to
                remember IP addresses. Computers that run DNS are called <emphasis>name
                servers</emphasis>. Ubuntu ships with <application>BIND</application> (Berkley
                Internet Naming Daemon), one of the most common programs used for maintaining a name
                server on GNU/Linux.</para>
            <!-- things to do: IPv6-->
        </chapter>
        <chapter id="chp-admin-serv-dhcp" status="writing">
            <title>DHCP</title>
            <authorblurb>
                <para>Sean Wheller: adding theorectical introduction</para>
            </authorblurb>
            <para>DHCP (Dynamic Host Configuration Protocol) is a network service that enables hosts
                computers to be automatically assigned with settings from a server as apposed to
                manually configuring each network host. Computers configured to be DHCP clients have
                no control over the settings they receive from the DHCP server and the configuration
                is transparent to the computers' user.</para>
            <para>The most common settings provided by a DHCP server to DHCP clients, include:</para>
            <itemizedlist spacing="compact">
                <listitem>
                    <para>IP-Address and Netmask</para>
                </listitem>
                <listitem>
                    <para>DNS</para>
                </listitem>
                <listitem>
                    <para>WINS</para>
                </listitem>
            </itemizedlist>
            <para>However, a DHCP server can also supply configuration properties such as:</para>
            <itemizedlist spacing="compact">
                <listitem>
                    <para>Host Name</para>
                </listitem>
                <listitem>
                    <para>Domain Name</para>
                </listitem>
                <listitem>
                    <para>Default Gateway</para>
                </listitem>
                <listitem>
                    <para>Time Server</para>
                </listitem>
                <listitem>
                    <para>Print Server</para>
                </listitem>
            </itemizedlist>
            <para>The advantage of using DHCP is that changes to the network, for example a change
                in the address of the DNS server, need only be changed at the DHCP server and all
                network hosts will be reconfigured the next time each of their DHCP clients poll the
                DHCP server. As an added advantage it is also easier to integrate new computers into
                the network as there is no need to check for the availability of an ip-address.
                Conflicts in ip-address allocation are also reduced.</para>
            <para>A DHCP server can provide configuration settings using two methods:</para>
            <variablelist>
                <varlistentry>
                    <term>MAC Address</term>
                    <listitem>
                        <para>This method entails using DHCP to identify the unique hardware address
                            of each network card connected to the network and then continuously
                            supply a constant configuration each time the DHCP client makes a
                            request from the DHCP server.</para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>Address Pool</term>
                    <listitem>
                        <para>This method entails defining a pool (sometimes also called a range or
                            scope) of ip-addresses from which DHCP clients are supplied their
                            configuration properties dynamically and on a fist come first serve
                            basis. When a DHCP client is no longer on the network for a specified
                            period, the configuration is expired and released back to the address
                            pool for use by other DHCP Clients.</para>
                    </listitem>
                </varlistentry>
            </variablelist>
            <para>Ubuntu is shipped with both DHCP server and client. The server is
                <application>dhcpd</application> (dynamic host configuration protocol daemon). The
                client provided with Ubuntu is <application>???</application> and should be
                installed on all computers required to be automatically configured. Both programs
                are easy to install and configure and will be automatically started at system boot.</para>
            <task>
                <title>Installing a DHCP Server (dhcpd)</title>
                <procedure>
                    <step>
                        <para>000</para>
                    </step>
                </procedure>
            </task>
            <variablelist>
                <varlistentry>
                    <term>Tools:</term>
                    <listitem>
                        <para>dhcpd</para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>Installation:</term>
                    <listitem>
                        <para>At the prompt enter the following command to install <application>dhcpd</application>:</para>
                        <para>
                            <command>sudo apt-get install dhcpd</command>
                        </para>
                    </listitem>
                </varlistentry>
            </variablelist>
            <para>You will see the following output, which explains what to do next:</para>
            <screen>
                Please note that if you are installing the DHCP server for the first
                time you need to configure it first. Please stop (/etc/init.d/dhcp
                stop) the DHCP server daemon, edit /etc/dhcpd.conf to suit your needs
                and particular configuration, and restart the DHCP server daemon
                (/etc/init.d/dhcp start).
                
                You also need to edit /etc/default/dhcp to specify the interfaces dhcpd
                should listen to. By default it listens to eth0.
                
                NOTE: dhcpd's messages are being sent to syslog. Look there for
                diagnostics messages.
                
                Starting DHCP server: dhcpd failed to start - check syslog for diagnostics.
            </screen>
            <para>The error-message the installation ends with might be a little confusing but the
                following steps will help you configuring the service:</para>
            <para>Most commonly what you want to do is assign IP addresses randomly. This can be
                done with settings as follows:</para>
            <screen>
                # Sample /etc/dhcpd.conf
                # (add your comments here) 
                default-lease-time 600;
                max-lease-time 7200;
                option subnet-mask 255.255.255.0;
                option broadcast-address 192.168.1.255;
                option routers 192.168.1.254;
                option domain-name-servers 192.168.1.1, 192.168.1.2;
                option domain-name "mydomain.org";
                
                subnet 192.168.1.0 netmask 255.255.255.0 {
                range 192.168.1.10 192.168.1.100;
                range 192.168.1.150 192.168.1.200;
                }
            </screen>
            <para>This will result in DHCP server giving a client an IP address from the range
                192.168.1.10-192.168.1.100 or 192.168.1.150-192.168.1.200. It will lease an IP
                address for 600 seconds if the client doesn't ask for specific time frame. Otherwise
                the maximum (allowed) lease will be 7200 seconds. The server will also "advise" the
                client that it should use 255.255.255.0 as its subnet mask, 192.168.1.255 as its
                broadcast address, 192.168.1.254 as the router/gateway and 192.168.1.1 and
                192.168.1.2 as its DNS servers. </para>
            <para>If you need to specify a WINS server for your Windows clients you will need to
                include the netbios-name-servers option e.g.</para>
            <screen>
                option netbios-name-servers 192.168.1.1;
            </screen>
            <para>Dhcpd configuration settings are taken from DHCP mini-HOWTO, which can be found
                    <ulink url="http://www.tldp.org/HOWTO/DHCP/index.html">here</ulink>. </para>
        </chapter>
        <chapter id="chp-admin-serv-nfs" status="writing">
            <title id="title-chp-admin-serv-nfs">NFS</title>
            <authorblurb>
                <para>Sean Wheller: adding theorectical introduction</para>
            </authorblurb>
            <para>Text</para>
        </chapter>
        <chapter id="chp-admin-serv-samba" status="writing">
            <title>Samba</title>
            <authorblurb>
                <para>Sean Wheller: adding theorectical introduction</para>
            </authorblurb>
            <para>Samba is a program that provides services that enables computers running UNIX to
                act as a file and print server for computers running DOS, Windows or OS/2. Samba
                servers provide hardware resources to client computers by means of network shares. A
                share may be a directory or a device and is, by default, advertised and accessed by
                the name of the directory or device across the network. However, administrators can
                optionally customize the name in order to make it easier to remember or give a clue
                to network users as to the purpose of the share.</para>
            <para>Samba uses SMB (Server Message Block) a protocol that is based on NetBIOS. SMB was
                originally developed by Microsoft and is set on top of TCP/IP, for this reason it is
                often also referred to as NetBIOS over TCP/IP. As a result, in order to use Samba
                all network hosts must have TCP/IP installed and configured. Most operating systems
                support the SMB protocol.</para>
        </chapter>
        <chapter id="chp-admin-serv-nis" status="writing">
            <title>NIS</title>
            <authorblurb>
                <para>Sean Wheller: adding theorectical introduction</para>
            </authorblurb>
            <para>NIS (Network Information Service) is a distributed network database service
                containing key information about the systems and the users on the network. There are
                normally multiple NIS services running in a network, one of the NIS services is the
                master and replicates information from the master NIS database to all other NIS
                servers that are said to be slave servers.</para>
            <para>A single NIS master defines a domain and provides centralized network services,
                such as authentication, for services such as <xref linkend="chp-admin-serv-nfs"/>.
                Implementation of NIS ensures that all user and group identities are identical
                across all hosts in a specific network. This makes access to common resources easier
                by making the network transparent to the user. Users using different computers will
                find themselves in the exact same environment regardless of the computer they choose
                to work from. NIS is also sometimes referred to as <emphasis>yellow pages</emphasis>.</para>
        </chapter>
        <chapter id="chp-admin-serv-aws" status="writing">
            <title>Apache2 Web Server</title>
            <authorblurb>
                <para>Sean Wheller: adding theorectical introduction</para>
            </authorblurb>
            <para>Apache is the most commonly used Web Server on Linux systems. Web Servers are used
                to serve Web Pages requested by client computers. Clients typically request and view
                Web Pages using Web Browser applications such as <application>Firefox</application>,
                <application>Opera</application> or <application>Mozilla</application>.</para>
            <para>Users enter a URL (Uniform Resource Locater) to point to a Web server by means of
                its FQDN and a path to the required resource. For example, to view the home page of
                the Ubuntu Web site a user will enter only the FQDN
                <userinput>&ubuntu-web;</userinput>. To request specific information about paid
                support a user will enter the FQDN followed by a path <userinput>&ubuntu-paidsupport;</userinput>.</para>
            <para>The most common protocol used to transfer Web pages is HTTP (HyperText Transfer
                Protocol). Protocols such as HTTPS, a secure, encrypted version of HTTP, and FTP
                (File Transfer Protocol), a protocol for uploading and downloading files, are also supported.</para>
            <para>Apache Web Servers are often combined with the <application>MySQL</application>
                database, <application>PHP</application>, popular scripting languages such as
                <application>Python</application> and <application>Perl</application>. This
                configuration is termed LAMP (Linux, Apache, MySQL and Perl/Python/PHP) and forms a
                powerful and robust platform for the development and serving of Web-based applications.</para>
        </chapter>
        <chapter id="chp-admin-serv-ftp" status="writing">
            <title>FTP Servers</title>
            <authorblurb>
                <para>Sean Wheller: adding theorectical introduction</para>
            </authorblurb>
            <para>FTP (File Transfer Protocol) is a TCP protocol for uploading and downloading large
                files between computers. FTP works on a client/server model. The server component is
                called a <emphasis>FTP daemon</emphasis>, it continuosly checks for FTP requests
                from remote clients. When a request is received it manages the the login and sets up
                the connection. For the duration of a session it executes any of commands sent by
                the FTP client.</para>
            <para>Access to an FTP server can be managed in two ways:</para>
            <itemizedlist spacing="compact">
                <listitem>
                    <para>Anonymous</para>
                </listitem>
                <listitem>
                    <para>Authenticated</para>
                </listitem>
            </itemizedlist>
            <para>In the Anonymous mode, remote clients can access the FTP server using the a
                default user called &apos;anonymous&quot; or &quot;ftp&quot; and
                sending thier email address as the password. In the Authenticated mode a user must
                have an account and password. User access to the FTP server directories and files is
                dependant on the permissions defined for the account used at login. As a general
                rule the FTP daemon will hide the root directory of the FTP server and change it to
                the FTP Home directory. This hides the rest of the file system from remote sessions.</para>
        </chapter>
        <chapter id="chp-admin-serv-mail" status="writing">
            <title>Mail Servers</title>
            <authorblurb>
                <para>Sean Wheller: adding theorectical introduction</para>
            </authorblurb>
            <para>text</para>
        </chapter>
        <chapter id="chp-admin-serv-nntp" status="writing">
            <title>News Servers</title>
            <authorblurb>
                <para>Sean Wheller: adding theorectical introduction</para>
            </authorblurb>
            <para>text</para>
        </chapter>
        <chapter id="chp-admin-serv-search" status="writing">
            <title>Search Servers</title>
            <authorblurb>
                <para>Sean Wheller: adding theorectical introduction</para>
            </authorblurb>
            <para>text</para>
        </chapter>
        <chapter id="chp-admin-serv-proxy" status="writing">
            <title>Proxies</title>
            <authorblurb>
                <para>Sean Wheller: adding theorectical introduction</para>
            </authorblurb>
            <para>text</para>
        </chapter>
        <chapter id="chp-admin-sync" status="writing">
            <title>Synchronization of Files</title>
            <authorblurb>
                <para>Sean Wheller: adding theorectical introduction</para>
            </authorblurb>
            <para>text</para>
        </chapter>
    </part>
    <part id="prt-admin-sysadmin" status="help">
        <title>System Administration</title>
        <partintro>
            <para>In this part we discuss the administration of Ubuntu systems.</para>
        </partintro>
        <chapter id="chp-admin-sysadmin-basics" status="help">
            <title>Basic System Administration</title>
            <para>Text</para>
        </chapter>
        <chapter id="chp-admin-sysadmin-user" status="help">
            <title>User Administration</title>
            <para>Text</para>
        </chapter>
        <chapter id="chp-admin-sys-software" status="help">
            <title>Software Administration</title>
            <para>Text</para>
        </chapter>
        <chapter id="chp-admin-sysadmin-filesystem" status="help">
            <title>File System Administration</title>
            <para>Text</para>
        </chapter>
        <chapter id="chp-admin-sysadmin-kernel" status="help">
            <title>Kernel Administration</title>
            <para>Text</para>
            
        </chapter>
        <chapter id="chp-admin-sysadmin-tcp" status="help">
            <title>Administering TCP/IP Networks</title>
            <para>Text</para>
            
            
        </chapter>
    </part>
    &cc-by-sa; &fdl;
    <!--
    ===================================
        Bibliography
        Database = ../common/biblio.xml
        Add biblioentry's to database.
        Add empty bibliomixed element to bibliography with @id matching a database biblioentry @id
        The Bibliography is automatically inserted
        Following is an example.
    -->
    <!-- COMMENT CAUSE YELP DOES NOT LIKE THIS -->
    <!--<bibliography>
        <bibliomixed id="gordongraham"/>
    </bibliography>-->
    <!-- 
    ===================================
        Index 
        Database = The User Guide Documents *.xml
        Add primary and secondary indexterm's to documents
        The index is automatically inserted
    -->
    <index/>
</book>
