<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN" 
	"http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
<!ENTITY % globalent SYSTEM "../../../libs/global.ent">
%globalent;
<!ENTITY % cdo-C SYSTEM "../../../libs/cdo-C.ent">
%cdo-C;
<!ENTITY % kde SYSTEM "../../libs/kde.ent">
%kde;
<!ENTITY % kde-menus-C SYSTEM "../../libs/kde-menus-C.ent">
%kde-menus-C;
]>
<article>
    <title>Installing KDE for Ubuntu</title>
    <subtitle>
        <inlinemediaobject>
            <imageobject>
		    <imagedata fileref="../../images/C/kq_kub_doc_5.png" format="PNG"
                />
            </imageobject>
        </inlinemediaobject>
    </subtitle>
    <articleinfo>
        <copyright>
            <year>2005</year>
            <holder>
                <ulink url="http://www.inwords.co.za">In Words Techdoc Solutions</ulink>
            </holder>
        </copyright>
        <publisher>
            <publishername>
                <ulink url="http://www.inwords.co.za">In Words Techdoc
                Solutions</ulink>
            </publishername>
        </publisher> &copyright; &disclaimer; &legalnotice; <authorgroup> &author-sean-wheller; </authorgroup>
        <revhistory>
            <revision>
                <revnumber>0.1</revnumber>
                <date>March 13, 2005</date>
                <revremark>First version</revremark>
            </revision>
        </revhistory>
        <revhistory>
            <revision>
                <revnumber>0.2</revnumber>
                <date>March 18, 2005</date>
                <revremark>[*] no longer restart after display manager, rather  
                end session (restart X). [*] change KDM login per new graphical
                    login.</revremark>
            </revision>
        </revhistory>
        <abstract>
            <para>This manual explains how to install the K Desktop
            Environment (KDE) from within an Ubuntu system running the GNOME
                Desktop Environment.</para>
        </abstract>
    </articleinfo>
    <sect1 id="intro">
        <title>Introduction</title>
        <para>Support for the K Desktop Environment (KDE) was added to Ubuntu in
            the Hoary release. Since the GNOME Desktop Environment was the first
            desktop to be shipped with Ubuntu, many Ubuntu users have only installed and
            used GNOME. The introduction of KDE support in Ubuntu
            means that users now have a choice of desktops to use in their
            favorite computing environment.</para>
        <para>This document introduces you to the K Desktop Environment (KDE)
            for Ubuntu, an alternative desktop computing environment for Ubuntu.</para>
        <para>The main objective is to explain how to install KDE for Ubuntu on
            a system already running the GNOME desktop. For users who have never
            used KDE we also provide some information to help get you started,
            including: a short background to KDE, an introduction to KDE for
            Ubuntu, information about switching desktops, and how to perform
            basic package management.</para>
        <para>The decision of which desktop to use is a personal choice. Don't
            asks us, &quot;Which Desktop is best?&quot; This is a
            religious question and a source of much humor, debate and flame wars
            amongst groupies from both desktops. If you are new to GNU/Linux we
            suggest trying as many desktop environments as you can, until you
            establish a personal preference for one of them. Of course we hope
            you will choose to &quot;Conquer your Desktop! &quot; with
            KDE.</para>
        <sect2 id="about-kde">
            <title>About KDE</title>
            <para>KDE is a powerful Free Software graphical desktop environment
                for Linux and Unix workstations. It combines ease of use,
                contemporary functionality, and outstanding graphical design
                with the technological superiority of the Unix operating system.
                KDE is one of the two leading graphical desktop environments for
                GNU/Linux users. KDE sports an impressive array of easy to use,
                but powerful, graphical interface applications for users of all
                ages in both home and work environments. For developers, KDE
                provides a robust application development framework that enables
                rapid creation of first rate applications implementing cutting
                edge technology. More information about KDE can be found at the
                    <ulink url="http://www.kde.org">KDE Web site</ulink>.</para>
        </sect2>
        <sect2 id="about-kubuntu">
            <title>About Kubuntu</title>
            <para>As an Ubuntu user you should already know that Ubuntu is based
                on the Debian distribution and ships, by default, with the GNOME
                desktop. When you tell people your distro of choice is Ubuntu,
                they will naturally assume you run a GNOME desktop.</para>
            <para>Therefore, once you install KDE for Ubuntu, simply saying you
                are running Ubuntu can lead to some confusion in the support
                forums and on mailing lists. So, for purpose of clarity and to
                help avoid confusion, it was decided that KDE for Ubuntu will be
                affectionately known as &quot;Kubuntu.&quot; This
                follows the long standing tradition of the KDE application
                naming convention, which entails adding &apos;K&apos; as
                the first letter of a KDE application name.</para>
            <para>Kubuntu aims to be to KDE what Ubuntu is to Gnome: a great
                integrated distribution with all the great features of Ubuntu, but
                based on the KDE desktop. Kubuntu is released regularly and
                predictably. More information about Kubuntu can be found at the
                    <ulink url="http://www.ubuntulinux.org/wiki/Kubuntu">Kubuntu
                    Wiki</ulink>.</para>
        </sect2>
        <sect2 id="switching">
            <title>Switching Desktops</title>
            <para>As a GNOME user you may be concerned that your favorite GNOME
                applications will not be able to run under Kubuntu. This is not
                the case. In recent times much work has been done to increase
                compatibility between GNOME and KDE. Today, virtually all GNOME
                applications can be run under KDE and vice-verse.</para>
            <para>While the KDE Desktop is very different to that of GNOME, all
                your favorite GNOME applications will be integrated with your
                KDE menu system.</para>
            <para>Another concern for users wanting to try Kubuntu, may be that
                KDE will become their only desktop once it is installed. While
                we do indeed hope you will make KDE your desktop of choice,
                this is not the case, both desktop session types can be run after
                installing Kubuntu. Furthermore, during installation you will be
                given the choice of using either the <application>GNOME Display
                    Manager</application> (GDM) or the <application>K Display
                    Manager</application> (KDM).</para>
            <para>Either display manager will suffice and after installation you
                will be able to run both GNOME and KDE session types. Both GDM
                and KDM are replacements to the <application>X Window Display
                    Manager</application> (XDM) that comprises the default
                display manager for the X Window System. Display managers are
                the &apos;windowing systems&apos; that generate the
                windows used to contain and control application interfaces.</para>
            <para>Feel free to try KDM, you can always switch back to using GDM
                later if you like. We will explain how to do this later in this
                document (see <xref linkend="switch-kdm-gdm"/>).</para>
        </sect2>
    </sect1>
    <sect1>
        <title>Installation</title>
        <para>Installation can be performed using
            <application>APT</application>. During installation you will be
            required to answer a few questions. Follow the procedure below.</para>
        <procedure>
            <step>
                <para>From the GNOME Desktop start a shell session.</para>
            </step>
            <step>
                <para>At the prompt enter the following command</para>
                <screen>
sudo apt-get install kubuntu-desktop
                </screen>
            </step>
            <step>
                <para>When prompted enter your <userinput>password</userinput>.
                    This will cause <application>apt</application> to download
                    the package lists, determine the packages needing
                    installation, calculate the total download and display a
                    summary.</para>
            </step>
            <step>
                <para>When prompted to continue with installation, enter
                        <userinput>Y</userinput>. <application>Apt</application>
                    will proceed to download and install the required
                packages.</para>
            </step>
            <step>
                <para>During the installation you will be informed that there is
                    more than one <application>Display Manager</application>,
                    select <guibutton>OK</guibutton> to proceed.</para>
                <mediaobject>
                    <imageobject>
			    <imagedata fileref="../../images/C/kdm-config.png" format="PNG"
                        />
                    </imageobject>
                </mediaobject>
                <para>After this you will be prompted to select a display
                    manager.</para>
                <mediaobject>
                    <imageobject>
			    <imagedata fileref="../../images/C/kdm-select.png" format="PNG"
                        />
                    </imageobject>
                </mediaobject>
            </step>
            <step>
                <para>Because there are now two <application>Display
                    Managers</application> installed and only one display
                    manager can be used to manage a given <application>X
                    Server</application>, you will be prompted to select a
                    default. Select either <application>GDM</application> or
                        <application>KDM</application> then click
                    <guibutton>OK</guibutton>. From this point wait for the
                    installation process to exit back to the shell
                prompt.</para>
            </step>
            <step>
                <para>Logoff the current session. The next time the X Server is restarted it will start the
                    display manager of your choice.</para>
            </step>
        </procedure>
    </sect1>
    <sect1 id="start-session-kde">
        <title>Logon with KDE Session Type</title>
        <para>When the system is started the graphical
            <interface>Logon</interface> interface of default
                <application>Display Manager</application> will be displayed.
            Depending on which <application>Display Manager</application> is
            default, proceed to one the following sections:</para>
        <itemizedlist>
            <listitem>
                <para>
                    <xref linkend="logon-kdm" endterm="title-logon-kdm"/>
                </para>
            </listitem>
            <listitem>
                <para>
                    <xref linkend="logon-gdm" endterm="title-logon-gdm"/>
                </para>
            </listitem>
        </itemizedlist>
        <sect2 id="logon-kdm">
            <title id="title-logon-kdm">Logon with KDM</title>
            <para>The KDM graphical logon for Ubuntu provides the ability to
                select the session type you want to run.</para>
            <para>The session type must be selected prior to entering a
                username. Session options can be displayed by clicking the
                    <guibutton>Session Type</guibutton> button located at the bottom
                left of the screen.</para>
            <para>Select either <option>GNOME</option> or <option>KDE</option>, 
		  before starting the next session, to start a session of that type. By default the session type of the <option>previous</option> (last) session is used when
                starting a new session. There is, therefore, no need to perform
                this action before each session, unless you want to change the
                session type.</para>
        </sect2>
        <sect2 id="logon-gdm">
            <title id="title-logon-gdm">Logon with GDM</title>
            <para>The GDM graphical logon for Ubuntu provides the ability to
                select the session type you want to run.</para>
            <para>The session type must be selected prior to entering a
                username. Session options can be displayed by clicking the
                    <guibutton>Session</guibutton> button located at the bottom
                of the screen.</para>
            <para>Select either <option>GNOME</option> or
                <option>KDE</option>, before starting the next session, to start
                a session of that type. By default the session type of the
                    <option>previous</option> (last) session is used when
                starting a new session. There is, therefore, no need to perform
                this action before each session, unless you want to change the
                session type.</para>
            <note>
                <para>When starting a KDE session type from GDM you will be
                    notified that you are doing so and given the opportunity to
                    select KDE as the default session type for future logins
                    from GDM. If you wish this to be the default click the
                        <guibutton>Make Default</guibutton> button. Otherwise,
                    click the <guibutton>Just for this
                Session</guibutton>.</para>
            </note>
        </sect2>
    </sect1>
    <sect1>
        <title>Package Management</title>
        <para>There are literally thousands of applications written for KDE.
            Kubuntu cannot install of them and it is unlikely that you would
            want it to. Kubuntu installs a select choice of
            &apos;k-apps&apos; that are most frequently used.</para>
        <para>From the package management perspective, the introduction of KDE
            to Ubuntu has involved moving applications that were once only
            available in &quot;Universe&quot; into the
            &quot;Main&quot; software repository. At the time of this writing,
            some parts of KDE were still in &quot;Universe.&quot; To be
            able to install &apos;k-apps&apos; from
            &quot;Universe&quot; the <application>APT</application>
            software sources list must be modified. For simple instructions see
                <xref linkend="add-universe"/>.</para>
        <sect2 id="add-universe">
            <title>Adding Universe to Software Sources</title>
            <para>Follow this procedure to add &quot;Universe&quot; to
                the software sources list.</para>
            <procedure>
                <step>
                    <para>Start a <application>Konsole</application> shell
                        session.</para>
                </step>
                <step>
                    <para>Run <application>Synaptic</application> with the
                        following command.</para>
                    <screen>
sudo synaptic
                    </screen>
                </step>
                <step>
                    <para>Enter your password when prompted.</para>
                </step>
                <step>
                    <para>From the menu select <menuchoice>
                            <guimenu>System</guimenu>
                            <guimenuitem>Repositories</guimenuitem>
                        </menuchoice>. The <interface>Software
                        Sources</interface> dialog is displayed.</para>
                </step>
                <step>
                    <para>For each of the Hoary software sources, select the
                        record then click <guibutton>Edit</guibutton> and add
                        the word &quot;universe&quot; to the
                            <guilabel>Sources</guilabel> field.</para>
                </step>
                <step>
                    <para>Click <guibutton>OK</guibutton> on all dialogs and
                            <guibutton>Yes</guibutton> when prompted to update
                        the source lists.</para>
                </step>
            </procedure>
        </sect2>
        <sect2>
            <title>Kynaptic Package Manager</title>
	    <authorblurb>
		    <para>Jonathan Jesse: Kynaptic is now being replaced by Adept, will
			    be changing things as I go along </para>
			</authorblurb>
            <para>The KDE equivalent of <application>Synaptic</application> is
                    <application>Kynaptic</application>. This application is in
                early development but is stable enough to suffice for basic package
                management operations under Kubuntu.
                <application>Kynaptic</application> can be run from
                    <application>Konsole</application> by issuing the following
                command: <command>sudo kynaptic</command>.</para>
            <para>If you have used <application>Synaptic</application> before
                then using <application>Kynaptic</application> will be very
                easy.</para>
        </sect2>
    </sect1>
    <sect1 id="switch-kdm-gdm">
        <title>Changing Display Manager</title>
        <para>Changing between KDM and GDM is made safe and easy with the help
            of the <command>dpkg-reconfigure</command>. Simply follow the
            procedure below to change between display managers.</para>
        <procedure>
            <step>
                <para>From the Desktop start a shell session.</para>
            </step>
            <step>
                <para>At the prompt enter the following command</para>
                <screen>
sudo dpkg-reconfigure kdm
                </screen>
            </step>
            <step>
                <para>When prompted enter your <userinput>password</userinput>.
                    This will start the <application>Ubuntu
                    Configuration</application> manager. You will remember this
                    screen from the installation, so select
                    <guibutton>OK</guibutton>.</para>
            </step>
            <step>
                <para>Because there are now two <application>Display
                    Managers</application> installed and only one display
                    manager can be used to manage a given <application>X
                    Server</application>, you will be prompted to select a
                    default. Select either <application>GDM</application> or
                        <application>KDM</application> then click
                    <guibutton>OK</guibutton>.</para>
                <mediaobject>
                    <imageobject>
			    <imagedata fileref="../../images/C/kdm-select.png" format="PNG"
                        />
                    </imageobject>
                </mediaobject>
            </step>
            <step>
                <para>Logoff the current session. The next time the X Server is restarted it will start the
                    display manager of your choice.</para>
            </step>
        </procedure>
    </sect1>
    <sect1>
        <title>Known Problems</title>
        <para>Know of a problem, let me know.</para>
        <!--<sect2>
            <title>KDEPIM 3.4</title>
            <para>Some users have reported that the installation fails due to
                unsatisfied dependencies related to
                <application>KDEPIM 3.4</application>. To solve this problem add
                the command 
                <command>deb http://people.ubuntu.com/~amu/deb ./</command> to
                <filename class="devicefile">/etc/apt/sources.list</filename>.</para>
            <screen>
sudo gedit /etc/apt/sources.list
            </screen>
            <para>You can also use <application>Synaptic</application> to add a
                new software source. Use the instruction in <xref
                    linkend="add-universe"/> as a rough guide to adding the
                repository using <application>Synaptic</application>.</para>
            <note>
                <para>This is a temporary problem and this section may become
                    redundant in the near future.</para>
            </note>
        </sect2>-->
        
    </sect1>
</article>
