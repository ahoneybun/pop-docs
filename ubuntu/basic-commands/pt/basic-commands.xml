<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN" "http://www.docbook.org/xml/4.4/docbookx.dtd">
<article lang="pt">
  <title>Comandos Básicos</title>
  <para>
    <emphasis>"Existem interfaces gráficas para utilizadores (GUIs - graphical user interfaces) em que poderá apontar, clicar e, presumivelmente, realizar uma tarefa sem que, para tal, tenha de ler muita documentação. O ambiente tradicional Unix é uma interface de linhas de comando (CLI - command line interface), onde se digitam comandos que indicam ao computador oque fazer. Isto é mais rápido e poderoso, mas requer o conhecimento do significado dos comandos."-- de <emphasis role="strong">man intro(1)</emphasis></emphasis>
  </para>
  <section>
    <title>Usar este guia</title>
    <itemizedlist>
      <listitem>
        <para>Este permitir-lhe-á conhecer os comandos básicos da consola GNU/Linux.</para>
      </listitem>
      <listitem>
        <para>Não pretende ser um guia completo sobre a linha  de comandos, apenas uma introdução que complementa as ferramentas gráficas do Ubuntu.</para>
      </listitem>
      <listitem>
        <para>Todos os comandos estarão em <emphasis role="strong">negrito</emphasis>.</para>
      </listitem>
      <listitem>
        <para>Comandos que necessitem de ser escritos estarão em <emphasis role="strong">"negrito com aspas"</emphasis>.</para>
      </listitem>
      <listitem>
        <para>Todos os comandos nesta página destinam-se a ser executados a partir de uma consola.</para>
      </listitem>
      <listitem>
        <para><emphasis role="strong">Note que o GNU/Linux é sensível a maiúsculas e minúsculas.</emphasis> Utilizador, utilizador e UTILIZADOR são todos diferentes em GNU/Linux.</para>
      </listitem>
    </itemizedlist>
  </section>
  <section>
    <title>Iniciar uma Consola</title>
      <para>A consola pode ser encontrada em <emphasis role="strong">Aplicações &gt; Accessórios&gt; Consola</emphasis>.</para>
  </section>
  <section>
    <title>Comandos</title>
    <section>
      <title>sudo: Executar Comandos com Permissões Elevadas</title>
      <itemizedlist>
        <listitem>
          <para>A maior parte dos seguintes comandos terão de ser precedidos pelo comando <emphasis role="strong">sudo</emphasis>, se estiver a trabalhar om directórios ou ficheiros que sejam proprietários de outras contas. Por favor, veja <ulink url="https://help.ubuntu.com/community/RootSudo"> RootSudo</ulink> para mais informações acerca do comando sudo.</para>
        </listitem>
      </itemizedlist>
    </section>
    <section>
      <title>Comandos de Ficheiros &amp; Directórios</title>
      <itemizedlist>
        <listitem>
          <para><emphasis role="strong">pwd</emphasis>: O comando <emphasis role="strong">pwd</emphasis> permitir-lhe-á saber qual o directório em que se encontra ( <emphasis role="strong">pwd</emphasis> é uma sigla para "print working directory" - "mostra o directório de trabalho em que se encontra"). Example: <emphasis role="strong">"pwd"</emphasis> no directório do Ambiente de Trabalho irá mostrar "~/Desktop". Note que a consola Gnome também mostra esta informação na barra de título da sua janela - veja o exemplo da captura de ecrã no topo desta página.</para>
        </listitem>
        <listitem>
          <para><emphasis role="strong">ls</emphasis>: O comando <emphasis role="strong">ls</emphasis> irá mostrar-lhe os ficheiros no seu directório actual. Usado com determinadas opções permitir-lhe-á saber qual o tamanho dos ficheiros, quando foram feitos e quais as suas permissões. Exemplo: <emphasis role="strong">"ls ~"</emphasis> mostrar-lhe-á os ficheiros que se encontram na sua pasta pessoal.</para>
          <itemizedlist>
            <listitem>
              <para><emphasis role="strong">cd</emphasis>: O comando <emphasis role="strong">cd</emphasis> permite-lhe mudar de directórios. Ao abrir uma consola, encontra-se no seu directório pessoal; para mudar para outro directório no sistema de ficheiros usará <emphasis role="strong">cd</emphasis>. Exemplos:</para>
              <itemizedlist>
                <listitem>
                  <para>Para aceder à pasta root, utilize <emphasis role="strong">"cd /"</emphasis></para>
                </listitem>
                <listitem>
                  <para>Para mudar para o seu directório pessoal, use <emphasis role="strong">"cd"</emphasis> ou <emphasis role="strong">"cd ~"</emphasis></para>
                </listitem>
                <listitem>
                  <para>Para subir um nível na estrutura de directórios, use <emphasis role="strong">"cd .."</emphasis></para>
                </listitem>
                <listitem>
                  <para>Para regressar ao directório anterior (ou recuar), utilize <emphasis role="strong">"cd -"</emphasis></para>
                </listitem>
                <listitem>
                  <para>Para percorrer múltiplos níveis numa só vez, especifique o caminho absoluto do directório para onde quer ir. Por exemplo, use <emphasis role="strong">"cd /var/www"</emphasis> para ir directamente para o /www subdirectório de /var/. Outro exemplo, <emphasis role="strong">"cd ~/Desktop"</emphasis> movê-lo-á para o subdirectório do Ambiente de Trabalho dentro do seu directório pessoal.</para>
                </listitem>
              </itemizedlist>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem>
          <para><emphasis role="strong">cp</emphasis>: O comando <emphasis role="strong">cp</emphasis> irá fazer uma cópia do ficheiro. Exemplo: <emphasis role="strong">"cp file foo"</emphasis> irá fazer uma cópia exacta de "file" e dar-lhe o nome de "foo", mas o ficheiro "file" permanecerá. Ao usar o <emphasis role="strong">mv</emphasis> esse ficheiro deixaria de existir, mas quando usa o <emphasis role="strong">cp</emphasis>, o original permanece e uma nova cópia é feita.</para>
        </listitem>
        <listitem>
          <para><emphasis role="strong">mv</emphasis>: O comando <emphasis role="strong">mv</emphasis> moverá um ficheiro para uma nova localização ou renomeá-lo-á. Exemplos: <emphasis role="strong">"mv file foo"</emphasis> renomeia  "file" para "foo". <emphasis role="strong">"mv foo ~/Desktop"</emphasis> moverá o ficheiro "foo" para o directório do seu Ambiente de Trabalho, mas não o renomeará. Deverá especificar um novo nome de ficheiro para que o possa renomear.</para>
          <itemizedlist>
            <listitem>
              <para>Para que não precise de digitar o seu directório pessoal, poderá substituí-lo por '~'.</para>
            </listitem>
            <listitem>
              <para>Note que, se estiver a usar <emphasis role="strong">mv</emphasis> com <emphasis role="strong">sudo</emphasis>, não poderá usar o atalho ~, devendo usar então os caminhos absolutos para os ficheiros. Isto porque está a trabalhar como "raiz", o ~ referir-se-á ao directório pessoal da conta do administrador.</para>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem>
          <para><emphasis role="strong">rm</emphasis>: Use este comando para remover ou eliminar um ficheiro no seu directório. Não funcionará em directórios que contenham ficheiros (neste caso, use <emphasis role="strong">rmdir</emphasis>).</para>
        </listitem>
        <listitem>
          <para><emphasis role="strong">mkdir</emphasis>: O comando <emphasis role="strong">mkdir</emphasis> permitir-lhe-á criar directórios. Exemplo: <emphasis role="strong">"mkdir music"</emphasis> criará um directório de música.</para>
        </listitem>
        <listitem>
          <para><emphasis role="strong">man</emphasis>: O comando <emphasis role="strong">man</emphasis> é usado para mostrar o manual de outros comandos. Tente <emphasis role="strong">"man man"</emphasis> para aceder à página do manual para o próprio <emphasis role="strong">man</emphasis>. Veja a secção <emphasis role="strong">Man</emphasis> &amp; Obter Ajuda", abaixo na página, para mais informações.</para>
        </listitem>
      </itemizedlist>
    </section>
    <section>
      <title>Comandos para Informações do Sistema</title>
      <itemizedlist>
        <listitem>
          <para><emphasis role="strong">df</emphasis>: O comando <emphasis role="strong">df</emphasis> mostra o espaço em disco do sistema de ficheiros para todas as partições. " <emphasis role="strong">df -h</emphasis>" é, provavelmente, o mais útil, pois exibe megabytes (M) e gigabytes (G) em vez de blocos. ( <emphasis role="strong">-h</emphasis> significa "legível para humanos")</para>
        </listitem>
        <listitem>
          <para><emphasis role="strong">free</emphasis>: O comando <emphasis role="strong">free</emphasis> mostra as quantidades de memória livre e usada no sistema. <emphasis role="strong">"free -m"</emphasis> exibe a informação em megabytes, o que é, provavelmente, mais útil para os computadores actuais.</para>
        </listitem>
        <listitem>
          <para><emphasis role="strong">top</emphasis>: O comando <emphasis role="strong">top</emphasis> exibe a informação sobre o seu sistema Linux, os processos em execução e os recursos do sistema, incluindo o processador (CPU), memória RAM &amp; utilização de memória virtual e o número total de tarefas em execução. Para sair de <emphasis role="strong">top</emphasis>, carregue na tecla <emphasis role="strong">"q"</emphasis>.</para>
        </listitem>
        <listitem>
          <para><emphasis role="strong">uname -a</emphasis>: O comando <emphasis role="strong">uname</emphasis> com a opção <emphasis role="strong">-a</emphasis> exibe toda a informação do sistema, incluindo o nome da máquina, o nome do kernel &amp; versão e alguns outros detalhes. É muito útil para verificar qual o kernel que está a usar.</para>
        </listitem>
        <listitem>
          <para><emphasis role="strong">lsb_release -a</emphasis>: O comando <emphasis role="strong">lsb_release</emphasis> com a opção <emphasis role="strong">-a</emphasis> apresenta informação sobre a versão do Linux que está a correr, por exemplo:</para>
        </listitem>
      </itemizedlist>
      <screen>
utilizador@computador:~$ lsb_release -a
No LSB modules are available.
Distributor ID: Ubuntu
Description: Ubuntu 6.06 LTS
Release: 6.06
Codename: dapper
</screen>
      <itemizedlist>
        <listitem>
          <para><emphasis role="strong">ifconfig</emphasis> apresenta a informação da rede de interfaces no seu sistema.</para>
        </listitem>
      </itemizedlist>
    </section>
    <section>
      <title>Adicionar Um Novo Utilizador</title>
      <itemizedlist>
        <listitem>
          <para>O comando <emphasis role="strong">"adduser newuser"</emphasis> criará um novo utilizador geral chamado "novoutilizador" no seu sistema; para atribuir uma palavra-passe para a conta "novoutilizador" use <emphasis role="strong">"passwd newuser"</emphasis>.</para>
        </listitem>
      </itemizedlist>
    </section>
  </section>
  <section>
    <title>Opções</title>
    <para>O comportamento de um comando por omissão pode ser modificado acrescentando a este <emphasis role="strong">-- <emphasis>option</emphasis></emphasis>. O comando <emphasis role="strong">ls</emphasis>, por exemplo, tem uma opção <emphasis role="strong">-s</emphasis>; deste modo <emphasis role="strong">"ls -s"</emphasis> incluirá o tamanho dos ficheiros na lista. Há também uma opção <emphasis role="strong">-h</emphasis> para exibir esses tamanhos num formato "legível para humanos".</para>
    <para>As opções podem ser agrupadas, de modo que <emphasis role="strong">"ls -sh"</emphasis> é exactamente o mesmo comando que <emphasis role="strong">"ls -s -h"</emphasis>. A maior parte das opções têm uma versão desenvolvida, precedida de dois hífenes em vez de um, pelo que <emphasis role="strong">"ls --size --human-readable"</emphasis> é o mesmo comando que os anteriores.</para>
  </section>
  <section>
    <title>"Man" e obter ajuda</title>
    <para>Os comandos <emphasis role="strong"><emphasis>command</emphasis>--help</emphasis> e <emphasis role="strong">man <emphasis>command</emphasis></emphasis> são as ferramentas mais importantes na  consola.</para>
    <para>Praticamente todos os comandos comprendem a opção <emphasis role="strong">-h</emphasis> (or <emphasis role="strong">--help</emphasis> que exibirá uma curta descrição do uso do comando e das suas opções, regressando depois à consola. Experimente <emphasis role="strong">"man -h"</emphasis> ou <emphasis role="strong">"man --help"</emphasis> para ver o seu funcionamento.</para>
    <para>Todos os comandos e quase todas as aplicações em Linux têm um ficheiro "man" (manual), pelo que encontrá-los é tão simples como digitar <emphasis role="strong">"man "command""</emphasis> para exibir uma entrada mais extensa do manual referente ao comando específico. Por exemplo, <emphasis role="strong">"man mv"</emphasis> exibirá o manual para <emphasis role="strong">mv</emphasis> (Mover).</para>
    <para>Desloque-se para cima e para baixo no ficheiro "man" (manual) usando as teclas do cursor e feche-o, regressando à consola, carregando na tecla <emphasis role="strong">"q"</emphasis>.</para>
    <para>O comando <emphasis role="strong">"man man"</emphasis> exbirá a entrada do manual referente ao comando <emphasis role="strong">man</emphasis>, que é sempre um bom sítio para se começar!</para>
    <para>O comando <emphasis role="strong">"man intro"</emphasis> é particularmente útil - exibe a "Introdução aos comandos do utilizador" que é uma breve e bem escrita introdução à consola do Linux.</para>
    <para>Há também páginas <emphasis role="strong">info</emphasis> (informativas), que contêm geralmente informação mais aprofundada que as do <emphasis role="strong">man</emphasis> (manual). Experimente <emphasis role="strong">"info info"</emphasis> para a introdução às páginas "info" (informativas).</para>
    <section>
      <title>Procurar ficheiros man</title>
      <para>Se não tem a certeza de que comando ou aplicação precisará de utilizar, pode fazer uma busca nos ficheiros "man" (manual).</para>
      <itemizedlist>
        <listitem>
          <para>O comando <emphasis role="strong">man -k <emphasis>foo</emphasis></emphasis> procurará <emphasis>foo</emphasis> nos ficheiros "man". Experimante <emphasis role="strong">"man -k nautilus"</emphasis> para ver o seu funcionamento.</para>
          <itemizedlist>
            <listitem>
              <para>De notar que este é o mesmo que o comando <emphasis role="strong"> apropos</emphasis>.</para>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem>
          <para>O comando <emphasis role="strong">man -f <emphasis>foo</emphasis></emphasis> pesquisa apenas os títulos dos ficheiros "man" (manual) no seu sistema. Experimente <emphasis role="strong">"man -f gnome"</emphasis>, por exemplo.</para>
          <itemizedlist>
            <listitem>
              <para>Este comando é  mesmo que <emphasis role="strong"> whatis</emphasis>.</para>
            </listitem>
          </itemizedlist>
        </listitem>
      </itemizedlist>
    </section>
  </section>
  <section>
    <title>Outras Utilidades</title>
    <section>
      <title>"Colar" comandos</title>
      <para>Será remetido, muitas vezes, para instruções que requerem que "cole" comandos na consola. Poderá perguntar-se porque é que o texto que copiou de uma página web utilizando <emphasis role="strong">ctrl+C</emphasis> não passa para a consola com <emphasis role="strong">ctrl+V</emphasis>. Não terá certamente de escrever todas aquelas horríveis comandos e nomes de ficheiros? Acalme-se. Um clique no botão do meio do seu rato (os dois botões simultaneamente num rato de dois botões) ou um clique no botão direito e seleccione <emphasis>Paste</emphasis> no menu.</para>
    </section>
    <section>
      <title>Guardar durante a escrita</title>
      <informaltable>
        <tgroup cols="3">
          <colspec colname="col_0"/>
          <colspec colname="col_1"/>
          <colspec colname="col_2"/>
          <tbody>
            <row>
              <entry align="left" colsep="1" rowsep="1">
                <para><emphasis role="strong">Cursor para Cima</emphasis> ou <emphasis role="strong">ctrl+p</emphasis></para>
              </entry>
              <entry align="left" colsep="1" namest="col_1" rowsep="1" nameend="col_2">
                <para>Percorre os comandos que introduziu anteriormente</para>
              </entry>
            </row>
            <row>
              <entry align="left" colsep="1" rowsep="1">
                <para><emphasis role="strong">Cursor para Baixo</emphasis> ou <emphasis role="strong">ctrl+n</emphasis></para>
              </entry>
              <entry align="left" colsep="1" namest="col_1" rowsep="1" nameend="col_2">
                <para>Posiciona-o num comando mais recente.</para>
              </entry>
            </row>
            <row>
              <entry colsep="1" rowsep="1">
                <para>
                  <emphasis role="strong">Enter</emphasis>
                </para>
              </entry>
              <entry align="left" colsep="1" namest="col_1" rowsep="1" nameend="col_2">
                <para>Quando tiver o comando que desejar.</para>
              </entry>
            </row>
            <row>
              <entry align="left" colsep="1" rowsep="1">
                <para>
                  <emphasis role="strong">tab</emphasis>
                </para>
              </entry>
              <entry align="left" colsep="1" namest="col_1" rowsep="1" nameend="col_2">
                <para>Uma característica muito útil. Auto-completa qualquer comando ou nome de ficheiro se houver uma só opção; caso contrário, mostra uma lista de opções.</para>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
    </section>
    <section>
      <title>Alterar o texto</title>
      <para>O rato não funcionará. Utilize as teclas de direcção Esquerda/Direita para mover-se ao longo da linha.</para>
      <para>Quando o cursor se encontrar no ponto desejado na linha, ao digitar <emphasis>inserirá</emphasis> texto; i.e., não escreverá em cima do que já lá se encontra.</para>
      <informaltable>
        <tgroup cols="3">
          <colspec colname="col_0"/>
          <colspec colname="col_1"/>
          <colspec colname="col_2"/>
          <tbody>
            <row>
              <entry colsep="1" rowsep="1">
                <para><emphasis role="strong">ctrl+a</emphasis> ou <emphasis role="strong">Home</emphasis></para>
              </entry>
              <entry align="left" colsep="1" namest="col_1" rowsep="1" nameend="col_2">
                <para>Move o cursor para o <emphasis>início</emphasis> de uma linha.</para>
              </entry>
            </row>
            <row>
              <entry colsep="1" rowsep="1">
                <para><emphasis role="strong">ctrl+e</emphasis> ou <emphasis role="strong">End</emphasis></para>
              </entry>
              <entry align="left" colsep="1" namest="col_1" rowsep="1" nameend="col_2">
                <para>Move o cursor para o <emphasis><emphasis role="strong">f</emphasis>im</emphasis> de uma linha.</para>
              </entry>
            </row>
            <row>
              <entry colsep="1" rowsep="1">
                <para>
                  <emphasis role="strong">ctrl+b</emphasis>
                </para>
              </entry>
              <entry align="left" colsep="1" namest="col_1" rowsep="1" nameend="col_2">
                <para>Move o cursor para o <emphasis role="strong">p</emphasis>rincípio da palavra anterior ou da corrente.</para>
              </entry>
            </row>
            <row>
              <entry colsep="1" rowsep="1">
                <para>
                  <emphasis role="strong">ctrl+k</emphasis>
                </para>
              </entry>
              <entry align="left" colsep="1" namest="col_1" rowsep="1" nameend="col_2">
                <para>Elimina texto da posição corrente do cursor até ao fim da linha.</para>
              </entry>
            </row>
            <row>
              <entry colsep="1" rowsep="1">
                <para>
                  <emphasis role="strong">ctrl+u</emphasis>
                </para>
              </entry>
              <entry align="left" colsep="1" namest="col_1" rowsep="1" nameend="col_2">
                <para>Apaga a totalidade da linha em que se situa.</para>
              </entry>
            </row>
            <row>
              <entry colsep="1" rowsep="1">
                <para>
                  <emphasis role="strong">ctrl+w</emphasis>
                </para>
              </entry>
              <entry align="left" colsep="1" namest="col_1" rowsep="1" nameend="col_2">
                <para>Apaga a palavra que se encontra na posição anterior à do cursor.</para>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
    </section>
  </section>
  <section>
    <title>Mais informação</title>
	<para>Estão disponíveis os seguintes guias online:</para>
    <itemizedlist>
      <listitem>
        <para><ulink url="https://help.ubuntu.com/community/AptGetHowto"> Como AptGet</ulink> - usar o apt-get para instalar pacotes a partir da consola.</para>
      </listitem>
      <listitem>
        <para><ulink url="https://help.ubuntu.com/community/Repositories/CommandLine"> Editar Repositórios pela linha de comandos</ulink> - adicionar os repositórios Universe/Multiverse a partir da consola.</para>
      </listitem>
      <listitem>
        <para><ulink url="https://help.ubuntu.com/community/grep">grep Howto</ulink> - grep é uma ferramenta de pesquisa muito poderosa para usar a partir da consola.</para>
      </listitem>
      <listitem>
        <para><ulink url="https://help.ubuntu.com/community/find">find </ulink> - localizar ficheiros a partir da consola.</para>
      </listitem>
      <listitem>
        <para><ulink url="https://help.ubuntu.com/community/CommandlineHowto"> CommandlineHowto</ulink> - Um guia mais extenso e completo que este guia básico, mas ainda inacabado.</para>
      </listitem>
      <listitem>
        <para><ulink url="https://help.ubuntu.com/community/HowToReadline"> HowToReadline</ulink> - informação acerca de personalizações mais avançadas para a consola.</para>
      </listitem>
    </itemizedlist>
    <para>Para tutoriais mais detalhados sobre a consola de Linux, por favor veja:</para>
    <itemizedlist>
      <listitem>
        <para><ulink url="http://linuxcommand.org/"/>- guias básicos BASH, incluindo BASH scripting</para>
      </listitem>
      <listitem>
        <para><ulink url="http://linuxsurvival.com/index.php"/>- Guias desenvolvidos em Java</para>
      </listitem>
      <listitem>
        <para><ulink url="http://rute.2038bug.com/index.html.gz"/>- um extenso livro online sobre administração de sistemas, quase todo ele a partir da consola.</para>
      </listitem>
    </itemizedlist>
  </section>
</article>
