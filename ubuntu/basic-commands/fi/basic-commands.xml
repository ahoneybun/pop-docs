<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN" "http://www.docbook.org/xml/4.4/docbookx.dtd">
<article lang="fi">
  <title>Peruskomennot</title>
  <para>
    <emphasis>"Linuxia voi käyttää graafisella käyttöliittymällä, jossa toimintoja ohjataan enimmäkseen hiiren avulla. Siinä työskentely sujuu ylensä vähemmälläkin ohjeiden lukemisella. Perinteinen Unix-käyttöliittymä on komentorivi, jossa näppäimistöllä kirjoitetaan tietokoneelle komentoja. Tämä on nopeampaa ja tehokkaampaa, mutta vaatii käyttäjältä komentojen tuntemusta." -- lähde <emphasis role="strong">man intro(1)</emphasis></emphasis>
  </para>
  <section>
    <title>Tämän oppaan käyttäminen</title>
    <itemizedlist>
      <listitem>
        <para>Tämä opas tutustuttaa sinut GNU/Linuxin komentotulkin peruskomentoihin.</para>
      </listitem>
      <listitem>
        <para>Se ei ole kaikenkattava opas komentorivin käyttämiseen, vaan esittelee sen täydentävänä vaihtoehtona Ubuntun graafisille työkaluille.</para>
      </listitem>
      <listitem>
        <para>Komentojen nimet on <emphasis role="strong">lihavoitu</emphasis>.</para>
      </listitem>
      <listitem>
        <para>Kirjoitettavat komennot ovat <emphasis role="strong">"lainausmerkeissä ja lihavoitu"</emphasis>.</para>
      </listitem>
      <listitem>
        <para>Kaikki tämän oppaan on komennot annetaan Päätteen komentokehotteelta.</para>
      </listitem>
      <listitem>
        <para><emphasis role="strong">Huomaa että Linux on merkkikokoriippuvainen.</emphasis> Käyttäjä, käyttäjä ja KÄYTTÄJÄ ovat eri sanoja Linuxille.</para>
      </listitem>
    </itemizedlist>
  </section>
  <section>
    <title>Päätteen käynnistäminen</title>
      <para>Pääte löytyy valikosta <emphasis role="strong">Sovellukset &gt; Apuohjelmat &gt; Pääte</emphasis>.</para>
  </section>
  <section>
    <title>Komennot</title>
    <section>
      <title>sudo: komentojen antaminen laajennetuin oikeuksin</title>
      <itemizedlist>
        <listitem>
          <para>Useimpien seuraavien komentojen eteen tulee laittaa komento <emphasis role="strong">sudo</emphasis>, jos käyttäjä työskentelee sellaisten tiedostojen tai hakemistojen kanssa jotka eivät ole hänen käyttäjätilinsä omistuksessa. Katso osoitteesta <ulink url="https://help.ubuntu.com/community/RootSudo"> RootSudo</ulink> (englanti) ohjeita sudon käyttämisestä.</para>
        </listitem>
      </itemizedlist>
    </section>
    <section>
      <title>Hakemistokomennot</title>
      <itemizedlist>
        <listitem>
          <para><emphasis role="strong">pwd</emphasis>: Komento <emphasis role="strong">pwd</emphasis> kertoo missä hakemistossa käyttäjä on tällä hetkellä (<emphasis role="strong">pwd</emphasis> tulee englannin kielen sanoista "print working directory"). Esimerkki: <emphasis role="strong">"pwd"</emphasis> annettuna hakemistossa Työpöytä näyttää "~/Desktop". Huomaa että Gnomen Pääte näyttää tämän tiedon myös ohjelmaikkunan otsikkopalkissa -  tästä on esimerkki sivun alussa olevassa kuvakaappauksessa.</para>
        </listitem>
        <listitem>
          <para><emphasis role="strong">ls</emphasis>: Komento <emphasis role="strong">ls</emphasis> näyttää tämänhetkisessä hakemistossa olevat tiedostot. Tiettyjen valitsimien kanssa käytettynä se näyttää myös tiedostojen koon, tekoajan ja käyttöoikeudet. Esimerkki: <emphasis role="strong">"ls ~"</emphasis> näyttää tiedostot jotka ovat kotihakemistossasi.</para>
          <itemizedlist>
            <listitem>
              <para><emphasis role="strong">cd</emphasis>: Komennon <emphasis role="strong">cd</emphasis> avulla voidaan siirtyä hakemistosta toiseen. Kun pääte avataan, on sijaintina kotihakemisto. Haluttaessa liikkua tiedostojärjestelmässä, käytetään <emphasis role="strong">cd</emphasis>-komentoa.</para>
              <itemizedlist>
                <listitem>
                  <para>Siirryttäessä juurihakemistoon (root), käytetään komentoa <emphasis role="strong">"cd /"</emphasis></para>
                </listitem>
                <listitem>
                  <para>Siirryttäessä kotihakemistoon, käytetään komentoa <emphasis role="strong">"cd"</emphasis> tai <emphasis role="strong">"cd ~"</emphasis></para>
                </listitem>
                <listitem>
                  <para>Siirryttäessä ylöspäin seuraavalle hakemistotasolle, käytetään komentoa <emphasis role="strong">"cd .."</emphasis></para>
                </listitem>
                <listitem>
                  <para>Siirryttäessä edelliseen hakemistoon (tai sieltä takaisin), käytetään komentoa <emphasis role="strong">"cd -"</emphasis></para>
                </listitem>
                <listitem>
                  <para>Siirryttäessä hakemistossa useampi askel kerrallaan, kirjoitetaan koko hakemistopolku. Esimerkiksi, kun halutaan mennä hakemiston /var alihakemistoon /www, niin annetaan komento <emphasis role="strong">"cd /var/www"</emphasis>. Komento <emphasis role="strong">"cd ~/Desktop"</emphasis> taas vie sinut kotihakemistosi alihakemistoon Desktop (työpöytä).</para>
                </listitem>
              </itemizedlist>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem>
          <para><emphasis role="strong">cp</emphasis>: Komentoa <emphasis role="strong">cp</emphasis> käytetään tiedostojen kopioimiseen. Esimerkiksi <emphasis role="strong">"cp kokeilu harjoitus"</emphasis> tekee tiedostosta "kokeilu" kopion, jonka nimeksi tulee "harjoitus". Alkuperäinen tiedosto jää jäljelle. Kopiontiin voidaan myös käyttää komentoa <emphasis role="strong">mv</emphasis>, joka poistaa alkuperäisen tiedoston kopioinnin jälkeen.</para>
        </listitem>
        <listitem>
          <para><emphasis role="strong">mv</emphasis>: Komentoa <emphasis role="strong">mv</emphasis> käytetään tiedostojen siirtämiseen ja uudelleennimeämiseen. Esimerkiksi <emphasis role="strong">"mv kokeilu harjoitus"</emphasis> muuttaa tiedoston "kokeilu" nimen nimeksi "harjoitus". Komento <emphasis role="strong">"mv harjoitus ~/Desktop"</emphasis> siirtää tiedoston "harjoitus" työpöytähakemistoon, mutta ei nimeä tiedostoa uudelleen. Haluttaessa myös uudelleennimetä tiedosto, lisätään komentoon uusi tiedostonimi.</para>
          <itemizedlist>
            <listitem>
              <para>Kotihakemiston tilalla voi käyttää merkkiä "~", mikä säästää kirjoittamisen vaivaa.</para>
            </listitem>
            <listitem>
              <para>On hyvä huomata että käytettäessä käytettäessä <emphasis role="strong">sudo</emphasis>a komennon <emphasis role="strong">mv</emphasis> edellä, ei voida käyttää lyhennettä "~", vaan tulee kirjoittaa koko hakemistopolku. Tämä johtuu siitä että <emphasis role="strong">sudo</emphasis>n antamilla pääkäyttäjän (root) oikeuksilla toimittaessa "~" viittaa pääkäyttäjän kotihakemistoon, vaikka olisikin kirjauduttu sisään muuna käyttäjänä.</para>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem>
          <para><emphasis role="strong">rm</emphasis>: Tätä komentoa käytetään tiedostojen ja hakemistojen poistamiseen. Sillä ei kuitenkaan voi poistaa hakemistoa jossa on tiedostoja.</para>
        </listitem>
        <listitem>
          <para><emphasis role="strong">mkdir</emphasis>: Komennolla <emphasis role="strong">mkdir</emphasis> voidaan luoda hakemistoja. Esimerkiksi <emphasis role="strong">"mkdir musiikki"</emphasis> luo hakemiston nimeltä musiikki.</para>
        </listitem>
        <listitem>
          <para><emphasis role="strong">man</emphasis>: <emphasis role="strong">man</emphasis> näyttää komentojen käyttöohjeen. Esimerkiksi annettaessa komento <emphasis role="strong">"man man"</emphasis>, saadaan näkyville itse <emphasis role="strong">"man"</emphasis>-komennon käyttöohje. Lisää tietoa löytyy luvusta ""Man" ja ohjeiden hakeminen".</para>
        </listitem>
      </itemizedlist>
    </section>
    <section>
      <title>Järjestelmästä tietoa antavat komennot</title>
      <itemizedlist>
        <listitem>
          <para><emphasis role="strong">df</emphasis>: Komento <emphasis role="strong">df</emphasis> näyttää tietoa osioiden levytilan käytöstä. " <emphasis role="strong">df -h</emphasis>" lienee tämän komennon helppokäyttöisin muoto - se kertoo tilankäytön megatavuina (M) ja gigatavuina (G) lohkojen sijaan.</para>
        </listitem>
        <listitem>
          <para><emphasis role="strong">free</emphasis>: Komento <emphasis role="strong">free</emphasis> näyttää paljonko järjestelmässä on muistia vapaana ja käytössä. <emphasis role="strong">free</emphasis> esittää tiedon megatavuina, mikä sopinee parhaiten nykyajan tietokoneille.</para>
        </listitem>
        <listitem>
          <para><emphasis role="strong">top</emphasis>: Komento <emphasis role="strong">top</emphasis> näyttää tietoa LInux-järjestelmän toiminnasta ja järjestelmävaroista, kuten käynnissä olevista tehtävistä, sekä  suorittimen, keskusmuistin ja välimuistin käytöstä. <emphasis role="strong">top</emphasis> lopetetaan painamalla <emphasis role="strong">"q"</emphasis>-näppäintä.</para>
        </listitem>
        <listitem>
          <para><emphasis role="strong">uname -a</emphasis>: Komento <emphasis role="strong">uname</emphasis> valitsimen <emphasis role="strong">-a</emphasis> kanssa käytettynä näyttää erilaisia järjestelmätietoja, kuten tietokoneen nimen, käyttöjärjelmän ytimen nimen ja version, sekä muutamia muita tietoja. Komento on kätevä tapa tarkistaa käytettävä ytimen versio.</para>
        </listitem>
        <listitem>
          <para><emphasis role="strong">lsb_release -a</emphasis>: Komento <emphasis role="strong">lsb_release</emphasis> valitsimen <emphasis role="strong">-a</emphasis> kanssa näyttää tietoa käytettävästä Linux-versiosta. Esimerkiksi:</para>
        </listitem>
      </itemizedlist>
      <screen>
user@computer:~$ lsb_release -a
No LSB modules are available.
Distributor ID: Ubuntu
Description: Ubuntu 7.04
Release: 7.04
Codename: feisty
</screen>
      <itemizedlist>
        <listitem>
          <para><emphasis role="strong">ifconfig</emphasis> antaa tietoa järjestelmän verkkoliittymistä.</para>
        </listitem>
      </itemizedlist>
    </section>
    <section>
      <title>Uuden käyttäjän lisääminen</title>
      <itemizedlist>
        <listitem>
          <para><emphasis role="strong">"adduser"</emphasis>: Komento <emphasis role="strong">"adduser tulokas"</emphasis> lisää järjestelmään uuden käyttäjän nimeltä "tulokas". Uudelle käyttäjälle saadaan annettua salasana komennolla <emphasis role="strong">"passwd tulokas"</emphasis>.</para>
        </listitem>
      </itemizedlist>
    </section>
  </section>
  <section>
    <title>Valitsimet</title>
    <para>The default behavior for a command may usually be
    modified by adding a 
    <emphasis role="strong">--
    <emphasis>option</emphasis></emphasis> to the command. The 
    <emphasis role="strong">ls</emphasis> command for example has an
    
    <emphasis role="strong">-s</emphasis> option so that 
    <emphasis role="strong">"ls -s"</emphasis> will include file
    sizes in the listing. There is also a 
    <emphasis role="strong">-h</emphasis> option to get those sizes
    in a "human readable" format.</para>
    <para>Options can be grouped in clusters so 
    <emphasis role="strong">"ls -sh"</emphasis> is exactly the same
    command as 
    <emphasis role="strong">"ls -s -h"</emphasis>. Most options
    have a long version, prefixed with two dashes instead of one,
    so even 
    <emphasis role="strong">"ls --size
    --human-readable"</emphasis> is the same command.</para>
  </section>
  <section>
    <title>"Man" and getting help</title>
    <para>
    <emphasis role="strong">
    <emphasis>command</emphasis>--help</emphasis>and 
    <emphasis role="strong">man 
    <emphasis>command</emphasis></emphasis> are the two most
    important tools at the command line.</para>
    <para>Virtually all commands understand the 
    <emphasis role="strong">-h</emphasis> (or 
    <emphasis role="strong">--help</emphasis>) option which will
    produce a short usage description of the command and it's
    options, then exit back to the command prompt. Try 
    <emphasis role="strong">"man -h"</emphasis> or 
    <emphasis role="strong">"man --help"</emphasis> to see this in
    action.</para>
    <para>Every command and nearly every application in Linux will
    have a man (manual) file, so finding them is as simple as
    typing 
    <emphasis role="strong">"man "command""</emphasis> to bring up a
    longer manual entry for the specified command. For example, 
    <emphasis role="strong">"man mv"</emphasis> will bring up the 
    <emphasis role="strong">mv</emphasis> (Move) manual.</para>
    <para>Move up and down the man file with the arrow keys, and
    quit back to the command prompt with 
    <emphasis role="strong">"q"</emphasis>.</para>
    <para>
    <emphasis role="strong">"man man"</emphasis> will bring up the
    manual entry for the 
    <emphasis role="strong">man</emphasis> command, which is a good
    place to start!</para>
    <para>
    <emphasis role="strong">"man intro"</emphasis> is especially
    useful - it displays the "Introduction to user commands" which
    is a well-written, fairly brief introduction to the Linux
    command line.</para>
    <para>There are also 
    <emphasis role="strong">info</emphasis> pages, which are
    generally more in-depth than 
    <emphasis role="strong">man</emphasis> pages. Try 
    <emphasis role="strong">"info info"</emphasis> for the
    introduction to info pages.</para>
    <section>
      <title>Searching for man files</title>
      <para>If you aren't sure which command or application you
      need to use, you can try searching the man files.</para>
      <itemizedlist>
        <listitem>
          <para>
          <emphasis role="strong">man -k 
          <emphasis>foo</emphasis></emphasis> will search the man
          files for 
          <emphasis>foo</emphasis>. Try 
          <emphasis role="strong">"man -k nautilus"</emphasis> to
          see how this works.</para>
          <itemizedlist>
            <listitem>
              <para>Note that this is the same as the 
              <emphasis role="strong">
              apropos</emphasis> command.</para>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem>
          <para>
          <emphasis role="strong">man -f 
          <emphasis>foo</emphasis></emphasis> searches only the
          titles of your system's man files. Try 
          <emphasis role="strong">"man -f gnome"</emphasis>, for
          example.</para>
          <itemizedlist>
            <listitem>
              <para>This is the same as the 
              <emphasis role="strong">
              whatis</emphasis> command.</para>
            </listitem>
          </itemizedlist>
        </listitem>
      </itemizedlist>
    </section>
  </section>
  <section>
    <title>Other Useful Things</title>
    <section>
      <title>Pasting in commands</title>
      <para>Often, you will be referred to instructions that
      require commands to be pasted into the terminal. You might be
      wondering why the text you've copied from a web page using 
      <emphasis role="strong">ctrl+C</emphasis> won't paste in with 
      <emphasis role="strong">ctrl+V</emphasis>. Surely you don't
      have to type in all those nasty commands and filenames?
      Relax. Middle Button Click on your mouse (both buttons
      simultaneously on a two-button mouse) or Right Click and
      select 
      <emphasis>Paste</emphasis> from the menu.</para>
    </section>
    <section>
      <title>Save on typing</title>
      <informaltable>
        <tgroup cols="3">
          <colspec colname="col_0"/>
          <colspec colname="col_1"/>
          <colspec colname="col_2"/>
          <tbody>
            <row>
              <entry align="left" colsep="1" rowsep="1">
                <para>
                <emphasis role="strong">Up Arrow</emphasis> or 
                <emphasis role="strong">ctrl+p</emphasis></para>
              </entry>
              <entry align="left" colsep="1" namest="col_1" rowsep="1" nameend="col_2">
                <para>Scrolls through the commands you've entered
                previously.</para>
              </entry>
            </row>
            <row>
              <entry align="left" colsep="1" rowsep="1">
                <para>
                <emphasis role="strong">Down Arrow</emphasis> or 
                <emphasis role="strong">ctrl+n</emphasis></para>
              </entry>
              <entry align="left" colsep="1" namest="col_1" rowsep="1" nameend="col_2">
                <para>Takes you back to a more recent
                command.</para>
              </entry>
            </row>
            <row>
              <entry colsep="1" rowsep="1">
                <para>
                  <emphasis role="strong">Enter</emphasis>
                </para>
              </entry>
              <entry align="left" colsep="1" namest="col_1" rowsep="1" nameend="col_2">
                <para>When you have the command you want.</para>
              </entry>
            </row>
            <row>
              <entry align="left" colsep="1" rowsep="1">
                <para>
                  <emphasis role="strong">tab</emphasis>
                </para>
              </entry>
              <entry align="left" colsep="1" namest="col_1" rowsep="1" nameend="col_2">
                <para>A very useful feature. It autocompletes any
                commands or filenames, if there's only one option,
                or else gives you a list of options.</para>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
    </section>
    <section>
      <title>Change the text</title>
      <para>The mouse won't work. Use the Left/Right arrow keys to
      move around the line. (is this correct? I'll check at
      home).</para>
      <para>When the cursor is where you want it in the line,
      typing 
      <emphasis>inserts</emphasis> text - ie it doesn't overtype
      what's already there.</para>
      <informaltable>
        <tgroup cols="3">
          <colspec colname="col_0"/>
          <colspec colname="col_1"/>
          <colspec colname="col_2"/>
          <tbody>
            <row>
              <entry colsep="1" rowsep="1">
                <para>
                <emphasis role="strong">ctrl+a</emphasis> or 
                <emphasis role="strong">Home</emphasis></para>
              </entry>
              <entry align="left" colsep="1" namest="col_1" rowsep="1" nameend="col_2">
                <para>Moves the cursor to the 
                <emphasis>start</emphasis> of a line.</para>
              </entry>
            </row>
            <row>
              <entry colsep="1" rowsep="1">
                <para>
                <emphasis role="strong">ctrl+e</emphasis> or 
                <emphasis role="strong">End</emphasis></para>
              </entry>
              <entry align="left" colsep="1" namest="col_1" rowsep="1" nameend="col_2">
                <para>Moves the cursor to the 
                <emphasis>
                <emphasis role="strong">e</emphasis>nd</emphasis>of
                a line.</para>
              </entry>
            </row>
            <row>
              <entry colsep="1" rowsep="1">
                <para>
                  <emphasis role="strong">ctrl+b</emphasis>
                </para>
              </entry>
              <entry align="left" colsep="1" namest="col_1" rowsep="1" nameend="col_2">
                <para>Moves to the 
                <emphasis role="strong">b</emphasis>eginning of the
                previous or current word.</para>
              </entry>
            </row>
            <row>
              <entry colsep="1" rowsep="1">
                <para>
                  <emphasis role="strong">ctrl+k</emphasis>
                </para>
              </entry>
              <entry align="left" colsep="1" namest="col_1" rowsep="1" nameend="col_2">
                <para>Deletes from the current cursor position to
                the end of the line.</para>
              </entry>
            </row>
            <row>
              <entry colsep="1" rowsep="1">
                <para>
                  <emphasis role="strong">ctrl+u</emphasis>
                </para>
              </entry>
              <entry align="left" colsep="1" namest="col_1" rowsep="1" nameend="col_2">
                <para>Deletes the whole of the current line.</para>
              </entry>
            </row>
            <row>
              <entry colsep="1" rowsep="1">
                <para>
                  <emphasis role="strong">ctrl+w</emphasis>
                </para>
              </entry>
              <entry align="left" colsep="1" namest="col_1" rowsep="1" nameend="col_2">
                <para>Deletes the word before the cursor.</para>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
    </section>
  </section>
  <section>
    <title>More Information</title>
	<para>The following online guides are available:</para>
    <itemizedlist>
      <listitem>
        <para>
        <ulink url="https://help.ubuntu.com/community/AptGetHowto">
        AptGetHowto</ulink> - using apt-get to install packages from
        the command line.</para>
      </listitem>
      <listitem>
        <para>
        <ulink url="https://help.ubuntu.com/community/Repositories/CommandLine">
        Commandline Repository Editing</ulink> - adding the
        Universe/Multiverse repositories through the command
        line.</para>
      </listitem>
      <listitem>
        <para>
        <ulink url="https://help.ubuntu.com/community/grep">grep
        Howto</ulink> - grep is a powerful command line search
        tool.</para>
      </listitem>
      <listitem>
        <para>
        <ulink url="https://help.ubuntu.com/community/find">find
        </ulink> - locate files on the command line.</para>
      </listitem>
      <listitem>
        <para>
        <ulink url="https://help.ubuntu.com/community/CommandlineHowto">
        CommandlineHowto</ulink> - longer and more complete than
        this basic guide, but still unfinished.</para>
      </listitem>
      <listitem>
        <para>
        <ulink url="https://help.ubuntu.com/community/HowToReadline">
        HowToReadline</ulink> - information on some more advanced
        customization for the command line.</para>
      </listitem>
    </itemizedlist>
    <para>For more detailed tutorials on the Linux command line,
    please see:</para>
    <itemizedlist>
      <listitem>
        <para>
        <ulink url="http://linuxcommand.org/"/>- basic BASH
        tutorials, including BASH scripting</para>
      </listitem>
      <listitem>
        <para>
        <ulink url="http://linuxsurvival.com/index.php"/>-
        Java-based tutorials</para>
      </listitem>
      <listitem>
        <para>
        <ulink url="http://rute.2038bug.com/index.html.gz"/>- a
        massive online book about system administration, almost all
        from the command line.</para>
      </listitem>
    </itemizedlist>
  </section>
</article>
