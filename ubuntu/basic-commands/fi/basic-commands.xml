<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN" "http://www.docbook.org/xml/4.4/docbookx.dtd">
<article lang="fi">
  <title>Peruskomennot</title>
  <para>
    <emphasis>"Linuxia voi käyttää graafisella käyttöliittymällä, jossa toimintoja ohjataan enimmäkseen hiiren avulla. Siinä työskentely sujuu ylensä vähemmälläkin ohjeiden lukemisella. Perinteinen Unix-käyttöliittymä on komentorivi, jossa näppäimistöllä kirjoitetaan tietokoneelle komentoja. Tämä on nopeampaa ja tehokkaampaa, mutta vaatii käyttäjältä komentojen tuntemusta." -- lähde <emphasis role="strong">man intro(1)</emphasis></emphasis>
  </para>
  <section>
    <title>Tämän oppaan käyttäminen</title>
    <itemizedlist>
      <listitem>
        <para>Tämä opas tutustuttaa sinut GNU/Linuxin komentotulkin peruskomentoihin.</para>
      </listitem>
      <listitem>
        <para>Se ei kerro kaikkea komentorivin käyttämisestä, vaan esittelee sen täydentävänä vaihtoehtona Ubuntun graafisille työkaluille.</para>
      </listitem>
      <listitem>
        <para>Komentojen nimet on <emphasis role="strong">lihavoitu</emphasis>.</para>
      </listitem>
      <listitem>
        <para>Kirjoitettavat komennot on laitettu <emphasis role="strong">"lainausmerkkeihin ja lihavoitu"</emphasis>.</para>
      </listitem>
      <listitem>
        <para>Kaikki tämän oppaan on komennot annetaan Päätteen komentokehotteelta.</para>
      </listitem>
      <listitem>
        <para><emphasis role="strong">Huomaa että Linux on merkkikokoriippuvainen.</emphasis> KÄYTTÄJÄ, Käyttäjä ja käyttäjä ovat eri sanoja Linuxille.</para>
      </listitem>
    </itemizedlist>
  </section>
  <section>
    <title>Päätteen käynnistäminen</title>
      <para>Pääte löytyy valikosta <emphasis role="strong">Sovellukset &gt; Apuohjelmat</emphasis>.</para>
  </section>
  <section>
    <title>Komennot</title>
    <section>
      <title>sudo: komentojen antaminen laajennetuin oikeuksin</title>
      <itemizedlist>
        <listitem>
          <para>Useimpien seuraavien komentojen eteen tulee laittaa komento <emphasis role="strong">sudo</emphasis>, jos käyttäjä työskentelee sellaisten tiedostojen tai hakemistojen kanssa jotka eivät ole hänen käyttäjätilinsä omistuksessa. <ulink url="https://help.ubuntu.com/community/RootSudo"> Täältä</ulink> löytyy lisää tietoa sudon käyttämisestä (englanniksi).</para>
        </listitem>
      </itemizedlist>
    </section>
    <section>
      <title>Hakemistokomennot</title>
      <itemizedlist>
        <listitem>
          <para><emphasis role="strong">pwd</emphasis>: Tämä komento kertoo missä hakemistossa käyttäjä on tällä hetkellä (<emphasis role="strong">pwd</emphasis> tulee englannin kielen sanoista "print working directory"). Esimerkiksi <emphasis role="strong">"pwd"</emphasis> annettuna työpöytähakemistossa (Desktop) näyttää sijainniksi "~/Desktop". Huomaa että Gnomen Pääte näyttää tämän tiedon myös ohjelmaikkunan otsikkopalkissa -  tästä on esimerkki sivun alussa olevassa kuvakaappauksessa.</para>
        </listitem>
        <listitem>
          <para><emphasis role="strong">ls</emphasis>: Komento <emphasis role="strong">ls</emphasis> näyttää tämänhetkisessä hakemistossa olevat tiedostot. Tiettyjen valitsimien kanssa käytettynä se näyttää myös tiedostojen koon, tekoajan ja käyttöoikeudet. Esimerkiksi <emphasis role="strong">"ls ~"</emphasis> näyttää tiedostot jotka ovat kotihakemistossasi.</para>
          <itemizedlist>
            <listitem>
              <para><emphasis role="strong">cd</emphasis>: Komennon <emphasis role="strong">cd</emphasis> avulla voidaan siirtyä hakemistosta toiseen. Kun pääte avataan, on sijaintina kotihakemisto. Tämän komennon avulla sieltä pääsee liikkumaan muualle tiedostojärjestelmään.</para>
              <itemizedlist>
                <listitem>
                  <para>Siirryttäessä juurihakemistoon (root), käytetään komentoa <emphasis role="strong">"cd /"</emphasis></para>
                </listitem>
                <listitem>
                  <para>Siirryttäessä kotihakemistoon, käytetään komentoa <emphasis role="strong">"cd"</emphasis> tai <emphasis role="strong">"cd ~"</emphasis></para>
                </listitem>
                <listitem>
                  <para>Siirryttäessä ylöspäin seuraavalle hakemistotasolle, käytetään komentoa <emphasis role="strong">"cd .."</emphasis></para>
                </listitem>
                <listitem>
                  <para>Siirryttäessä edelliseen hakemistoon (tai sieltä takaisin), käytetään komentoa <emphasis role="strong">"cd -"</emphasis></para>
                </listitem>
                <listitem>
                  <para>Siirryttäessä hakemistossa useampi askel kerrallaan, kirjoitetaan koko hakemistopolku. Esimerkiksi, kun halutaan mennä hakemiston /var alihakemistoon /www, niin annetaan komento <emphasis role="strong">"cd /var/www"</emphasis>. Komento <emphasis role="strong">"cd ~/Desktop"</emphasis> taas vie sinut kotihakemistosi alihakemistoon Desktop (työpöytä).</para>
                </listitem>
              </itemizedlist>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem>
          <para><emphasis role="strong">cp</emphasis>: Tätä komentoa käytetään tiedostojen kopioimiseen. Esimerkiksi <emphasis role="strong">"cp kokeilu harjoitus"</emphasis> tekee tiedostosta "kokeilu" kopion, jonka nimeksi tulee "harjoitus". Alkuperäinen tiedosto jää jäljelle. Kopiontiin voidaan myös käyttää komentoa <emphasis role="strong">mv</emphasis>, joka poistaa alkuperäisen tiedoston kopioinnin jälkeen.</para>
        </listitem>
        <listitem>
          <para><emphasis role="strong">mv</emphasis>: Komentoa <emphasis role="strong">mv</emphasis> käytetään tiedostojen siirtämiseen ja uudelleennimeämiseen. Esimerkiksi <emphasis role="strong">"mv kokeilu harjoitus"</emphasis> muuttaa tiedoston "kokeilu" nimen nimeksi "harjoitus". Komento <emphasis role="strong">"mv harjoitus ~/Desktop"</emphasis> siirtää tiedoston "harjoitus" työpöytähakemistoon, mutta ei nimeä tiedostoa uudelleen. Haluttaessa myös nimetä tiedosto uudelleen, lisätään komentoon uusi tiedostonimi.</para>
          <itemizedlist>
            <listitem>
              <para>Kotihakemiston tilalla voi käyttää merkkiä "~", mikä säästää kirjoittamisen vaivaa.</para>
            </listitem>
            <listitem>
              <para>On hyvä huomata että käytettäessä käytettäessä <emphasis role="strong">sudo</emphasis>a komennon <emphasis role="strong">mv</emphasis> edellä, ei voida käyttää lyhennettä "~", vaan tulee kirjoittaa koko hakemistopolku. Tämä johtuu siitä että <emphasis role="strong">sudo</emphasis>n antamilla pääkäyttäjän (root) oikeuksilla toimittaessa "~" viittaa pääkäyttäjän kotihakemistoon, vaikka olisikin kirjauduttu sisään muuna käyttäjänä.</para>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem>
          <para><emphasis role="strong">rm</emphasis>: Tätä komentoa käytetään tiedostojen ja hakemistojen poistamiseen. Sillä ei kuitenkaan voi poistaa hakemistoa jossa on tiedostoja.</para>
        </listitem>
        <listitem>
          <para><emphasis role="strong">mkdir</emphasis>: Komennolla <emphasis role="strong">mkdir</emphasis> voidaan luoda hakemistoja. Esimerkiksi <emphasis role="strong">"mkdir musiikki"</emphasis> luo hakemiston nimeltä musiikki.</para>
        </listitem>
        <listitem>
          <para><emphasis role="strong">man</emphasis>: <emphasis role="strong">man</emphasis> näyttää komennon käyttöohjeen. Esimerkiksi annettaessa komento <emphasis role="strong">"man man"</emphasis>, saadaan näkyville itse <emphasis role="strong">"man"</emphasis>-komennon käyttöohje. Lisää tietoa löytyy luvusta ""Man" ja ohjeiden hakeminen".</para>
        </listitem>
      </itemizedlist>
    </section>
    <section>
      <title>Järjestelmästä tietoa antavat komennot</title>
      <itemizedlist>
        <listitem>
          <para><emphasis role="strong">df</emphasis>: Komento <emphasis role="strong">df</emphasis> näyttää tietoa osioiden levytilan käytöstä. " <emphasis role="strong">df -h</emphasis>" lienee tämän komennon helppokäyttöisin muoto - se kertoo tilankäytön megatavuina (M) ja gigatavuina (G) lohkojen sijaan.</para>
        </listitem>
        <listitem>
          <para><emphasis role="strong">free</emphasis>: Tämä komento näyttää paljonko järjestelmässä on muistia vapaana ja käytössä. <emphasis role="strong">free</emphasis> esittää tiedon megatavuina, mikä sopinee parhaiten nykyajan tietokoneille.</para>
        </listitem>
        <listitem>
          <para><emphasis role="strong">top</emphasis>: Komento <emphasis role="strong">top</emphasis> näyttää tietoa LInux-järjestelmän toiminnasta ja järjestelmävaroista, kuten käynnissä olevista tehtävistä, sekä  suorittimen, keskusmuistin ja välimuistin käytöstä. <emphasis role="strong">top</emphasis> lopetetaan painamalla <emphasis role="strong">"q"</emphasis>-näppäintä.</para>
        </listitem>
        <listitem>
          <para><emphasis role="strong">uname -a</emphasis>: Tämä komento valitsimen <emphasis role="strong">-a</emphasis> kanssa käytettynä näyttää erilaisia järjestelmätietoja, kuten tietokoneen nimen, käyttöjärjelmän ytimen nimen ja version, sekä muutamia muita tietoja. Komento on kätevä tapa tarkistaa käytettävä ytimen versio.</para>
        </listitem>
        <listitem>
          <para><emphasis role="strong">lsb_release -a</emphasis>: Komento <emphasis role="strong">lsb_release</emphasis> valitsimen <emphasis role="strong">-a</emphasis> kanssa käytettynä näyttää tietoa käytettävästä Linux-versiosta. Esimerkiksi:</para>
        </listitem>
      </itemizedlist>
      <screen>
user@computer:~$ lsb_release -a
No LSB modules are available.
Distributor ID: Ubuntu
Description: Ubuntu 7.04
Release: 7.04
Codename: feisty
</screen>
      <itemizedlist>
        <listitem>
          <para><emphasis role="strong">ifconfig</emphasis>: Komento <emphasis role="strong">ifconfig</emphasis> antaa tietoa järjestelmän verkkoliittymistä.</para>
        </listitem>
      </itemizedlist>
    </section>
    <section>
      <title>Uuden käyttäjän lisääminen</title>
      <itemizedlist>
        <listitem>
          <para><emphasis role="strong">"adduser"</emphasis>: Komento <emphasis role="strong">"adduser tulokas"</emphasis> lisää järjestelmään uuden käyttäjän nimeltä "tulokas". Uudelle käyttäjälle voidaan antaa salasana komennolla <emphasis role="strong">"passwd tulokas"</emphasis>.</para>
        </listitem>
      </itemizedlist>
    </section>
  </section>
  <section>
    <title>Valitsimet</title>
    <para>Komennon tavanomaista toimintaa voidaan muuttaa lisäämällä siihen <emphasis role="strong">--<emphasis>valitsin</emphasis></emphasis>. Kun komentoon <emphasis role="strong">ls</emphasis> lisää valitsimen <emphasis role="strong">-s</emphasis>, myös tiedostojen koko näytetään luettelossa. Lisäämällä vielä valitsimen <emphasis role="strong">-h</emphasis>, näytetään tiedostojen koko helppolukuisemmassa muodossa.</para>
    <para>Valitsimia voi yhdistää, joten esimerkiksi <emphasis role="strong">"ls -sh"</emphasis> on aivan sama komento kuin <emphasis role="strong">"ls -s -h"</emphasis>. Useimmista valitsimista on myös pitkä muoto, jossa valitsimen edellä on kaksi viivaa. Yllä olevan komennon voisi kirjoittaa <emphasis role="strong">"ls --size --human-readable"</emphasis>.</para>
  </section>
  <section>
    <title>"Man" ja ohjeiden hakeminen</title>
    <para><emphasis role="strong"><emphasis>komento</emphasis>--help</emphasis>and <emphasis role="strong">man <emphasis>komento</emphasis></emphasis> ovat komentorivin kaksi tärkeintä työkalua.</para>
    <para>Lähes kaikki komennot tuntevat valitsimen <emphasis role="strong">-h</emphasis> (tai <emphasis role="strong">--help</emphasis>), joka näyttää lyhyen kuvauksen komennon käytöstä ja valitsimista. Tätä voi kokeilla vaikka komennolla <emphasis role="strong">"man -h"</emphasis> tai <emphasis role="strong">"man --help"</emphasis>.</para>
    <para>Linuxissa jokaisella komennolla ja lähes jokaisella sovelluksella on man-tiedosto (man tulee sanasta manual - käsikirja). Kirjoittamalla yksinkertaisesti <emphasis role="strong">"man "komento""</emphasis> saa nähtäväkseen kyseisen komennon laajemman käyttöohjeen. Esimerkiksi <emphasis role="strong">"man mv"</emphasis> näyttää komennon <emphasis role="strong">mv</emphasis> (sanasta move - siirtää) käyttöohjeen.</para>
    <para>Man-tiedostossa voi liikkua ylös- ja alaspäin nuolinäppäimien avulla. Takaisin komentokehotteelle pääsee painamalla <emphasis role="strong">"q"</emphasis>.</para>
    <para><emphasis role="strong">"man man"</emphasis> näyttää <emphasis role="strong">man</emphasis>-komennon käyttöohjeen, mistä onkin hyvä aloittaa!</para>
    <para><emphasis role="strong">"man intro"</emphasis> on erityisen hyödyllinen - se näyttää ohjeen "Introduction to user commands" ("Käyttäjäkomentojen esittely"), joka on melko lyhyt, hyvin kirjoitettu johdanto Linuxin komentorivin käyttämiseen.</para>
    <para>Lisäksi ovat vielä <emphasis role="strong">info</emphasis>-sivut, jotka yleensä käsittelevät aihetta syvällisemmin kuin <emphasis role="strong">man</emphasis>-sivut. Komento <emphasis role="strong">"info info"</emphasis> näyttää info-sivujen esittelyn.</para>
    <section>
      <title>Hakeminen man-tiedotoista</title>
      <para>Jos ei ole varma mitä komentoa tai sovellusta käyttäisi, voi kokeilla hakea man-tiedostoista.</para>
      <itemizedlist>
        <listitem>
          <para><emphasis role="strong">man -k <emphasis>foo</emphasis></emphasis> hakee man-tiedostoista sanalla <emphasis>foo</emphasis>. Tätä voi kokeilla vaikka komennolla <emphasis role="strong">"man -k nautilus"</emphasis>.</para>
          <itemizedlist>
            <listitem>
              <para>Tämä on sama kuin komento <emphasis role="strong"> apropos</emphasis>.</para>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem>
          <para><emphasis role="strong">man -f <emphasis>foo</emphasis></emphasis> hakee vain man-tiedostojen otsikoista. Tätä voi kokeilla esimerkiksi komennolla <emphasis role="strong">"man -f gnome"</emphasis>.</para>
          <itemizedlist>
            <listitem>
              <para>Tämä on sama kuin komento <emphasis role="strong"> whatis</emphasis>.</para>
            </listitem>
          </itemizedlist>
        </listitem>
      </itemizedlist>
    </section>
  </section>
  <section>
    <title>Muuta hyödyllistä</title>
    <section>
      <title>Komentojen liittäminen</title>
      <para>Ohjeissa neuvotaan usein liittämään jokin komento päätteeseen. Käyttäjä saattaa tällöin ihmetellä, miksi web-sivulta näppäinkomennolla <emphasis role="strong">ctrl+C</emphasis> kopioitu teksti ei liity päätteeseen komennolla <emphasis role="strong">ctrl+V</emphasis>. Ei kai kaikkia noita komentoja sentään joudu kirjoittamaan itse? Ei syytä huoleen,  liittäminen toimii päätteessä hiiren keskipainikkeella (jos hiiressä on vain kaksi painiketta, painetaan niitä yhtä aikaa) tai oikeanpuoleisella näppäimellä, jolloin valitaan valikosta <emphasis>Liitä</emphasis>.</para>
    </section>
    <section>
      <title>Kirjoita vähemmän</title>
      <informaltable>
        <tgroup cols="3">
          <colspec colname="col_0"/>
          <colspec colname="col_1"/>
          <colspec colname="col_2"/>
          <tbody>
            <row>
              <entry align="left" colsep="1" rowsep="1">
                <para><emphasis role="strong">Nuoli ylös</emphasis> tai <emphasis role="strong">ctrl+p</emphasis></para>
              </entry>
              <entry align="left" colsep="1" namest="col_1" rowsep="1" nameend="col_2">
                <para>Näyttää aiemmin annettuja komentoja.</para>
              </entry>
            </row>
            <row>
              <entry align="left" colsep="1" rowsep="1">
                <para><emphasis role="strong">Nuoli alas</emphasis> tai <emphasis role="strong">ctrl+n</emphasis></para>
              </entry>
              <entry align="left" colsep="1" namest="col_1" rowsep="1" nameend="col_2">
                <para>Näyttää viimeaikaisempia komentoja.</para>
              </entry>
            </row>
            <row>
              <entry colsep="1" rowsep="1">
                <para>
                  <emphasis role="strong">Enter</emphasis>
                </para>
              </entry>
              <entry align="left" colsep="1" namest="col_1" rowsep="1" nameend="col_2">
                <para>Kun päätteellä on aikomasi komento</para>
              </entry>
            </row>
            <row>
              <entry align="left" colsep="1" rowsep="1">
                <para>
                  <emphasis role="strong">sarkain</emphasis>
                </para>
              </entry>
              <entry align="left" colsep="1" namest="col_1" rowsep="1" nameend="col_2">
                <para>Erittäin käytännöllinen ominaisuus.  Täydentää komennon tai tiedostonimen, kun siitä on kirjoitettu vain osa. Jos vaihtoehtoja on useampia, näytetään ne luettelona.</para>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
    </section>
    <section>
      <title>Tekstin muokkaaminen</title>
      <para>Hiiri ei toimi. Vasenta ja oikeaa nuolinäppäintä käyttämällä siirretään kohdistin haluttuun kohtaan.</para>
      <para>Kirjoittaminen <emphasis>lisää</emphasis> tekstiä - ei korvaa jo kirjoitettua.</para>
      <informaltable>
        <tgroup cols="3">
          <colspec colname="col_0"/>
          <colspec colname="col_1"/>
          <colspec colname="col_2"/>
          <tbody>
            <row>
              <entry colsep="1" rowsep="1">
                <para><emphasis role="strong">ctrl+a</emphasis> tai <emphasis role="strong">Home</emphasis></para>
              </entry>
              <entry align="left" colsep="1" namest="col_1" rowsep="1" nameend="col_2">
                <para>Siirtää kohdistimen rivin alkuun.</para>
              </entry>
            </row>
            <row>
              <entry colsep="1" rowsep="1">
                <para><emphasis role="strong">ctrl+e</emphasis> tai <emphasis role="strong">End</emphasis></para>
              </entry>
              <entry align="left" colsep="1" namest="col_1" rowsep="1" nameend="col_2">
                <para>Siirtää kohdistimen rivin loppuun.</para>
              </entry>
            </row>
            <row>
              <entry colsep="1" rowsep="1">
                <para>
                  <emphasis role="strong">ctrl+b</emphasis>
                </para>
              </entry>
              <entry align="left" colsep="1" namest="col_1" rowsep="1" nameend="col_2">
                <para>Siirtää kohdistimen tämän hetkisen tai edeltävän sanan alkuun.</para>
              </entry>
            </row>
            <row>
              <entry colsep="1" rowsep="1">
                <para>
                  <emphasis role="strong">ctrl+k</emphasis>
                </para>
              </entry>
              <entry align="left" colsep="1" namest="col_1" rowsep="1" nameend="col_2">
                <para>Poistaa kohdistimen jälkeisen osan rivistä.</para>
              </entry>
            </row>
            <row>
              <entry colsep="1" rowsep="1">
                <para>
                  <emphasis role="strong">ctrl+u</emphasis>
                </para>
              </entry>
              <entry align="left" colsep="1" namest="col_1" rowsep="1" nameend="col_2">
                <para>Poistaa tämän hetkisen rivin kokonaan.</para>
              </entry>
            </row>
            <row>
              <entry colsep="1" rowsep="1">
                <para>
                  <emphasis role="strong">ctrl+w</emphasis>
                </para>
              </entry>
              <entry align="left" colsep="1" namest="col_1" rowsep="1" nameend="col_2">
                <para>Poistaa kohdistinta edeltävän osan sanasta.</para>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
    </section>
  </section>
  <section>
    <title>Lisää tietoa</title>
	<para>Seuraavat oppaat ovat tarjolla Internetissä:</para>
    <itemizedlist>
      <listitem>
        <para><ulink url="http://users.utu.fi/sjsepp/linux_ohje/navigation.html"> Ohjeita Linuxin kotikäyttöön</ulink> - sisältää  laajan ja selkeän komentorivioppaan aloittelevalle ja edistyneemmälle käyttäjälle.</para>
      </listitem>
      <listitem>
        <para><ulink url="http://linux.fi/index.php/Komentorivin_perusteet"> Komentorivin perusteet</ulink> - tiivis esitys komentorivin perusominaisuuksista.</para>
      </listitem>
      <listitem>
        <para><ulink url="http://linux.fi/index.php/Komentorivikomennot">Komentorivikomennot</ulink> - luettelo tavallisimmista komennoista kuvauksen kera.</para>
      </listitem>
      <listitem>
        <para><ulink url="https://help.ubuntu.com/community/CommandlineHowto"> CommandlineHowto</ulink> - laajempi kuin tämä perusopas, mutta vielä keskeneräinen (englanninkielinen).</para>
      </listitem>
      <listitem>
        <para><ulink url="https://help.ubuntu.com/community/AptGetHowto"> AptGetHowto</ulink> - ohjelmapakettien asentaminen komentoriviltä apt-getin avulla (englanninkielinen)</para>
      </listitem>
      <listitem>
        <para><ulink url="https://help.ubuntu.com/community/grep">grep Howto</ulink> - grep on tehokas komentoriviltä käytettävä hakutyökalu (englanninkielinen).</para>
      </listitem>
    </itemizedlist>
    <para>Seuraavasssa on yksityiskohtaisia oppaita Linuxin komentorivikäyttöön:</para>
    <itemizedlist>
      <listitem>
        <para><ulink url="http://linuxcommand.org/"/> - perusoppaita BASH:in käyttämiseen ja komentosarjojen tekemiseen (englanniksi).</para>
      </listitem>
      <listitem>
        <para><ulink url="http://linuxsurvival.com/index.php"/> - Javalla toteutettuja oppaita (englanniksi)</para>
      </listitem>
      <listitem>
        <para><ulink url="http://rute.2038bug.com/index.html.gz"/> - erittäin laaja verkkokirja järjestelmänhallinnasta, pääasiassa komentoriviä käyttäen.</para>
      </listitem>
    </itemizedlist>
  </section>
</article>
