<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN" 
	"http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
<!ENTITY % globalent SYSTEM "../../../libs/global.ent">
%globalent;
<!ENTITY % cdo-C SYSTEM "../../../libs/cdo-C.ent">
%cdo-C;
<!ENTITY % gnome-menus-C SYSTEM "../../../ubuntu/libs/gnome-menus-C.ent">
%gnome-menus-C;
<!ENTITY % xinclude SYSTEM "../../../libs/xinclude.mod">
%xinclude;
<!ENTITY language "en">
<!ENTITY ubuntu '<phrase>Ubuntu</phrase>'>
]>
<chapter id="partitions-booting" status="complete">
	<title>Разделы диска и загрузка</title>
		<para>Этот раздел содержит информацию о настройке поведения компьютера при включении, а также о том, как получить доступ к другим операционным системам и разделам в Ubuntu.</para>
			<sect1 status="complete">
				<title>Графический редактор разделов диска</title>
					<para><application>Gparted</application> - это графический инструмент для разбиения дисков.</para> 
					<procedure>
						<step>
							<para>Установите пакет <application>gparted</application> (см. <xref linkend="add-applications"/>).</para>
						</step>
						<step>	
							<para>Вы можете запустить приложение с &gparted;.</para>
						</step>
					</procedure>
		</sect1>
		<sect1 status="complete">
			<title>Получение доступа к Windows разделам в Ubuntu</title>
				<para>Разделы Windows должны быть автоматически доступны в любой системе Ubuntu. Если это не так, вы можете получить к ним доступ с помощью приложения <application>Диски</application>.</para>
				<procedure>
					<step>
						<para>Открыть &disks;.</para>
					</step>
					<step>
						<para>Выберите правильный жёсткий диск, и нажмите <guilabel>Разделы</guilabel></para>
					</step>
					<step>
						<para>Выберите нужный раздел и нажмите <guilabel>Подключить</guilabel>.</para>
					</step>
					<step>
						<para>Чтобы отсоединить раздел, нажмите <guilabel>Отключить</guilabel>.</para>
					</step>
				</procedure>
		</sect1>
		<sect1 status="complete">
			<title>Получение автоматического доступа к Windows разделам в Ubuntu</title>
				<para>Разделы Windows должны быть автоматически доступны в Ubuntu. Если это не так, вы можете получить к ним автоматический доступ с помощью следующей процедуры:</para>
				<procedure>
					<step>
						<para>Прочтите это: <xref linkend="listpartitiontables"/></para>
					</step>
					<step>
						<para>Сначала создайте папку куда будет подсоединяться раздел("mounted"):</para>
							<screen>
sudo mkdir /media/windows
							</screen>
					</step>
					<step>
						<para>Далее, сделайте резервную копию файла конфигурации дисков, затеми откройте файл в текстовом редакторе (нужны привилегии администратора):</para>
						<screen>
sudo cp /etc/fstab /etc/fstab_backup
sudo gedit /etc/fstab
						</screen>
					</step>
					<step>
						<para>Добавьте эти строки к концу файла: <programlisting>/dev/hda1    /media/windows   ntfs    nls=utf8,umask=0222             0   0</programlisting></para>
						<note>
							<para>Замените <emphasis role="bold">/dev/hda1</emphasis> правильным названием устройства вашего раздела.</para>
							<para>Если ваш раздел Windows использует файловую систему FAT32, используйте /dev/hda1····/media/windows···vfat····iocharset=utf8,umask=0000···0···0·</para>
							<para>Если Ваша файловая система -  FAT32, то можно разрешить доступ на запись. Чтобы сделать это, измените содержимое <emphasis role="bold">umask</emphasis> на 0000.</para>
						</note>
					</step>
					<step>
						<para>Сохраните отредактированный файл (<ulink url="sample/fstab_automountntfs">на пример</ulink>).</para>
					</step>
					<step>
						<para>Изменения вступят в силу, когда компьютер будет перезагружен.</para>
					</step>
				</procedure>
		</sect1>
		<sect1 status="complete">
			<title>Автоматический запуск системной команды при запуске</title>
				<para>Иногда бывает полезно выполнить какую-нибудь комманду во время загрузки компьютера. Делается это так:</para>
				<procedure>
					<step>
						<para>Измените <application>crontab</application> с правами суперпользователя (см. <xref linkend="root-and-sudo"/>):</para>
							<screen>sudo crontab -e</screen>
					</step>
					<step>
						<para>Вставьте следующую строку:</para>
							<screen>@reboot /home/user/command</screen>
					<note>
						<para>Замените <filename>/home/user/command</filename> полным адресом вашей команды.</para>
					</note>
					</step>
					<step>
						<para>Сохраните файл и выйдете.</para>
					</step>
				</procedure>
		</sect1>
		<sect1 status="complete">
			<title>Измените Операционную Систему по умолчанию во время загрузки</title>
				<para>Чтобы выбрать какую операционную оистему (ОС) загружать по умолчанию, отредактируйте файл конфигурации <application>grub</application>.</para>
				<procedure>
					<step>
						<para>Сделайте резервную копию конфигурационного файла и откройте файл в тектовом редакторе:</para>
							<screen>sudo cp /boot/grub/menu.lst /boot/grub/menu.lst_backup
sudo gedit /boot/grub/menu.lst</screen>
					</step>
					<step>
						<para>Найдите эту строчку:</para>
						<programlisting>...
default 0
...</programlisting>
					</step>
					<step>
						<para>Замените ее следующей строкой:</para>
						<programlisting>default X</programlisting>
						<note><para>Вы должны заменить X номером, который соответствует номеру по порядку вашей ОС в конфигурационном файле. Вы должны начинать отсчет с 0. Например, вы хотите чтобы по умолчанию загружалась система, которая в списке записана первой, следовательно замените X на 0, если хотите загружать по умолчанию систему, которая вторая по прядку, по заменяем X на 1, и так далее.</para></note> 
					</step>
					<step>
						<para>Сохраните отредактированный файл (<ulink url="sample/menu.list_changedefaultosgrub">пример</ulink>)</para>
					</step>
				</procedure>
		</sect1>
		<sect1 status="complete">
			<title>Настройка служб, выполняемых при загрузке</title>
				<para>Это требует прав администратора (см. <xref linkend="root-and-sudo"/>).</para>
				<procedure>
					<step>
						<para>Запустите <application>Настройку служб</application>: <menuchoice><guimenu>Система</guimenu>
								<guisubmenu>Администрирование</guisubmenu>
								<guimenuitem>Службы</guimenuitem></menuchoice>.</para>
					</step>
					<step>
						<para>Введите пароль.</para>
					</step>
					<step>
						<para>Выберите службы, которые выхотите запускать и нажмите <guibutton>OK</guibutton> когда закончите.</para>
					</step>
					<step>
						<para>Для более четкого контроля за запускаемыми службами установите <application>bum</application> из репозитория <quote>Universe</quote> repository (смотрите <xref linkend="add-applications"/>) и запустите его: <menuchoice><guimenu>Система</guimenu>
								<guisubmenu>Administration</guisubmenu>
								<guimenuitem>Менеджер загрузки</guimenuitem></menuchoice>.</para>
					</step>
				</procedure>
			</sect1>
	<sect1 id="other-hardware" status="complete">
	    <title>Прочее</title>
	    <sect2 id="listpartitiontables" status="complete">
                <title>Проверка использованного места на диске и просмотр таблицы разделов</title>
                    <procedure>
                        <step>
                            <para>Открыть &disks;.</para>
                        </step>
                        <step>
                            <para>Выберите вкладку <guibutton>Жесткий диск</guibutton>, а затем <guibutton>Разделы</guibutton></para>
                        </step>
                        <step>
                            <para>Каждый раздел будет показан в <guilabel>Списке разделов</guilabel> с местом на диске и точкой монтирования.</para>
                        </step>
                    </procedure>
            </sect2>
            <sect2 status="complete">
                <title>Список устройств</title>
                            <para>Для просмотра присоединенных устройств, в терминале введите:</para>
                               <screen>mount</screen>
			    <para>В списке появятся устройства (такие как разделы дисков), точки монтирования(где находятся доступные вам файлы), файловые системы и опции монтирования</para>
                            <para>Этот пример показывает дисковый раздел hda2, подключенный как  '/', с файловой системой ext3. Раздел присоединен с двумя опциями: первое, позволяющее считывать и записывать на устройство, второе - ,в случае ошибки, монтирует устройство в режиме только для чтения.</para>
                            <screen><computeroutput>/dev/hda2 on / type ext3 (rw,errors=remount-ro)</computeroutput></screen>				
                            <para>Чтобы просмотреть список устройств PCI:</para>
                                <screen>lspci</screen>
                            <para>Чтобы просмотреть список устройств USB:</para>
                                <screen>lsusb</screen>
            </sect2>
 
            <sect2 status="complete">
                <title>Ручное присоединение и/или отсоединение устройств CD/DVD-ROM и просмотр скрытых и привязанных файлов и папок</title>
                            <para>Допустим, что <filename class="devicefile">/media/cdrom0/</filename> местоположение CD/DVD-ROM</para>
                            <para>Для присоединения CD/DVD:</para>
                            <para>
                                <screen>
sudo mount /media/cdrom0/ -o unhide</screen>
                            </para>
                            <para>Для отсоединения CD/DVD:</para>
                            <para>
                                <screen>
sudo umount /media/cdrom0/</screen>
                            </para>
            </sect2>
	</sect1>
</chapter>

