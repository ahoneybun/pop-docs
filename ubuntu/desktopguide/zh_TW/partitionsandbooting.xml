<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN" 
	"http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
<!ENTITY % globalent SYSTEM "../../../libs/global.ent">
%globalent;
<!ENTITY % cdo-C SYSTEM "../../../libs/cdo-C.ent">
%cdo-C;
<!ENTITY % gnome-menus-zh_TW SYSTEM "../../../ubuntu/libs/gnome-menus-zh_TW.ent">
%gnome-menus-zh_TW;
<!ENTITY % xinclude SYSTEM "../../../libs/xinclude.mod">
%xinclude;
<!ENTITY language "en">
<!ENTITY ubuntu '<phrase>Ubuntu</phrase>'>
]>
<chapter id="partitions-booting" status="complete">
	<title>分割區和開機</title>
		<para>This section contains information about how to change the way that your computer behaves when you first turn it on, and how to access other operating systems and partitions from Ubuntu.</para>
			<sect1 status="complete">
				<title>圖形分割區編輯器</title>
					<para><application>Gparted</application> 是個用來編輯硬碟分割區的圖形介面工具。</para> 
					<procedure>
						<step>
							<para>安裝 <application>gparted</application> 套件（參看 <xref linkend="add-applications"/>）。</para>
						</step>
						<step>	
							<para>You can run the application with &gparted;.
							</para>
						</step>
					</procedure>
		</sect1>
		<sect1 status="complete">
			<title>Make Windows partitions available from Ubuntu</title>
				<para>Windows partitions should be automatically available from any Ubuntu system. If they are not, you can make them available using the <application>Disks Manager</application>.</para>
				<procedure>
					<step>
						<para>Open &disks;.</para>
					</step>
					<step>
						<para>Select the correct hard disk, and click <guilabel>Partitions</guilabel>.</para>
					</step>
					<step>
						<para>選擇相關分割區，並點選<guilabel>啟用</guilabel>。</para>
					</step>
					<step>
						<para>若要卸下分割區，點選<guilabel>停用</guilabel>。</para>
					</step>
				</procedure>
		</sect1>
		<sect1 status="complete">
			<title>Make Windows partitions automatically available</title>
				<para>Windows partitions should be automatically available from Ubuntu. If they are not, the following procedure will make them automatically available:</para>
				<procedure>
					<step>
						<para>參看 <xref linkend="listpartitiontables"/></para>
					</step>
					<step>
						<para>首先建立一個讓分割區能供取用（「掛載」）的目錄：</para>
							<screen>
sudo mkdir /media/windows
							</screen>
					</step>
					<step>
						<para>Next, back up your disk configuration file and open the file in a text editor with administrative privileges:
						</para>
						<screen>
sudo cp /etc/fstab /etc/fstab_backup
sudo gedit /etc/fstab
						</screen>
					</step>
					<step>
						<para>將此行加在檔案最後面：<programlisting>/dev/hda1 /media/windows ntfs umask=0222 0 0</programlisting></para>
						<note>
							<para>將您要掛載的分割區設備名稱取代 <emphasis role="bold">/dev/hda1</emphasis>。</para>
							<para>如果您的 Windows 分割區用的是 FAT32 檔案系統，請將以上指令中的 <emphasis role="bold">ntfs</emphasis> 變為 <emphasis role="bold">vfat</emphasis>。</para>
							<para>如果您有 FAT32 檔案系統，還可以安全讀寫。要做這樣事情，將 <emphasis role="bold">umask</emphasis> 的值改成 0000 。</para>
						</note>
					</step>
					<step>
						<para>Save the edited file (<ulink url="sample/fstab_automountntfs">an example</ulink>).</para>
					</step>
					<step>
						<para>下次重開機時變更才會生效。</para>
					</step>
				</procedure>
		</sect1>
		<sect1 status="complete">
			<title>啟動時自動執行指令</title>
				<para>Sometimes it can be useful to run a custom command whenever your computer starts up. To do this:</para>
				<procedure>
					<step>
						<para>以管理權限編輯 <application>crontab</application>（參看 <xref linkend="root-and-sudo"/>）：</para>
							<screen>sudo crontab -e</screen>
					</step>
					<step>
						<para>插入以下行：</para>
							<screen>@reboot /home/user/command</screen>
					<note>
						<para>將 <filename>/home/user/command</filename> 改成您指令的完整路徑。</para>
					</note>
					</step>
					<step>
						<para>儲存檔案並離開。</para>
					</step>
				</procedure>
		</sect1>
		<sect1 status="complete">
			<title>Change default operating system at boot</title>
				<para>To change which operating system starts by default when the computer starts up, edit the <application>grub</application> configuration file.</para>
				<procedure>
					<step>
						<para>Make a backup of the configuration file, and open it in a text editor:</para>
							<screen>sudo cp /boot/grub/menu.lst /boot/grub/menu.lst_backup
sudo gedit /boot/grub/menu.lst</screen>
					</step>
					<step>
						<para>尋找此行：</para>
						<programlisting>...
default 0
...</programlisting>
					</step>
					<step>
						<para>以以下此行代替：</para>
						<programlisting>default X</programlisting>
						<note><para>You should replace X with a number, according to the order which your operating systems appear in the configuration file. You should start counting from 0. For example, if you wish the default operating system to be the first in the list, replace X with 0, if you wish the default operating system to be the second in the list, replace X with 1, and so on.</para></note> 
					</step>
					<step>
						<para>
							Save the edited file (<ulink url="sample/menu.list_changedefaultosgrub">an example</ulink>)
						</para>
					</step>
				</procedure>
		</sect1>
		<sect1 status="complete">
			<title>Configure startup services</title>
				<para>這需要管理權限（參看 <xref linkend="root-and-sudo"/>）。</para>
				<procedure>
					<step>
						<para>Run <application>Services Settings</application>:
							<menuchoice>
								<guimenu>System</guimenu>
								<guisubmenu>Administration</guisubmenu>
								<guimenuitem>Services</guimenuitem>
							</menuchoice>.
						</para>
					</step>
					<step>
						<para>輸入您的密碼。</para>
					</step>
					<step>
						<para>Select the services you want running, then click <guibutton>OK</guibutton> when done.</para>
					</step>
					<step>
						<para>For greater control over the boot-up services, install the <application>bum</application> from the <quote>Universe</quote> repository (see <xref linkend="add-applications"/>), and run it:
							<menuchoice>
								<guimenu>System</guimenu>
								<guisubmenu>Administration</guisubmenu>
								<guimenuitem>Boot-up Manager</guimenuitem>
							</menuchoice>.
						</para>
					</step>
				</procedure>
			</sect1>
	<sect1 id="other-hardware" status="complete">
	    <title>Other Tips</title>
	    <sect2 id="listpartitiontables" status="complete">
                <title>查看磁碟空間使用率和檢視分割表</title>
                    <procedure>
                        <step>
                            <para>Open &disks;.</para>
                        </step>
                        <step>
                            <para>選擇 <guibutton>硬碟</guibutton>，點選 <guibutton>分割區</guibutton>分頁。</para>
                        </step>
                        <step>
                            <para><guilabel>分割區清單</guilabel>會列出每一個分割區，並顯示磁碟空間和掛載點。</para>
                        </step>
                    </procedure>
            </sect2>
            <sect2 status="complete">
                <title>List devices</title>
                            <para>To list mounted devices, in a terminal enter:</para>
                               <screen>mount</screen>
			    <para>清單顯示裝置（像硬碟分割區）、掛載點（您存取檔案的位置）、檔案類型以及掛載選項。</para>
                            <para>這範例是顯示硬碟分割區 hda2 的已掛在『/』上，而檔案系統類型是 ext3。這分割區掛載時有兩個選項，一個是允許此裝置能讀取和寫入、另外是當重新掛載時若發生錯誤，此裝置只能唯讀。</para>
                            <screen><computeroutput>/dev/hda2 on / type ext3 (rw,errors=remount-ro)</computeroutput></screen>				
                            <para>要列出 PCI 裝置：</para>
                                <screen>lspci</screen>
                            <para>要列出 USB 裝置：</para>
                                <screen>lsusb</screen>
            </sect2>
 
            <sect2 status="complete">
                <title>手動掛載或卸載 CD/DVD 光碟機，並顯示所有隱藏的及相關的檔案或資料夾</title>
                            <para>假定 CD/DVD 光碟機是 <filename class="devicefile">/media/cdrom0/</filename> 是 CD/DVD 光碟機的位置</para>
                            <para>To mount a CD/DVD-ROM:</para>
                            <para>
                                <screen>
sudo mount /media/cdrom0/ -o unhide</screen>
                            </para>
                            <para>To unmount a CD/DVD-ROM:</para>
                            <para>
                                <screen>
sudo umount /media/cdrom0/</screen>
                            </para>
            </sect2>
	</sect1>
</chapter>

