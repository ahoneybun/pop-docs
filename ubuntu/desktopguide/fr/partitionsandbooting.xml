<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN" 
	"http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
<!ENTITY % globalent SYSTEM "../../../libs/global.ent">
%globalent;
<!ENTITY % cdo-C SYSTEM "../../../libs/cdo-C.ent">
%cdo-C;
<!ENTITY % gnome-menus-fr SYSTEM "../../../ubuntu/libs/gnome-menus-fr.ent">
%gnome-menus-fr;
<!ENTITY % xinclude SYSTEM "../../../libs/xinclude.mod">
%xinclude;
<!ENTITY language "en">
<!ENTITY ubuntu '<phrase>Ubuntu</phrase>'>
]>
<chapter id="partitions-booting" status="complete">
	<title>Partitions et démarrage</title>
		<para>Cette section contient des informations sur la façon de changer le comportement de votre ordinateur lorsque vous l'allumez pour la première fois, et sur la façon d'accéder à d'autres systèmes d'exploitation et partitions à partir d'Ubuntu.</para>
			<sect1 status="complete">
				<title>Éditeur graphique de partitions</title>
					<para><application>Gparted</application> est un outil graphique pour modifier les partitions du disque dur.</para> 
					<procedure>
						<step>
							<para>Installez le paquet <application>gparted</application> (voir <xref linkend="add-applications"/>).</para>
						</step>
						<step>	
							<para>Vous pouvez lancer l'application avec &gparted;.</para>
						</step>
					</procedure>
		</sect1>
		<sect1 status="complete">
			<title>Rendre les partitions Windows accessibles depuis Ubuntu</title>
				<para>Les partitions Windows devraient être automatiquement accessibles depuis n'importe quel système Ubuntu. Si elles ne le sont pas, vous pouvez les rendre disponibles en utilisant le <application>Gestionnaire de Disques</application>.</para>
				<procedure>
					<step>
						<para>Ouvrez &disks;.</para>
					</step>
					<step>
						<para>Sélectionnez le bon disque dur, et cliquez sur <guilabel>Partitions</guilabel>.</para>
					</step>
					<step>
						<para>Sélectionnez la partition appropriée et cliquez sur <guilabel>Activer</guilabel>.</para>
					</step>
					<step>
						<para>Pour démonter la partition, cliquez sur <guilabel>Désactiver</guilabel>.</para>
					</step>
				</procedure>
		</sect1>
		<sect1 status="complete">
			<title>Rendre les partitions Windows automatiquement accessibles</title>
				<para>Les partitions Windows devraient être automatiquement accessibles depuis Ubuntu. Si elles ne le sont pas, la procédure suivante les rendra automatiquement accessibles :</para>
				<procedure>
					<step>
						<para>Lire <xref linkend="listpartitiontables"/></para>
					</step>
					<step>
						<para>Créez tout d'abord un répertoire dans lequel la partition pourra être disponible (« montée ») :</para>
							<screen>
sudo mkdir /media/windows
							</screen>
					</step>
					<step>
						<para>Ensuite, sauvegardez le fichier de configuration de votre disque, et ouvrez le avec un éditeur de texte en ayant les privilèges de l'administrateur :</para>
						<screen>
sudo cp /etc/fstab /etc/fstab_sauvegarde
sudo gedit /etc/fstab
						</screen>
					</step>
					<step>
						<para>Ajoutez la ligne suivante à la fin du fichier : <programlisting>/dev/hda1 /media/windows ntfs umask=0222 0 0</programlisting></para>
						<note>
							<para>Remplacez <emphasis role="bold">/dev/hda1</emphasis> par le périphérique désignant votre partition.</para>
							<para>Si votre partition Windows utilise le système de fichiers FAT32, remplacez <emphasis role="bold">ntfs</emphasis> par <emphasis role="bold">vfat</emphasis> dans la commande ci-dessus.</para>
							<para>Si vous avez un système de fichiers FAT32, il est tout à fait sûr de permettre l'accès en lecture et en écriture. Pour cela, changez la valeur de <emphasis role="bold">umask</emphasis> à 0000.</para>
						</note>
					</step>
					<step>
						<para>Sauvegarder le fichier modifié <ulink url="sample/fstab_automountntfs">un exemple</ulink>).</para>
					</step>
					<step>
						<para>Les changements prendront effet après le redémarrage de l'ordinateur.</para>
					</step>
				</procedure>
		</sect1>
		<sect1 status="complete">
			<title>Lancer automatiquement une commande système au démarrage</title>
				<para>Il est parfois utile de lancer une commander personnalisée à chaque démarrage de l'ordinateur. Pour ce faire :</para>
				<procedure>
					<step>
						<para>Éditez le fichier <application>crontab</application> avec les droits d'administrateur (voir <xref linkend="root-and-sudo"/>) :</para>
							<screen>sudo crontab -e</screen>
					</step>
					<step>
						<para>Insérez la ligne suivante :</para>
							<screen>@reboot /home/user/command</screen>
					<note>
						<para>Remplacez <filename>/home/user/command</filename> par le chemin complet de votre commande.</para>
					</note>
					</step>
					<step>
						<para>Enregistrez le fichier et quittez.</para>
					</step>
				</procedure>
		</sect1>
		<sect1 status="complete">
			<title>Changer le système d'exploitation par défaut au démarrage</title>
				<para>Pour spécifier quel système d'exploitation se lance par défaut au démarrage de l'ordinateur, éditez le fichier de configuration de <application>grub</application>.</para>
				<procedure>
					<step>
						<para>Faites une sauvegarde du fichier de configuration, et ouvrez le dans un éditeur de texte :</para>
							<screen>sudo cp /boot/grub/menu.lst /boot/grub/menu.lst_sauvegarde
sudo gedit /boot/grub/menu.lst</screen>
					</step>
					<step>
						<para>Trouvez cette ligne :</para>
						<programlisting>...
default 0
...</programlisting>
					</step>
					<step>
						<para>Remplacez-la par la ligne suivante :</para>
						<programlisting>default X</programlisting>
						<note><para>Vous devez remplacer X par un nombre correspondant à l'ordre dans lequel vos systèmes d'exploitation apparaissent dans le fichier de configuration. Vous devez compter en partant de 0. Par exemple, si vous voulez que le système d'exploitation par défaut soit le premier de la liste, remplacez X par 0, si vous voulez que cela soit le deuxième de la liste, remplacez X par 1, etc..</para></note> 
					</step>
					<step>
						<para>Enregistrer le fichier modifié (<ulink url="sample/menu.list_changedefaultosgrub">un exemple</ulink>)</para>
					</step>
				</procedure>
		</sect1>
		<sect1 status="complete">
			<title>Configurer les services lancés au démarrage</title>
				<para>Cette action requiert les privilèges d'administrateur (voir <xref linkend="root-and-sudo"/>).</para>
				<procedure>
					<step>
						<para>Exécutez <application>Paramètres des services</application>: <menuchoice><guimenu>Système</guimenu>
								<guisubmenu>Administration</guisubmenu>
								<guimenuitem>Services</guimenuitem></menuchoice>.</para>
					</step>
					<step>
						<para>Saisissez votre mot de passe.</para>
					</step>
					<step>
						<para>Sélectionnez le service que vous voulez lancer, puis cliquez sur <guibutton>OK</guibutton>.</para>
					</step>
					<step>
						<para>Pour un meilleur contrôle des services lancés au démarrage, installez le programme <application>bum</application> depuis le dépôt <quote>Universe</quote> (voir <xref linkend="add-applications"/>), et lancez le : <menuchoice><guimenu>Système</guimenu>
								<guisubmenu>Administration</guisubmenu>
								<guimenuitem>Boot-up Manager</guimenuitem></menuchoice>.</para>
					</step>
				</procedure>
			</sect1>
	<sect1 id="other-hardware" status="complete">
	    <title>Autres astuces</title>
	    <sect2 id="listpartitiontables" status="complete">
                <title>Vérifier l'utilisation de l'espace disque et voir la table des partitions</title>
                    <procedure>
                        <step>
                            <para>Ouvrez &disks;.</para>
                        </step>
                        <step>
                            <para>Sélectionnez le <guibutton>disque dur</guibutton>, puis l'onglet <guibutton>Partitions</guibutton></para>
                        </step>
                        <step>
                            <para>Chaque partition sera affichée sous la <guilabel>Liste des partitions</guilabel> avec l'espace disque et le point de montage correspondant.</para>
                        </step>
                    </procedure>
            </sect2>
            <sect2 status="complete">
                <title>Liste des périphériques</title>
                            <para>Pour lister les périphériques montés dans un terminal, tapez :</para>
                               <screen>mount</screen>
			    <para>La liste affiche le périphérique (une partition du disque dur par exemple), le point de montage (là où les fichiers sont accessibles), le système de fichiers et les options de montage.</para>
                            <para>Cet exemple montre la partition hda2 montée dans « / » , utilisant le système de fichiers ext3. La partition est montée avec deux options, la première autorise la lecture et l'écriture sur la partition, la seconde indique qu'en cas d'erreurs la partition sera remontée qu'en lecture seule.</para>
                            <screen><computeroutput>/dev/hda2 on / type ext3 (rw,errors=remount-ro)</computeroutput></screen>				
                            <para>Pour afficher la liste des périphériques PCI :</para>
                                <screen>lspci</screen>
                            <para>Pour afficher la liste des périphériques USB :</para>
                                <screen>lsusb</screen>
            </sect2>
 
            <sect2 status="complete">
                <title>Monter/démonter manuellement les CD/DVD-ROMs et afficher tous les fichiers/dossiers cachés associés.</title>
                            <para>En supposant que <filename class="devicefile">/media/cdrom0/</filename> est l'emplacement du lecteur CD/DVD-ROM</para>
                            <para>Pour monter un CD/DVD-ROM :</para>
                            <para>
                                <screen>
sudo mount /media/cdrom0/ -o unhide</screen>
                            </para>
                            <para>Pour démonter un CD/DVD-ROM :</para>
                            <para>
                                <screen>
sudo umount /media/cdrom0/</screen>
                            </para>
            </sect2>
	</sect1>
</chapter>

