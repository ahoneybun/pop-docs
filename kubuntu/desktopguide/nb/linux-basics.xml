<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN" 
"http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
<!ENTITY % globalent SYSTEM "../../../libs/global.ent">
%globalent;
<!ENTITY % cdo-C SYSTEM "../../../libs/cdo-C.ent">
%cdo-C;
<!ENTITY % kde SYSTEM "../../libs/kde.ent">
%kde;
<!ENTITY % kde-general SYSTEM "/usr/share/apps/ksgmltools2/customization/obsolete/general.entities">
%kde-general;
<!ENTITY % xinclude SYSTEM "../../../libs/xinclude.mod">
%xinclude;
<!ENTITY language "en">
]>
<chapter id="linux-basics" status="complete">
        <title>Linux Basics</title>
        <para>
        This chapter introduces you to basic concepts which are useful when
        getting started with a Kubuntu system.
        </para>
        <sect1 id="directories-file-systems" status="complete">
            <title>Mapper og filsystemer</title>
            <para>In Linux and Unix everything is a file. Directories are files, files are files, and devices are files. Devices are usually referred to as nodes; however, they are still files.</para>
            <para>Linux and Unix file systems are organized in a hierarchical, tree-like structure.  The highest level of the file system is the <filename>/</filename> or root directory.  All other files and directories exist under the root directory.  For example, <filename>/home/jebediah/cheeses.odt</filename> shows the correct full path to the <filename>cheeses.odt</filename> file that exists in the <filename>jebediah</filename> directory, which is under the <filename>home</filename> directory, which in turn is under the root (<filename>/</filename>) directory.</para>
            <para>Underneath the root (<filename>/</filename>) directory is a set of important directories common to most Linux distributions.  The following is a listing of common directories that are directly under the root (<filename>/</filename>) directory:</para>
            <itemizedlist>
                <listitem>
                    <para><filename>/bin</filename> - important commands, which historically have been <emphasis>bin</emphasis>ary, but may also be shell scripts</para>
                </listitem>
                <listitem>
                    <para><filename>/boot</filename> - <emphasis>boot</emphasis> configuration files, kernels, and other files needed at <emphasis>boot</emphasis> time</para>
                </listitem>
                <listitem>
                    <para><filename>/dev</filename> - the <emphasis>dev</emphasis>ice files</para>
                </listitem>
                <listitem>
                    <para><filename>/etc</filename> - configuration files, startup scripts, <emphasis>etc</emphasis>.</para>
                </listitem>
                <listitem>
                    <para><filename>/home</filename> -
                        <emphasis>home</emphasis> directories for different users</para>
                </listitem>
                <listitem>
                    <para><filename>/initrd</filename> - used when creating a customized <emphasis>init</emphasis>ial <emphasis>R</emphasis>AM <emphasis>D</emphasis>isk</para>
                </listitem>
                <listitem>
                    <para><filename>/lib</filename> - system <emphasis>lib</emphasis>raries</para>
                </listitem>
                <listitem>
                    <para><filename>/lost+found</filename> - provides a <emphasis>lost+found</emphasis> system for files that exist under the root (<filename>/</filename>) directory</para>
                </listitem>
                <listitem>
                    <para><filename>/media</filename> - automatically mounted (loaded) removable <emphasis>media</emphasis> such as CDs, digital cameras, etc.</para>
                </listitem>
                <listitem>
                  <para><filename>/mnt</filename> - manually <emphasis>m</emphasis>ou<emphasis>nt</emphasis>ed filesystems on your hard drive</para>
                </listitem>
                <listitem>
                    <para><filename>/opt</filename> - provides a location for <emphasis>opt</emphasis>ional (3rd party) applications to be installed; these are usually statically compiled and can be used in other versions or Linux distributions</para>
                </listitem>
                <listitem>
                    <para><filename>/proc</filename> - special dynamic directory that maintains information about the state of the system, including currently running <emphasis>proc</emphasis>esses</para>
                </listitem>
                <listitem>
                    <para><filename>/root</filename> - <emphasis>root</emphasis> user's home directory, pronounced "slash-root"</para>
                </listitem>
                <listitem>
                    <para><filename>/sbin</filename> - important <emphasis>s</emphasis>ystem <emphasis>bin</emphasis>aries and scripts, usually intended to be run as the root user</para>
                </listitem>
                <listitem>
                    <para><filename>/srv</filename> - can contain files that are <emphasis>s</emphasis>e<emphasis>rv</emphasis>ed to other systems</para>
                </listitem>
                <listitem>
                    <para><filename>/sys</filename> - similar to the /proc filesystem, but contains <emphasis>sys</emphasis>tem information not related to running processes</para>
                </listitem>
                <listitem>
                    <para><filename>/tmp</filename> - <emphasis>t</emphasis>e<emphasis>mp</emphasis>orary files</para>
                </listitem>
                <listitem>
                    <para><filename>/usr</filename> - applications and read-only files that are mostly available for all <emphasis>us</emphasis>e<emphasis>r</emphasis>s to access</para>
                </listitem>
                <listitem>
                    <para><filename>/var</filename> - <emphasis>var</emphasis>iable files such as logs and databases</para>
                </listitem> 
            </itemizedlist>
        </sect1>
        <sect1 id="permissions" status="complete">
            <title>Permissions</title>
            <para>All of the files on a Linux system have permissions that allow or prevent others from viewing, modifying or executing them. The superuser "root" has the ability to access any file on the system. Each file has access restrictions, user restrictions, and an owner/group association.</para>
            <para>Every file is secured by the following three layers of permissions, in order of importance:</para>
            <itemizedlist>
                <listitem>
                    <para>bruker</para>
                    <para>applies to the user who is the owner of the file</para>
                </listitem>
                <listitem>
                    <para>gruppe</para>
                    <para>applies to the group that is associated with the file</para>
                </listitem>
                <listitem>
                    <para>other</para>
                    <para>applies to all other users</para>
                </listitem>
            </itemizedlist>
            <para>Inside each of the three sets of permissions are the actual permissions.  The permissions, along with the way they apply differently to files and directories, are outlined below:</para>
            <itemizedlist>
                <listitem>
                    <para>lese</para>
                    <para>filer kan vises/åpnes</para>
                    <para>mappe innhold kan vises</para>
                </listitem>
                <listitem>
                    <para>skrive</para>
                    <para>filer kan endres og slettes</para>
                    <para>mappe innhold kan endres</para>
                </listitem>
                <listitem>
                    <para>kjøre</para>
                    <para>kjørbare filer kan bli kjørt som et program</para>
                    <para>directories can be entered</para>
                </listitem>
            </itemizedlist>
            <para>
                To view and edit the permissions on files and directories, open
                the 
                <menuchoice>
                    <guimenu>System Menu</guimenu>
                    <guimenuitem>Home Folder</guimenuitem>
                </menuchoice>,
                right-click on a file or directory, then
                select <guimenu>Properties</guimenu>.  The permissions are found under the
                <guilabel>Permissions</guilabel> tab and allow for the editing of all
                permission levels, if you are the owner of the file.  Advanced permission
                settings (such as in the <guilabel>Advanced Permissions</guilabel> tab) 
		are outside of the scope of this guide.
            </para>
        </sect1>
        <sect1 id="root-and-sudo" status="complete">

            <title>Root And Sudo</title>

            <para>
                The root user in Linux is the user which has
                administrative access to your system. Normal users do not have
                this access for security reasons. However, Kubuntu does not
                enable the root user. Instead, administrative access is given
                to individual users, who may use the "sudo" application to
                perform administrative tasks. The first user account you
                created on your system during installation will, by default,
                have access to sudo. You can restrict and enable sudo access
                to users with the <application>Users and Groups</application>
                application (see <xref linkend="users-and-groups"/> for more
                information).
            </para>

            <para>
                When you run an application that requires root privileges,
                sudo will ask you to input your normal user password. This
                ensures that rogue applications cannot damage your system, and
                serves as a reminder that you are about to perform
                administrative actions which require you to be careful!
            </para>

            <para>
                To use sudo when using the command line, simply type "sudo"
                before the command you wish to run. Sudo will then prompt you
                for your password.
            </para>

            <para>
                Sudo will remember your password for a set amount of time (15
                minutes by default). This feature was designed to allow users
                to perform multiple administrative tasks without being asked
                for a password each time.
            </para>

            <warning>
                <para>
                    Be careful when doing administrative tasks -- you might
                    damage your system!
                </para>
            </warning>
            <para>
                Some other tips for using sudo:
            </para>
            <itemizedlist>
                <listitem>
                    <para>For å bruke en "root" terminal, skriv "sudo -i" på kommandolinjen.</para>
                </listitem>
                <listitem>
                    <para>
                        The entire group of default graphical configuration
                        tools in Kubuntu already uses sudo, so you will be
                        prompted for your password if needed using
                        <application>kdesu</application>, which is a graphical
                        frontend to <application>sudo</application>.
                    </para>
                </listitem>
                <listitem>
                    <para>
                        For more information on the
                        <application>sudo</application> program and the
                        absence of a root user in Kubuntu, read the <ulink url="&wiki-RootSudo;">sudo page</ulink> on the
                        Ubuntu wiki.
                    </para>
                </listitem>
            </itemizedlist>
            <sect2 id="run-application-root" status="complete">
                <title>Start a Program Manually with Root Privileges</title>
                <para>
                    Sometimes it is necessary to run a program with root
                    privileges. This is easy to do with the <application>Run
                        Command</application> dialog.
                </para>
                <warning>
                    <para>
                        Please be careful while running applications with root
                        privileges as you may damage your system. See <xref linkend="root-and-sudo"/> for more details. 
                    </para>
                </warning>
                <procedure>
                    <step>
                        <para>Open the <application>Run Command</application> dialog by typing:
                            <keycombo>
                                <keycap>Alt</keycap>
                                <keycap>F2</keycap>
                            </keycombo>
                        </para>
                    </step>
                    <step>
                        <para>
                            Enter the name of the program you wish to run,
                            <emphasis>prefixed</emphasis> with
                            <application>kdesu</application> and press
                            <keycap>Enter</keycap>. For example, to launch the
                            file manager <application>Konqueror</application>
                            with root privileges, type <screen>kdesu konqueror</screen> 
                        </para>
                    </step>
                </procedure>
            </sect2>
        </sect1>
        <sect1 id="terminals" status="complete">
            <title>Terminal</title>
            <para>Working at the command line is not as daunting a task
                as you would think. There is no special knowledge needed to
                use the command line as it is a program like everything
                else. Most things in Linux can be done using the command line.
                Although there are graphical tools for most programs, sometimes
                they are just not enough. This is where the command line comes
                in handy.
            </para>
            <para>
                The terminal is often called the command prompt
                or the shell.  In days gone by, this was the way the
                user interacted with the computer; however, Linux users have
                found that the use of the shell can be quicker than a
                graphical method and still holds some merit today. Here you
                will learn how to use the terminal.
            </para>
            <para>
                The original use of the terminal was as a file browser, and
                indeed it is still used as a file browser. You can use the 
                terminal as a file browser to navigate your files and undo the
                changes that have been made.
            </para>
            <sect2 id="starting-konsole" status="complete">
                <title>Starting the Terminal</title>
                <para>
                The <application>Konsole</application> can be started by
                choosing 
                <menuchoice>
                    <guimenu>K-menu</guimenu>
                    <guimenuitem>System</guimenuitem>
                    <guimenuitem>Konsole (Terminal Program)</guimenuitem>
                </menuchoice> 
                from the Desktop menu system.
                </para>
            </sect2>
            <sect2 id="common-commands" status="complete">
                <title>Common Commands</title>
                <variablelist>
                    <varlistentry>
                        <term>Vis mapper: - ls</term>
                        <listitem><para>The <application>ls</application> (LiSt) lists files in different colors with full formatted text</para></listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Opprette mapper: - mkdir (mappe navn)</term>
                        <listitem><para><application>mkdir</application> (MaKeDIRectory) kommandoen oppretter mapper.</para></listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Bytte mappe: - cd (/mappe/lokasjon)</term>
                        <listitem><para><application>cd</application> (Change Directory) kommandoen vil bytte mappe fra den gjeldende til den mappen du spesifiserery.</para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Copy Files/Directories: - cp (file or directory name) (to directory or filename)
                        </term>
                        <listitem><para>The <application>cp</application> (CoPy) command will copy any files you specify. The <application>cp -r</application> command will copy any directories you specify.</para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Remove Files/Directories: - rm (file or directory name)</term>
                        <listitem><para>The <application>rm</application> (ReMove) command will delete any filename you specify. The <application>rm -r</application> command will remove any directory you specify, and all its contents.</para></listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Move/Rename Files/Directories: - mv (file or directory name)</term>
                        <listitem><para>The <application>mv</application> (MoVe) command will move/rename any file or directory you specify.</para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Finne filer/mapper: - locate (fil eller mappe navn)</term>
                        <listitem><para>The <application>locate</application> command will search for any filename you specify. It uses an index of the files on your system to work quickly. To update this index, run the command <application>sudo updatedb</application>. This command is run automatically each day if you leave your computer on. It needs to be run with administrative privileges (see <xref linkend="root-and-sudo"/>).</para>
                        </listitem>
                    </varlistentry>
                </variablelist>
                <para>You can also use wildcards to match one or more files, such as "*" (for all files) or "?" 
                    (to match one character).
                </para>
            </sect2>
            <sect2 status="complete">
                <title>Switch to Console mode</title>
                <para>The usual method of command-line access in Kubuntu is to
                    start a terminal (see <xref linkend="starting-konsole"/> above) 
                    , however sometimes it is useful to switch to the real console:</para>
                <procedure>
                    <step>
                        <para>Use the <keycombo>
                                <keycap>Ctrl</keycap>
                                <keycap>Alt</keycap>
                                <keycap>F1</keycap>
                            </keycombo>
                            shortcut keys to switch to the first console.
                        </para>
                    </step>
                    <step>
                        <para>To switch back to Desktop mode, use the <keycombo>
                                <keycap>Ctrl</keycap>
                                <keycap>Alt</keycap>
                                <keycap>F7</keycap>
                            </keycombo> shortcut keys.
                        </para>
                    </step>
                </procedure>
                <note>
                    <para>There are six consoles available. Each one is accessible with the
                        shortcut keys <keycombo>
                            <keycap>Ctrl</keycap>
                            <keycap>Alt</keycap>
                            <keycap>F1</keycap>
                            </keycombo> to <keycombo>
                            <keycap>Ctrl</keycap>
                            <keycap>Alt</keycap>
                            <keycap>F6</keycap>
                        </keycombo>.
                    </para>
                </note>
            </sect2>
            <sect2 status="complete">
                <title>Disable the beep sound in Terminal mode</title>
                <procedure>
                    <step>
                        <para>
                            Start a <application>Konsole</application>
                            session, select: 
                            <menuchoice>
                                <guimenu>K-menu</guimenu>
                                <guisubmenu>System</guisubmenu>
                                <guimenuitem>Konsole (Terminal Program)</guimenuitem>
                            </menuchoice>
                            from the desktop menu system. 
                        </para>
                    </step>
                    <step>
                        <para>
                            <menuchoice>
                                <guimenu>Innstillinger</guimenu>
                                <guisubmenu>Bell</guisubmenu>
                                <guimenuitem>Ingen</guimenuitem>
                            </menuchoice>
                        </para>
                    </step>
                </procedure>
            </sect2>
        </sect1>
        <sect1 id="text-editing" status="complete">
            <title>Tekst redigering</title>
            <para>
                All of the configurations and settings in Linux are saved in
                text files. Even though you most often can edit configurations
                through the graphical interface, you may occasionally have to
                edit them by hand. 
                <application>Kate</application> is the default Kubuntu text
                editor, which can be launched by clicking  
                <menuchoice>
                    <guimenu>K-menu</guimenu>
                    <guisubmenu>Utilities</guisubmenu>
                    <guimenuitem>Kate (Advanced Text Editor)</guimenuitem>
                </menuchoice> 
                    from the desktop menu system.
            </para>
            <para>
                At times in this guide, <application>Kate</application> is run
                from the command line using <application>kdesu</application>, as most
                configuration files require root privileges to alter them. It is recommended
                that you also run <application>kdesu</application> from the
                command line when shown in this guide.
            </para>

            <para>If you need to use a text editor from the command line, you can use <application>nano</application>, which is a simple to use text editor. When running it from the command line, always use the following command, which ensures that the editor will not introduce line breaks:<screen>nano -w</screen>
            </para>
            <para>For more information about how to use <application>nano</application>, refer to the <ulink url="&wiki-Nano;">guide on the wiki</ulink>.
            </para>
            <para>There are also quite a few other terminal-based editors available in Kubuntu, popular ones include <application>VIM</application> and <application>Emacs</application> (the pros and cons of each are cause for much friendly debate within the Linux community). These are often more complex to use than <application>nano</application>, but are also more powerful.
            </para>
        </sect1>
                <sect1 id="users-and-groups" status="complete">
                    <title>Brukere og grupper</title>
                    <para>To add users or groups to your system, you can use the <application>Users And Groups</application> application located in 
                        <menuchoice>
                            <guimenu>K-menu</guimenu>
                            <guimenuitem>System Settings</guimenuitem>
                            <guimenuitem>Users and Groups</guimenuitem>
                        </menuchoice> 
                        .</para>
                    <note>
                        <para>
                            You will need to change into the "Administrator Mode" to make changes to Users and Groups.</para>
                    </note>

                    <para>
                        To add a new user, click on <guilabel>New...</guilabel>, fill in the data fields then click <guilabel>OK</guilabel>.  To edit the properties of each user, click the <guilabel>Modify...</guilabel> button located in the main <guilabel>Users</guilabel> window.
                    </para>

                    <para>
                        To add a new group, select the <guilabel>Groups</guilabel> tab and click <guilabel>New...</guilabel>. Choose a name for the new group and, if you want, change the default value for the <guilabel>Group ID</guilabel>. If you try to allocate a <guilabel>Group ID</guilabel> that is in use, the system will warn you.</para>

                    <para>You can add users to the newly created group by selecting a user from the left menu and clicking on the <guilabel>Add</guilabel> button.  Removing a user from a group is as simple as adding one: select the user from the right menu then click <guilabel>Remove</guilabel>.  When you are ready, click <guilabel>OK</guilabel> and the new group with its users, if inserted, will be created.</para>

                    <para>To edit the properties of a group, from within the <guilabel>Groups</guilabel> main window, choose a group name and click on the <guilabel>Modify...</guilabel> button.</para>

                    <para>To remove a user or a group from the system, select the user or group you want to delete and click <guilabel>Delete...</guilabel>.</para>

                </sect1>
            </chapter>

